/*! For license information please see workbench.bundle.js.LICENSE.txt */
(self.webpackChunk_skybrush_live=self.webpackChunk_skybrush_live||[]).push([[150],{75986:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(3400)},72720:(e,t,r)=>{"use strict";r.d(t,{I:()=>d});r(47941),r(82526),r(41817),r(32165),r(47042),r(68309),r(74916),r(77601),r(21249),r(44048),r(9653),r(43290),r(91038),r(78783),r(66992),r(41539),r(33948);var n=r(64311),o=r.n(n),a=r(98697),i=["algorithm"];function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.algorithm,n=void 0===r?"greedy":r,a=p(t,i);switch(n){case"hungarian":return o()(e);case"greedy":return h(e,a);default:throw new Error("unknown assignment algorithm: "+n)}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.length,n=r>0?Math.min.apply(Math,u(e.map((function(e){return e.length})))):0,o=[],i=[],s=t.threshold;if(0===r||0===n)return[];("number"!=typeof s||s<=0||Number.isNaN(s))&&(s=Number.POSITIVE_INFINITY);var f,p=l(e.entries());try{for(p.s();!(f=p.n()).done;){var d,h=c(f.value,2),y=h[0],m=h[1],v=l(m.entries());try{for(v.s();!(d=v.n()).done;){var g=c(d.value,2),b=g[0],w=g[1];w<=s&&o.push([y,b,w])}}catch(e){v.e(e)}finally{v.f()}}}catch(e){p.e(e)}finally{p.f()}var E,S=(0,a.Z)(o,(function(e){return e[2]})),O=Array.from({length:r}).fill(!1),x=Array.from({length:n}).fill(!1),A=r,k=n,j=l(S);try{for(j.s();!(E=j.n()).done;){var C=c(E.value,3),P=C[0],I=C[1];C[2];if(!(O[P]||x[I]||(i.push([P,I]),O[P]=!0,x[I]=!0,k--,--A&&k)))break}}catch(e){j.e(e)}finally{j.f()}return i}},31182:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(34155);const o={BING:n.env.SKYBRUSH_BING_API_KEY,MAPBOX:n.env.SKYBRUSH_MAPBOX_API_KEY,MAPTILER:n.env.SKYBRUSH_MAPTILER_API_KEY,NEXTZEN:n.env.SKYBRUSH_NEXTZEN_API_KEY}},35823:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>tM});r(66992),r(41539),r(88674),r(78783),r(33948),r(82526),r(41817),r(32165),r(72443),r(39341),r(73706),r(10408),r(30489),r(54747),r(68309),r(68304),r(47042),r(81299),r(12419);var n=r(86010),o=r(4698),a=r(45697),i=r.n(a),c=r(67294),l=r(35800),u=r(77158),s=r(86706),f=r(85611),p=r(78603),d=r(40684),h=r(75834),y=r(91072),m=r(84170),v=r(29525),g=r(41423),b=r(76452),w=r(39720),E=(r(21249),r(91038),r(74916),r(77601),r(2355)),S=r(66688),O=r(28889),x=r(22318),A=r(282),k=r(32615),j=function(e){var t=e.dirty,r=e.form,n=e.label,o=e.onSubmit;return c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(k.Z,{status:t?"warning":"success"},"".concat(n||"Form",t?" changed; do not forget to save.":" saved.")),r&&c.createElement(c.Fragment,null,c.createElement(A.Z,{disabled:!t,onClick:function(){return r.reset()}},"Reset"),c.createElement(A.Z,{color:"primary",disabled:!t,onClick:o},"Save")))};j.propTypes={dirty:i().bool.isRequired,form:i().shape({reset:i().func}),label:i().string,onSubmit:i().func};const C=j;var P=r(37665);function I(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var L=[{label:"Mapbox",key:"MAPBOX"},{label:"Maptiler",key:"MAPTILER"}],_=function(e){var t=e.apiKeys,r=e.onSubmit;return c.createElement(S.l0,{initialValues:t,onSubmit:r},(function(e){var t=e.dirty,r=e.form,n=e.handleSubmit;return c.createElement(O.Z,{pt:1,pb:2},L.map((function(e){return c.createElement(O.Z,{key:e.key,py:1},c.createElement(E.nv,{fullWidth:!0,name:e.key,label:"".concat(e.label," API key"),variant:"filled"}))})),c.createElement(x.Z,{variant:"body2",color:"textSecondary"},"Some map tile providers work without an API key; in this case, a \n          default API key is used. This API key is shared between all \n          users. We make no guarantees about the availability of map tiles if\n          you use the default shared API key."),c.createElement(O.Z,{pb:2}),c.createElement(C,{dirty:t,form:r,label:"API keys",onSubmit:n}))}))};_.propTypes={apiKeys:i().object,onSubmit:i().func};const Z=(0,s.$j)((function(e){return{apiKeys:e.settings.apiKeys}}),{onSubmit:function(e){var t,r={},n=I(L);try{for(n.s();!(t=n.n()).done;){var o=t.value;r[o.key]=e[o.key]?String(e[o.key]):""}}catch(e){n.e(e)}finally{n.f()}return(0,P.IA)("apiKeys",r)}})(_);r(47941),r(57327),r(38880),r(49337);var N=r(13258),D=r(64436),R=r(30553),F=r(6562),M=r(96394),U=r(85639),G=r(26209),V=r(75491),B=r(23302),W=(r(19601),r(92222),r(50576)),z=r(7397),H=r(17812),q=r(39803),Y=r(35996),$=r(7371);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}var X=["onChange","value"];function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q.apply(this,arguments)}function J(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=le(e);if(t){var o=le(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ie(this,r)}}function ie(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ce(e)}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}(a,e);var t,r,n,o=ae(a);function a(){var e;re(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ue(ce(e=o.call.apply(o,[this].concat(r))),"state",{dirty:!1,error:void 0,originalText:void 0,text:void 0}),ue(ce(e),"_onBlur",(function(t){e._onMaybeCommitValue({text:t.target.value})})),ue(ce(e),"_onChange",(function(t){e._updateValueFromText(t.target.value)})),ue(ce(e),"_onClearField",(function(){e._updateValueFromText("",{commit:!0})})),ue(ce(e),"_onKeyDown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._updateValueFromText(t.target.value,{commit:!0}))})),ue(ce(e),"_onMaybeCommitValue",(function(t){var r=t.mounted,n=void 0===r||r,o=t.text,a=ee(e._validate(o),2),i=a[0],c=a[1];if(i){var l=e.props,u=l.onChange,s=l.value;u&&!(0,W.default)(s,c)&&u(c),n&&e._reset()}})),ue(ce(e),"_onMouseDownOnButton",(function(e){e.preventDefault()})),ue(ce(e),"_reset",(function(){e.setState({dirty:!1,text:void 0})})),ue(ce(e),"_updateValueFromText",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.commit;e.setState((function(e){return t===e.originalText?{dirty:!1,text:void 0}:{dirty:!0,text:t}})),n?e._onMaybeCommitValue({text:t,mounted:!0}):e._validate(t)})),ue(ce(e),"_validate",(function(t){var r=e.props.required,n=(0,$.ie)(t),o=(""!==t||r)&&void 0===n;return e.setState({error:o?"Not a valid coordinate":void 0}),[!o,n]})),e}return t=a,n=[{key:"getDerivedStateFromProps",value:function(e){return{originalText:(0,$.O_)(e.value)}}}],(r=[{key:"componentWillUnmount",value:function(){this.state.dirty&&this._onMaybeCommitValue({text:this.state.text,mounted:!1})}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.value,J(e,X)),r=this.state,n=r.dirty,o=r.error,a=r.originalText,i=r.text,l=n?i:a,u=l?c.createElement(z.Z,{position:"end"},c.createElement(H.Z,{"aria-label":"Clear field",edge:"end",tabIndex:-1,onClick:this._onClearField,onMouseDown:this._onMouseDownOnButton},c.createElement(Y.default,null))):null;return c.createElement(q.Z,Q({value:l,error:Boolean(o),InputProps:{endAdornment:u},onBlur:this._onBlur,onChange:this._onChange,onKeyDown:this._onKeyDown},t))}}])&&ne(t.prototype,r),n&&ne(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);ue(se,"propTypes",{onChange:i().func,required:i().bool,value:i().arrayOf(i().number)}),ue(se,"defaultProps",{required:!1,value:void 0});r(15306),r(61874),r(9653),r(44048);function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}var pe=["onChange","value"];function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},de.apply(this,arguments)}function he(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},be(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Oe(e);if(t){var o=Oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ee(this,r)}}function Ee(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}function xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(a,e);var t,r,n,o=we(a);function a(){var e;ve(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return xe(Se(e=o.call.apply(o,[this].concat(r))),"state",{dirty:!1,error:void 0,originalText:void 0,text:void 0}),xe(Se(e),"_onBlur",(function(t){e._onMaybeCommitValue({text:t.target.value})})),xe(Se(e),"_onChange",(function(t){e._updateValueFromText(t.target.value)})),xe(Se(e),"_onClearField",(function(){e._updateValueFromText("0",{commit:!0})})),xe(Se(e),"_onKeyDown",(function(t){"Enter"===t.key&&(t.preventDefault(),e._updateValueFromText(t.target.value,{commit:!0}))})),xe(Se(e),"_onMaybeCommitValue",(function(t){var r=t.mounted,n=void 0===r||r,o=t.text,a=ye(e._validate(o),2),i=a[0],c=a[1];if(i){var l=e.props,u=l.onChange,s=l.value;u&&s!==c&&u(c),n&&e._reset()}})),xe(Se(e),"_onMouseDownOnButton",(function(e){e.preventDefault()})),xe(Se(e),"_reset",(function(){e.setState({dirty:!1,text:void 0})})),xe(Se(e),"_updateValueFromText",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.commit;e.setState((function(e){return t===e.originalText?{dirty:!1,text:void 0}:{dirty:!0,text:t}})),n?e._onMaybeCommitValue({text:t,mounted:!0}):e._validate(t)})),xe(Se(e),"_validate",(function(t){var r=Number.parseFloat(t),n=Number.isNaN(r);return e.setState({error:n?"Not a valid angle":void 0}),[!n,(0,$.LW)(r)]})),e}return t=a,n=[{key:"getDerivedStateFromProps",value:function(e){return{originalText:(t=e.value,(0,$.LW)(t).replace(",",".")+"\xb0")};var t}}],(r=[{key:"componentWillUnmount",value:function(){var e=this.state,t=e.dirty,r=e.originalText,n=e.text,o=t?n:r;this._onMaybeCommitValue({mounted:!1,text:o})}},{key:"render",value:function(){var e=this.props,t=(e.onChange,e.value,he(e,pe)),r=this.state,n=r.dirty,o=r.error,a=r.originalText,i=r.text,l=n?i:a,u=l?c.createElement(z.Z,{position:"end"},c.createElement(H.Z,{"aria-label":"Clear field",edge:"end",tabIndex:-1,onClick:this._onClearField,onMouseDown:this._onMouseDownOnButton},c.createElement(Y.default,null))):null;return c.createElement(q.Z,de({error:Boolean(o),value:l,InputProps:{endAdornment:u},onBlur:this._onBlur,onChange:this._onChange,onKeyDown:this._onKeyDown},t))}}])&&ge(t.prototype,r),n&&ge(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);xe(Ae,"propTypes",{onChange:i().func,value:i().oneOfType([i().string,i().number])}),xe(Ae,"defaultProps",{value:void 0});var ke=function(e){var t=e.orientation,r=e.orientationLabel,n=e.origin,o=e.originLabel,a=e.type,i=e.onOrientationChanged,l=e.onOriginChanged,u=e.onTypeChanged;return c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(D.Z,{style:{minWidth:90},variant:"filled"},c.createElement(M.Z,{htmlFor:"coordinate-system-type"},"Type"),c.createElement(G.Z,{disabled:!u,value:a,inputProps:{id:"coordinate-system-type"},onChange:u},c.createElement(U.Z,{value:"neu"},"NEU"),c.createElement(U.Z,{value:"nwu"},"NWU"))),c.createElement(O.Z,{p:1}),c.createElement(se,{fullWidth:!0,label:o,value:n,variant:"filled",onChange:l}),c.createElement(O.Z,{p:1}),c.createElement(Ae,{style:{minWidth:160},label:r,value:t,variant:"filled",onChange:i}))};ke.propTypes={onOrientationChanged:i().func,onOriginChanged:i().func,onTypeChanged:i().func,orientation:i().oneOfType([i().number,i().string]),orientationLabel:i().string,origin:i().arrayOf(i().number),originLabel:i().string,type:i().string.isRequired},ke.defaultProps={originLabel:"Origin",orientationLabel:"Orientation (X+ axis)"};const je=ke;var Ce=r(84042),Pe=r(14841),Ie=r(84038),Te=r(58744),Le=["t"];function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var De=[Ie.mY.DEGREES,Ie.mY.DEGREES_MINUTES,Ie.mY.DEGREES_MINUTES_SECONDS,Ie.mY.SIGNED_DEGREES,Ie.mY.SIGNED_DEGREES_MINUTES,Ie.mY.SIGNED_DEGREES_MINUTES_SECONDS],Re=function(e){var t=e.t,r=Ne(e,Le);return c.createElement(c.Fragment,null,c.createElement(O.Z,{my:2},c.createElement(D.Z,{fullWidth:!0,variant:"filled"},c.createElement(M.Z,{id:"language-selector-label"},t("settings.display.language")),c.createElement(G.Z,{labelId:"language-selector-label",name:"language",value:r.language,onChange:r.onFieldChanged},Pe.m.map((function(e){var t=e.code,r=e.label;return c.createElement(U.Z,{key:t,value:t},r)}))))),c.createElement(O.Z,{my:2},c.createElement(B.Z,{value:r.theme,onChange:r.onFieldChanged})),c.createElement(O.Z,{my:2},c.createElement(D.Z,{fullWidth:!0,variant:"filled"},c.createElement(M.Z,{id:"coordinate-format-label"},t("settings.display.coordinateFormat")),c.createElement(G.Z,{labelId:"coordinate-format-label",name:"coordinateFormat",value:r.coordinateFormat,onChange:r.onFieldChanged},De.map((function(e){return c.createElement(U.Z,{key:e,value:e},(0,Ie.ON)(e))})))),c.createElement(F.Z,null,c.createElement(V.Z,null,t("settings.display.mapWidgets")),c.createElement(R.Z,{label:t("settings.display.showMouseCoordinates"),control:c.createElement(N.Z,{checked:r.showMouseCoordinates,name:"showMouseCoordinates",onChange:r.onCheckboxToggled})}),c.createElement(R.Z,{label:t("settings.display.showScaleLine"),control:c.createElement(N.Z,{checked:r.showScaleLine,name:"showScaleLine",onChange:r.onCheckboxToggled})})),c.createElement(F.Z,null,c.createElement(V.Z,null,t("settings.display.flatEarthCoordinateSystem")),c.createElement(je,{origin:r.origin,originLabel:t("settings.display.mapOrigin"),orientation:r.orientation,type:r.coordinateSystemType,onOrientationChanged:r.onOrientationChanged,onOriginChanged:r.onOriginChanged,onTypeChanged:r.onCoordinateSystemTypeChanged})),c.createElement(F.Z,null,c.createElement(V.Z,null,t("settings.display.operationModes")),c.createElement(R.Z,{label:t("settings.display.optimizeForSingleUAV"),control:c.createElement(N.Z,{checked:r.optimizeForSingleUAV,disabled:o.Z.optimizeForSingleUAV.force,name:"optimizeForSingleUAV",onChange:r.onCheckboxToggled})}),c.createElement(R.Z,{label:t("settings.display.optimizeUIForTouch"),control:c.createElement(N.Z,{checked:r.optimizeUIForTouch,disabled:o.Z.optimizeUIForTouch.force,name:"optimizeUIForTouch",onChange:r.onCheckboxToggled})})),c.createElement(F.Z,null,c.createElement(V.Z,null,t("settings.display.miscellaneous")),c.createElement(R.Z,{label:t("settings.display.hideInactiveSegmentsOnDarkLCD"),control:c.createElement(N.Z,{checked:r.hideInactiveSegmentsOnDarkLCD,name:"hideInactiveSegmentsOnDarkLCD",onChange:r.onCheckboxToggled})}),c.createElement(R.Z,{label:t("settings.display.enableExperimentalFeatures"),control:c.createElement(N.Z,{checked:r.experimentalFeaturesEnabled,name:"experimentalFeaturesEnabled",onChange:r.onCheckboxToggled})}))))};Re.propTypes={coordinateFormat:i().oneOf(De),coordinateSystemType:i().oneOf(["neu","nwu"]),experimentalFeaturesEnabled:i().bool,language:i().string,origin:i().arrayOf(i().number),onCheckboxToggled:i().func,onCoordinateSystemTypeChanged:i().func,onFieldChanged:i().func,onOriginChanged:i().func,onOrientationChanged:i().func,optimizeForSingleUAV:i().bool,optimizeUIForTouch:i().bool,orientation:i().number,hideInactiveSegmentsOnDarkLCD:i().bool,showMouseCoordinates:i().bool,showScaleLine:i().bool,t:i().func,theme:i().oneOf(["auto","dark","light"])};const Fe=(0,s.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){Ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({coordinateSystemType:e.map.origin.type,origin:e.map.origin.position,orientation:(0,Te.Xq)(e)},e.settings.display)}),(function(e){return{onCheckboxToggled:function(t){e((0,P.IA)("display",Ze({},t.target.name,t.target.checked)))},onCoordinateSystemTypeChanged:function(t){e((0,Ce.y_)(t.target.value))},onFieldChanged:function(t){e((0,P.IA)("display",Ze({},t.target.name,t.target.value)))},onOriginChanged:function(t){e((0,Ce.ZG)(t))},onOrientationChanged:function(t){e((0,Ce.FY)(t||0))}}}))((0,y.Zh)()(Re));r(73210);var Me=r(45150),Ue=r(55702);function Ge(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ve(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(69600);var Be=r(27601),We=r(22222);function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ye(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){if(e){if("string"==typeof e)return Ke(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ke(e,t):void 0}}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xe=(0,We.createSelector)((function(e){return e.preflight.groups}),Me.vA),Qe=(0,We.createSelector)((function(e){return e.preflight.items}),Me.vA),Je=(0,We.createSelector)(Xe,Qe,(function(e,t){var r,n=t.filter((function(e){return(0,Be.default)(e.groupId)})),o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=$e(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(e);try{var a=function(){var e=r.value,o=t.filter((function(t){return t.groupId===e.id}));o.length>0&&n.push.apply(n,[He({type:"header"},e)].concat(Ye(o)))};for(o.s();!(r=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return n})),et=function(e){return e.preflight.checked},tt=(0,We.createSelector)(Qe,(function(e){return e.preflight.checked}),(function(e,t){return e.length===t.length})),rt=(0,We.createSelector)(Je,(function(e){return e.map((function(e){var t=(e.label||"").trim();return"header"===e.type?"\n".concat(t,":"):t?"- ".concat(t):t})).join("\n").trim()})),nt=function(e){return e.preflight.items.order.length>0},ot=function(e){var t=e.items,r=e.onSubmit;return c.createElement(S.l0,{initialValues:{items:t},onSubmit:r},(function(e){var t=e.dirty,r=e.form,n=e.handleSubmit;return c.createElement(O.Z,{pt:1,pb:2},c.createElement(x.Z,null,"Enter your preferred manual preflight check items, one per line."),c.createElement(O.Z,{py:1},c.createElement(E.nv,{fullWidth:!0,multiline:!0,name:"items",label:"Manual preflight check items",minRows:10,variant:"filled",helperText:"Lines ending with a colon (:) become headings."})),c.createElement(C,{label:"Preflight check items",dirty:t,form:r,onSubmit:n}))}))};ot.propTypes={items:i().string,onSubmit:i().func};const at=(0,s.$j)((function(e){return{items:rt(e)}}),{onSubmit:function(e){var t,r=e.items;return t=r,function(e){var r=[],n=[],o="General",a="group0",i=!0;function c(){i||(r.push({label:o,id:a}),i=!0,a="group".concat(r.length))}var l,u=Ge((t||"").split("\n"));try{for(u.s();!(l=u.n()).done;){var s=l.value;if(0!==(s=s.trim()).length)if(":"===s.charAt(s.length-1))c(),o=s.slice(0,-1).trim();else{for(;"-"===s.charAt(0)||" "===s.charAt(0);)s=s.slice(1);s.length>0&&(n.push({label:s,id:"item".concat(n.length),groupId:a}),i=!1)}}}catch(e){u.e(e)}finally{u.f()}c(),r=(0,Me.U9)(r),n=(0,Me.U9)(n),e((0,Ue.mS)({groups:r,items:n}))}}})(ot);var it=r(18124),ct=r(16390),lt=r(62576),ut=r(62822),st=r(50998),ft=r(46869),pt=r(95757),dt=r(9570),ht=r(58713),yt=r(60413);var mt=[],vt=function(e){var t=e.settings.localServer.searchPath;return Array.isArray(t)?t:mt},gt=function(e){return e.localServer.pathScan.result},bt=(0,We.createSelector)(gt,(function(e){return"string"==typeof e&&e.length>0})),wt=(0,We.createSelector)((function(e){return e.dialogs.serverSettings}),(function(e){return e.settings.localServer}),bt,(function(e,t,r){return window.bridge&&window.bridge.localServer&&t.enabled&&("localhost"===(n=e.hostName)||(0,yt.isLoopback)(n))&&e.active&&r;var n})),Et=(r(43371),r(95477)),St=r(18334),Ot=r(96984),xt=r(20907),At=r(41120),kt=r(10637),jt=r(21727),Ct=r(73435);function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pt.apply(this,arguments)}var It=(0,At.Z)((function(e){return{root:{backgroundColor:(0,Ct.isThemeDark)(e)?e.palette.grey.A400:e.palette.grey[200],paddingTop:6}}}),{name:"DialogHeaderListItem"}),Tt=Object.freeze({success:c.createElement(ft.Z,{style:{color:St.Z[500],margin:"0 0 0 19px"}},c.createElement(kt.default,null)),warning:c.createElement(ft.Z,{style:{color:Ot.Z[700],margin:"0 0 0 19px"}},c.createElement(jt.Z,null)),inProgress:c.createElement(ft.Z,{style:{margin:"0 0 0 19px"}},c.createElement(Et.Z,{variant:"indeterminate",color:"secondary",size:32})),error:c.createElement(ft.Z,{style:{color:xt.Z[500],margin:"0 0 0 19px"}},c.createElement(Y.default,null))});const Lt=function(e){var t=It();return c.createElement(st.Z,Pt({divider:!0,className:t.root},e))};var _t=r(75453);function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dt=function(e){var t=e.error,r=e.notFoundMessage,n=e.onRequestReload,o=e.result,a=e.scanning,i=e.scanningMessage,l=e.successMessage;return c.createElement(Lt,{button:!0,onClick:n},a?Tt.inProgress:t?Tt.error:o?Tt.success:Tt.warning,c.createElement(pt.Z,{primary:t||(o?l:a?i:r),secondary:a?"Looking for server":o||"Click to scan again"}))};Dt.propTypes={error:i().string,notFoundMessage:i().string,onRequestReload:i().func,result:i().string,scanning:i().bool,scanningMessage:i().string,successMessage:i().string},Dt.defaultProps={notFoundMessage:"Server executable not found.",scanningMessage:"Please wait\u2026",successMessage:"Server executable found successfully."};const Rt=(0,s.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(r),!0).forEach((function(t){Nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.localServer.pathScan)}),{onRequestReload:_t.CB})(Dt);function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}var Mt,Ut,Gt;function Vt(){Vt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Ft(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function Bt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){Ht(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qt=function(e){var t=e.cliArguments,r=e.enabled,n=e.onDisable,o=e.onEnable,a=e.onSearchPathChanged,i=e.onSelectSearchPath,l=e.onTextFieldChanged,u=e.searchPath;return c.createElement("div",{style:{position:"relative",top:-8}},c.createElement(ut.Z,{dense:!0,disablePadding:!0,style:{margin:"0 -24px"}},c.createElement(Rt,null),c.createElement(st.Z,{button:!0,disableRipple:!0,onClick:r?n:o},c.createElement(ft.Z,{style:{margin:"0 17px 0 2px"}},c.createElement(dt.Z,{checked:r})),c.createElement(pt.Z,{primary:"Launch local server automatically",secondary:"Only if the application is connecting to localhost"}))),c.createElement(F.Z,null,c.createElement(O.Z,{mt:1},c.createElement(q.Z,{fullWidth:!0,id:"cliArguments",label:"Command line arguments",value:t,variant:"filled",helperText:"These arguments will be supplied to the local server upon startup.",onChange:l})),c.createElement(O.Z,{mt:1,display:"flex",flexDirection:"row",alignItems:"baseline"},c.createElement(q.Z,{fullWidth:!0,multiline:!0,id:"searchPath",label:"Search path",value:u,variant:"filled",helperText:"Enter directories to search for the Skybrush server executable, one per line.",onChange:a}),i&&c.createElement(ht.default,{content:"Select folder containing server executable"},c.createElement(H.Z,{onClick:i},c.createElement(lt.Z,null))))))};qt.propTypes={cliArguments:i().string,enabled:i().bool,onDisable:i().func,onEnable:i().func,onSearchPathChanged:i().func,onSelectSearchPath:i().func,onTextFieldChanged:i().func,searchPath:i().string};const Yt=(0,s.$j)((function(e){return zt(zt({},e.settings.localServer),{},{searchPath:vt(e).join("\n")})}),{onCheckboxToggled:function(e){return(0,P.IA)("localServer",Ht({},e.target.name,e.target.checked))},onDisable:function(){return(0,P.IA)("localServer",{enabled:!1})},onEnable:function(){return(0,P.IA)("localServer",{enabled:!0})},onSearchPathChanged:function(e){var t=e.target.value.split("\n").map((function(e){return(0,ct.Z)(e)})),r=t.indexOf("");return(0,it.Z)(t,(function(e,t){return!e&&t>r})),(0,P.IA)("localServer",{searchPath:t})},onSelectSearchPath:null!==(Mt=window.bridge)&&void 0!==Mt&&Mt.isElectron&&null!==(Ut=window.bridge)&&void 0!==Ut&&null!==(Gt=Ut.localServer)&&void 0!==Gt&&Gt.selectPath?function(){return function(){var e,t=(e=Vt().mark((function e(t,r){var n,o,a;return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vt(r()),o=Array.isArray(n)&&n.length>0?n[0]:null,e.next=4,window.bridge.localServer.selectPath(o);case 4:"string"==typeof(a=e.sent)&&a.length>0&&t((0,P.IA)("localServer",{searchPath:[a]}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Bt(a,n,o,i,c,"next",e)}function c(e){Bt(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()}:null,onTextFieldChanged:function(e){return(0,P.IA)("localServer",Ht({},e.target.id,e.target.value))}})(qt);var $t=r(34206);function Kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(r),!0).forEach((function(t){Qt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jt=[{id:"auto",label:"Automatic"},{id:"outdoor",label:"Outdoor"},{id:"indoor",label:"Indoor"}],er=[{id:"light",label:"Light"},{id:"dark",label:"Dark"}],tr=[{id:"none",label:"No grid"},{id:"1x1",label:"10x10 meters"},{id:"2x2",label:"20x20 meters"}],rr=function(e){return c.createElement(O.Z,{mb:2},c.createElement(F.Z,null,c.createElement(V.Z,null,"Environment"),c.createElement(O.Z,{display:"flex"},c.createElement(D.Z,{fullWidth:!0,variant:"filled"},c.createElement(M.Z,{id:"threed-scenery-label"},"Scenery"),c.createElement(G.Z,{labelId:"threed-scenery-label",name:"scenery",value:e.scenery,onChange:e.onFieldChanged},Jt.map((function(e){return c.createElement(U.Z,{key:e.id,value:e.id},e.label)})))),c.createElement(O.Z,{px:1}),c.createElement(D.Z,{fullWidth:!0,variant:"filled"},c.createElement(M.Z,{id:"threed-lighting-label"},"Lighting"),c.createElement(G.Z,{labelId:"threed-lighting-label",name:"lighting",value:e.lighting,onChange:e.onFieldChanged},er.map((function(e){return c.createElement(U.Z,{key:e.id,value:e.id},e.label)})))),c.createElement(O.Z,{px:1}),c.createElement(D.Z,{fullWidth:!0,variant:"filled"},c.createElement(M.Z,{id:"threed-grid-label"},"Grid"),c.createElement(G.Z,{labelId:"threed-grid-label",name:"grid",value:e.grid,onChange:e.onFieldChanged},tr.map((function(e){return c.createElement(U.Z,{key:e.id,value:e.id},e.label)}))))),c.createElement(R.Z,{label:"Show coordinate system axes",control:c.createElement(N.Z,{checked:e.showAxes,name:"showAxes",onChange:e.onCheckboxToggled})}),c.createElement(R.Z,{label:"Show home positions",control:c.createElement(N.Z,{checked:e.showHomePositions,name:"showHomePositions",onChange:e.onCheckboxToggled})}),c.createElement(R.Z,{label:"Show landing positions",control:c.createElement(N.Z,{checked:e.showLandingPositions,name:"showLandingPositions",onChange:e.onCheckboxToggled})}),c.createElement(R.Z,{label:"Show trajectories of selected UAVs",control:c.createElement(N.Z,{checked:e.showTrajectoriesOfSelection,name:"showTrajectoriesOfSelection",onChange:e.onCheckboxToggled})})),c.createElement(F.Z,null,c.createElement(V.Z,null,"Rendering"),c.createElement(R.Z,{label:"Show rendering statistics (advanced)",control:c.createElement(N.Z,{checked:e.showStatistics,name:"showStatistics",onChange:e.onCheckboxToggled})})))};rr.propTypes={grid:i().string,lighting:i().string,onCheckboxToggled:i().func,onFieldChanged:i().func,scenery:i().string,showAxes:i().bool,showHomePositions:i().bool,showLandingPositions:i().bool,showTrajectoriesOfSelection:i().bool,showStatistics:i().bool};const nr=(0,s.$j)((function(e){return Xt(Xt({},e.settings.threeD),{},{scenery:(0,$t.y3)(e),lighting:(0,$t.yI)(e)})}),(function(e){return{onCheckboxToggled:function(t){e((0,P.IA)("threeD",Qt({},t.target.name,t.target.checked)))},onFieldChanged:function(t){e((0,P.IA)("threeD",Qt({},t.target.name,t.target.value)))}}}))(rr);r(9494),r(35192);var or=r(55517),ar=r(8920),ir=r(76406);function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){ur(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ur(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sr=[Ie.ol.VOLTAGE,Ie.ol.PERCENTAGE,Ie.ol.FORCED_PERCENTAGE],fr=function(e){var t=e.autoRemove,r=e.criticalVoltageThreshold,n=e.defaultBatteryCellCount,o=e.forgetThreshold,a=e.fullChargeVoltage,i=e.goneThreshold,l=e.lowVoltageThreshold,u=e.onCheckboxToggled,s=e.onDistanceFieldUpdated,f=e.onEnumFieldUpdated,p=e.onIntegerFieldUpdated,d=e.onVoltageFieldUpdated,h=e.placementAccuracy,y=e.preferredBatteryDisplayStyle,m=e.t,v=e.takeoffHeadingAccuracy,g=e.warnThreshold,b=(0,ar.Z)();return c.createElement(c.Fragment,null,c.createElement(F.Z,{style:{marginBottom:b.spacing(2)}},c.createElement(D.Z,{style:{alignItems:"center",flexDirection:"row"}},c.createElement(R.Z,{label:m("settings.uavs.warn"),control:c.createElement(N.Z,{checked:!0,style:{visibility:"hidden"}})}),c.createElement(ir.uI,{name:"warnThreshold",min:1,max:3600,value:g,variant:"standard",onChange:p})),c.createElement(D.Z,{style:{alignItems:"center",flexDirection:"row"}},c.createElement(R.Z,{label:m("settings.uavs.gone"),control:c.createElement(N.Z,{checked:!0,style:{visibility:"hidden"}})}),c.createElement(ir.uI,{name:"goneThreshold",min:1,max:3600,value:i,variant:"standard",onChange:p})),c.createElement(D.Z,{style:{alignItems:"center",flexDirection:"row"}},c.createElement(R.Z,{label:m("settings.uavs.forget"),control:c.createElement(N.Z,{checked:Boolean(t),name:"autoRemove",onChange:u})}),c.createElement(ir.uI,{name:"forgetThreshold",min:1,max:3600,value:o,disabled:!t,variant:"standard",onChange:p}))),c.createElement(or.Z,null),c.createElement(O.Z,{my:2},c.createElement(V.Z,null,m("settings.uavs.defaultBatterySettings")),c.createElement(O.Z,{display:"flex",flexDirection:"row",mb:1},c.createElement(ir._r,{fullWidth:!0,label:m("settings.uavs.cellCount"),name:"defaultBatteryCellCount",min:1,max:24,step:1,value:n,onChange:p}),c.createElement(O.Z,{width:b.spacing(2)}),c.createElement(ir.cN,{fullWidth:!0,name:"fullChargeVoltage",label:m("settings.uavs.fullCharge"),min:.1,max:20,step:.1,value:a,onChange:d}),c.createElement(O.Z,{width:b.spacing(2)}),c.createElement(ir.cN,{fullWidth:!0,name:"lowVoltageThreshold",label:m("settings.uavs.lowTreshold"),min:.1,max:20,step:.1,value:l,onChange:d}),c.createElement(O.Z,{width:b.spacing(2)}),c.createElement(ir.cN,{fullWidth:!0,name:"criticalVoltageThreshold",label:m("settings.uavs.criticalTreshold"),min:.1,max:20,step:.1,value:r,onChange:d})),c.createElement(O.Z,{display:"flex",flexDirection:"row",mb:1},c.createElement(D.Z,{fullWidth:!0,variant:"filled"},c.createElement(M.Z,{id:"uav-battery-display-style"},m("settings.uavs.batteryDisplayStyle")),c.createElement(G.Z,{labelId:"uav-battery-display-style",name:"preferredBatteryDisplayStyle",value:y,onChange:f},sr.map((function(e){return c.createElement(U.Z,{key:e,value:e},(0,Ie.KZ)(e))})))))),c.createElement(or.Z,null),c.createElement(O.Z,{my:2},c.createElement(V.Z,null,m("settings.uavs.missionSetup")),c.createElement(O.Z,{display:"flex",flexDirection:"row",mb:1},c.createElement(ir.vd,{fullWidth:!0,name:"placementAccuracy",label:m("settings.uavs.desiredPlacementAccuracy"),min:.5,max:20,step:.5,value:h,onChange:s}),c.createElement(O.Z,{width:b.spacing(2)}),c.createElement(ir.zb,{fullWidth:!0,name:"takeoffHeadingAccuracy",label:m("settings.uavs.desiredHeadingAccuracy"),min:1,max:45,step:1,value:v,onChange:p})),c.createElement(x.Z,{variant:"body2",color:"textSecondary"},m("settings.uavs.missionSetupDescription"))))};fr.propTypes={autoRemove:i().bool,criticalVoltageThreshold:i().number,defaultBatteryCellCount:i().number,forgetThreshold:i().number,fullChargeVoltage:i().number,goneThreshold:i().number,lowVoltageThreshold:i().number,onCheckboxToggled:i().func,onDistanceFieldUpdated:i().func,onEnumFieldUpdated:i().func,onIntegerFieldUpdated:i().func,onVoltageFieldUpdated:i().func,placementAccuracy:i().number,preferredBatteryDisplayStyle:i().oneOf(sr),t:i().func,takeoffHeadingAccuracy:i().number,warnThreshold:i().number},fr.defaultProps={preferredBatteryDisplayStyle:Ie.ol.VOLTAGE};const pr=(0,s.$j)((function(e){return lr(lr({},e.settings.uavs),{},{placementAccuracy:(0,$t.eD)(e),takeoffHeadingAccuracy:(0,$t.sx)(e)})}),(function(e){return{onCheckboxToggled:function(t){e((0,P.IA)("uavs",ur({},t.target.name,t.target.checked)))},onDistanceFieldUpdated:function(t){var r=Math.round(1e3*Number.parseFloat(t.target.value));r>0&&e((0,P.IA)("uavs",ur({},t.target.name,r)))},onEnumFieldUpdated:function(t){e((0,P.IA)("uavs",ur({},t.target.name,t.target.value)))},onIntegerFieldUpdated:function(t){var r=Number.parseInt(t.target.value,10);r>0&&e((0,P.IA)("uavs",ur({},t.target.name,r)))},onVoltageFieldUpdated:function(t){var r=Number.parseFloat(t.target.value);r>0&&Number.isFinite(r)&&e((0,w._v)(t.target.name,r))}}}))((0,y.Zh)()(fr));var dr={apiKeys:c.createElement(Z,null),display:c.createElement(Fe,null),preflight:c.createElement(at,null),server:c.createElement(Yt,null),threeD:c.createElement(nr,null),uavs:c.createElement(pr,null)},hr=function(e){var t=e.onClose,r=e.onTabSelected,n=e.open,o=e.selectedTab,a=e.t;return c.createElement(m.Z,{fullWidth:!0,open:n,maxWidth:"sm",onClose:t},c.createElement(b.Z,{alignment:"center",value:o,onChange:r},c.createElement(g.Z,{value:"display",label:a("settings.tabs.display")}),c.createElement(g.Z,{value:"threeD",label:"3D View"}),c.createElement(g.Z,{value:"uavs",label:a("settings.tabs.uavs")}),c.createElement(g.Z,{value:"preflight",label:"Preflight"}),window.bridge&&window.bridge.isElectron?c.createElement(g.Z,{value:"server",label:"Server"}):null,c.createElement(g.Z,{value:"apiKeys",label:"API keys"})),c.createElement(v.Z,{style:{minHeight:200}},dr[o]))};hr.propTypes={onClose:i().func,onTabSelected:i().func,open:i().bool,selectedTab:i().string,t:i().func},hr.defaultProps={open:!1,selectedTab:"auto"};var yr=(0,s.$j)((function(e){return e.dialogs.appSettings}),(function(e){return{onClose:function(){e((0,w.Pb)())},onTabSelected:function(t,r){e((0,w.Hy)(r))}}}))((0,y.Zh)()(hr));const mr=yr;var vr=r(66856),gr=r(28465),br=r(62879),wr=r(59068);var Er=function(e){return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),c.createElement("div",null,"Not implemented yet")};Er.propTypes={feature:i().object.isRequired,featureId:i().string.isRequired};const Sr=(0,s.$j)(null,{})(Er);var Or=r(32779),xr=r(98829),Ar=r(64209),kr=function(e){var t=e.feature,r=e.onSetFeatureColor,n=e.onSetFeatureLabel,o=e.onToggleFeatureFillVisible,a=e.onToggleFeatureMeasurementVisible,i=e.onToggleFeaturePointsVisible,l=e.onToggleFeatureVisibility,u=e.optimizeUIForTouch,s=e.shouldShowPoints;return c.createElement("div",null,c.createElement("div",{style:{display:"flex",padding:"1em 0"}},c.createElement("div",{style:{flex:"auto"}},c.createElement(q.Z,{fullWidth:!0,autoFocus:!u,label:"Label",variant:"filled",value:t.label||"",onChange:n})),c.createElement(dt.Z,{checked:t.visible,color:"primary",style:{flex:"none"},onChange:l})),c.createElement(Or.Z,{color:t.color||xr.lr,onChangeComplete:r}),c.createElement("div",null,(0,Ar.Ku)(t.type)&&c.createElement(R.Z,{control:c.createElement(N.Z,{checked:t.filled,color:"primary",onChange:o}),label:"Fill interior"}),(0,Ar.r3)(t.type)&&c.createElement(R.Z,{control:c.createElement(N.Z,{checked:s,indeterminate:s&&!t.showPoints,color:"primary",onChange:i}),label:"Show individual points"}),(0,Ar.Ci)(t.type)&&c.createElement(R.Z,{control:c.createElement(N.Z,{checked:t.measure,color:"primary",onChange:a}),label:"Show measurements"})))};kr.propTypes={feature:i().object.isRequired,onSetFeatureColor:i().func,onSetFeatureLabel:i().func,onToggleFeatureFillVisible:i().func,onToggleFeatureMeasurementVisible:i().func,onToggleFeaturePointsVisible:i().func,onToggleFeatureVisibility:i().func,optimizeUIForTouch:i().bool,shouldShowPoints:i().bool};const jr=(0,s.$j)((function(e,t){var r=t.featureId;return{optimizeUIForTouch:(0,$t.f8)(e),shouldShowPoints:(0,br.Z4)(e,r)}}),(function(e,t){var r=t.featureId;return{onSetFeatureColor:function(t){e((0,wr.Rq)({id:r,color:t.hex}))},onSetFeatureLabel:function(t){e((0,wr.GX)({id:r,name:t.target.value}))},onToggleFeatureFillVisible:function(t,n){e((0,wr.o)({id:r,filled:n}))},onToggleFeatureMeasurementVisible:function(t,n){e((0,wr.gG)({id:r,measure:n}))},onToggleFeaturePointsVisible:function(t,n){e((0,wr.cu)({id:r,visible:n}))},onToggleFeatureVisibility:function(t,n){e((0,wr.Co)({id:r,visible:n}))}}}))(kr);function Cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(r),!0).forEach((function(t){Ir(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tr=function(e){var t,r=e.feature,n=e.featureId,o=e.onClose,a=e.onRemoveFeature,i=e.onTabSelected,l=e.open,u=e.selectedTab,s=[];if(r)if("general"===u)t=c.createElement(v.Z,null,c.createElement(jr,{feature:r,featureId:n}));else t=c.createElement(v.Z,null,c.createElement(Sr,{feature:r,featureId:n}));else t=c.createElement(v.Z,null,c.createElement("p",null,"Feature does not exist"));return s.push(c.createElement(A.Z,{key:"remove",color:"secondary",disabled:!r,onClick:a},"Remove"),c.createElement(A.Z,{key:"close",onClick:o},"Close")),c.createElement(m.Z,{fullWidth:!0,open:l,maxWidth:"sm",onClose:o},c.createElement(b.Z,{value:u,onChange:i},c.createElement(g.Z,{value:"general",label:"General"})),t,c.createElement(vr.Z,null,s))};Tr.propTypes={feature:i().object,featureId:i().string,onClose:i().func,onRemoveFeature:i().func,onTabSelected:i().func,open:i().bool.isRequired,selectedTab:i().string},Tr.defaultProps={selectedTab:"general"};var Lr=(0,s.$j)((function(e){var t=(0,br.yW)(e);return{featureId:t,selectedTab:(0,br.Iy)(e),feature:e.features.byId[t],open:(0,br.uC)(e)}}),(function(e){return{onClose:function(){e((0,gr.W1)())},onRemoveFeature:function(t){e((0,wr.hW)([t])),e((0,gr.W1)())},onTabSelected:function(t,r){e((0,gr.xH)(r))}}}),(function(e,t){return Pr(Pr(Pr({},e),t),{},{onRemoveFeature:function(){return t.onRemoveFeature(e.featureId)}})}))(Tr);const _r=Lr;var Zr=r(93600),Nr=r(52300),Dr=r(58147),Rr=r.n(Dr),Fr=r(8791),Mr=(r(40561),r(65780)),Ur=r.n(Mr),Gr=r(98697),Vr=r(66090),Br=r(83402);function Wr(e){return Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wr(e)}function zr(){zr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Wr(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function Hr(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function qr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Hr(a,n,o,i,c,"next",e)}function c(e){Hr(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Yr(e){return $r.apply(this,arguments)}function $r(){return $r=qr(zr().mark((function e(t){var r,n,o,a,i,c,l,u,s,f,p,d,h,y,m,v,g,b,w,E,S,O,x,A,k,j=arguments;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=j.length>1&&void 0!==j[1]?j[1]:{},n=r.method,"threshold"!==(o=void 0===n?"single":n)){e.next=17;break}return c=5,l=function(){return Yr(t,{method:"single"})},e.next=7,l();case 7:a=e.sent;case 8:if(!(c>0&&a.roundTripTime>Br.b)){e.next=16;break}return c--,e.next=12,l();case 12:(i=e.sent).roundTripTime<a.roundTripTime&&(a=i),e.next=8;break;case 16:return e.abrupt("return",a);case 17:if("accurate"!==o){e.next=47;break}u=10,s=[],f=function(){return Yr(t,{method:"single"})};case 21:if(!(u>0)){e.next=40;break}return p=performance.now(),u--,e.prev=24,e.next=27,f();case 27:!(d=e.sent)||(0,Be.default)(d.clockSkew)||(0,Be.default)(d.roundTripTime)||s.push(d),e.next=33;break;case 31:e.prev=31,e.t0=e.catch(24);case 33:if(h=performance.now()-p,y=Math.max(500-h,0),!(u>0&&y>0)){e.next=38;break}return e.next=38,Ur()(y);case 38:e.next=21;break;case 40:if(0!==(m=(0,Gr.Z)(s,"roundTripTime")).length){e.next=43;break}throw new Error("Failed to calculate clock skew and round-trip time");case 43:return m.length>5?m.splice(-2,2):m.length>3&&m.splice(-1,1),v=(0,Vr.Z)(m,"roundTripTime")/m.length,g=(0,Vr.Z)(m.slice(0,3),"clockSkew")/Math.min(m.length,3),e.abrupt("return",{roundTripTime:v,clockSkew:g});case 47:return b=performance.now(),e.next=50,t.sendMessage("SYS-TIME");case 50:return w=e.sent,E=performance.now(),S=Date.now(),O=E-b,x=w.body.timestamp&&"number"==typeof w.body.timestamp?w.body.timestamp:null,A=(0,Be.default)(x)?null:x+O/2,k=(0,Be.default)(A)?null:A-S,e.abrupt("return",{clockSkew:k,roundTripTime:O});case 58:case"end":return e.stop()}}),e,null,[[24,31]])}))),$r.apply(this,arguments)}function Kr(){return(Kr=qr(zr().mark((function e(t,r){var n,o;return zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.sendMessage({type:"SYS-TIME",adjustment:-r});case 3:n=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n=void 0;case 9:if((o=(n||{}).body)&&"SYS-TIME"===o.type){e.next=12;break}throw new Error(o&&"ACK-NAK"===o.type&&n.reason?"Failed to adjust server time: ".concat(n.reason):"Failed to adjust server time");case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Xr=r(97215),Qr=r(98696),Jr=r(97295),en=r(86911),tn=r(39872);function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function nn(){nn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==rn(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function on(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var an=en.Nw.closeServerSettingsDialog,cn=en.Nw.disconnectFromServer,ln=en.Nw.setServerSettingsDialogTab,un=en.Nw.showServerSettingsDialog,sn=en.Nw.updateServerSettings,fn=Qr.N.closeAuthenticationDialog,pn=Qr.N.showAuthenticationDialog,dn=Jr.N.closeDeauthenticationDialog,hn=Jr.N.showDeauthenticationDialog,yn=(0,Xr.FZ)("servers/authenticateToServer",function(){var e,t=(e=nn().mark((function e(t){var r,n,o,a,i,c;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.method,n=t.data,o=t.messageHub,e.prev=1,e.next=4,o.sendMessage({type:"AUTH-REQ",method:r,data:n});case 4:if(a=e.sent,"AUTH-RESP"!==(i=a.body).type){e.next=18;break}if(!i.data){e.next=11;break}throw new Error("Multi-step authentication not supported");case 11:if(!i.result){e.next=15;break}return e.abrupt("return",{result:!0,user:i.user});case 15:throw new Error(String(i.reason)||"Authentication failed");case 16:e.next=20;break;case 18:throw new Error(String(i.reason)||"Unexpected message received from server");case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(1),c=e.t0 instanceof Rr().TimeoutError?"Authentication timeout; try again later":(0,Fr.VK)(e.t0),e.abrupt("return",{result:!1,reason:c});case 26:case"end":return e.stop()}}),e,null,[[1,22]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){on(a,n,o,i,c,"next",e)}function c(e){on(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}());var mn=(0,Xr.FZ)("servers/calculateClockSkew",Yr),vn=(0,Xr.FZ)("servers/calculateClockSkew",Yr,{minDelay:1e3}),gn=(0,Xr.FZ)("servers/adjustServerTime",(function(e,t){return Kr.apply(this,arguments)}),{minDelay:1e3}),bn=r(36697);function wn(e){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(e)}var En=["open","title"];function Sn(){Sn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==wn(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function On(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach((function(t){kn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Cn=(0,At.Z)((function(e){return{root:{marginBottom:0,"& .MuiDialogContent-root":{paddingTop:0},"& .MuiTextField-root":{marginBottom:e.spacing(1)}}}}),{name:"AuthenticationForm"}),Pn=function(e){var t=e.initialValues,r=e.isAuthenticating,n=e.onCancel,o=e.onSubmit,a=e.optimizeUIForTouch,i=Cn();return c.createElement(O.Z,{pt:4},c.createElement(S.l0,{initialValues:t,onSubmit:o},(function(e){var t=e.handleSubmit;return c.createElement("form",{className:i.root,onSubmit:t},c.createElement(v.Z,null,c.createElement(E.nv,{fullWidth:!0,autoFocus:!a,name:"username",label:"Username",autoComplete:"username",variant:"filled"}),c.createElement(ir.ZI,{fullWidth:!0,name:"password",label:"Password",autoComplete:"current-password"})),c.createElement(vr.Z,null,c.createElement(A.Z,{disabled:r,color:"primary",type:"submit"},r?"Logging in\u2026":"Log in"),c.createElement(A.Z,{onClick:n},"Cancel")))})))};Pn.propTypes={initialValues:i().object,isAuthenticating:i().bool,onCancel:i().func,onSubmit:i().func,optimizeUIForTouch:i().bool};var In=function(e){var t=e.open,r=e.title,n=jn(e,En);return c.createElement(Zr.Z,{maxWidth:"xs",open:t,title:r},c.createElement(Pn,n))};In.propTypes={isAuthenticating:i().bool.isRequired,lastError:i().string,onCancel:i().func,onSubmit:i().func,open:i().bool,optimizeUIForTouch:i().bool,title:i().string.isRequired},In.defaultProps={open:!1};var Tn=(0,s.$j)((function(e){return An(An({},e.dialogs.authentication),{},{isAuthenticating:(0,tn.xd)(e),optimizeUIForTouch:(0,$t.f8)(e),title:(0,tn.AV)(e)?"Authentication required":"Authenticate to server"})}),(function(e){return{onCancel:function(){e(fn())},onSubmit:function(t){return(r=Sn().mark((function r(){var n;return Sn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e((o=An(An({},t),{},{messageHub:bn.Z}),a=void 0,i=void 0,c=void 0,a=o.username,i=o.password,c=o.messageHub,yn({method:"basic",data:Nr.DS.encode("".concat(a,":").concat(i)),messageHub:c})));case 2:(n=r.sent)&&n.value&&n.value.result&&e(fn());case 5:case"end":return r.stop()}var o,a,i,c}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){On(a,n,o,i,c,"next",e)}function c(e){On(a,n,o,i,c,"throw",e)}i(void 0)}))})();var r}}}))(In);const Ln=Tn;var _n=r(32726);function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach((function(t){Dn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rn=function(e){var t=e.onCancel,r=e.onDisconnect,n=e.open,o=e.title,a=e.user;return c.createElement(Zr.Z,{maxWidth:"xs",open:n,title:o},c.createElement(v.Z,null,c.createElement(O.Z,{pt:2},c.createElement(x.Z,{paragraph:!0},a?c.createElement(c.Fragment,null,"You are currently authenticated as ",c.createElement("code",null,a),". Are you sure you would like to disconnect?"):c.createElement(c.Fragment,null,"You are not authenticated at the moment. Are you sure you would like to disconnect?")))),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"secondary",onClick:r},"Disconnect"),c.createElement(A.Z,{onClick:t},"Cancel")))};Rn.propTypes={onCancel:i().func,onDisconnect:i().func,open:i().bool,title:i().string.isRequired,user:i().string},Rn.defaultProps={open:!1};const Fn=(0,s.$j)((function(e){return Nn(Nn({},e.dialogs.deauthentication),{},{title:"Log out from server",user:(0,tn.IC)(e)})}),(function(e){return{onCancel:function(){e(dn())},onDisconnect:function(){(0,s.dC)((function(){e(dn()),e((0,_n.MA)()),e(cn())}))}}}))(Rn);var Mn=r(82196),Un=r(6767),Gn=r.n(Un),Vn=r(33901),Bn=r(41459),Wn=(0,At.Z)((function(e){return{root:{position:"relative",marginBottom:e.spacing(.5)},avatar:{backgroundColor:Bn.ZP.off,color:e.palette.getContrastText(Bn.ZP.off),borderRadius:"25%"},"avatar-off":{opacity:.5},"avatar-editing":{backgroundColor:Bn.ZP.info,color:e.palette.getContrastText(Bn.ZP.info),animation:"$pulse 0.5s infinite",animationDirection:"alternate"},"avatar-error":{backgroundColor:Bn.ZP.error,boxShadow:"0 0 8px 2px ".concat(Bn.ZP.error),color:e.palette.getContrastText(Bn.ZP.error)},"avatar-success":{backgroundColor:Bn.ZP.success,color:e.palette.getContrastText(Bn.ZP.success)},"@keyframes pulse":{"0%":{boxShadow:"0 0 8px 2px ".concat(Un(Bn.ZP.info).alpha(0))},"100%":{boxShadow:"0 0 8px 2px ".concat(Bn.ZP.info)}}}}),{name:"DronePlaceholder"}),zn=function(e){var t=e.editing,r=e.label,o=e.status,a=Wn();return c.createElement("div",{className:a.root},c.createElement(Vn.Z,{className:(0,n.default)(a.avatar,a["avatar-".concat(t?"editing":o)])},r))};zn.propTypes={editing:i().bool,label:i().node,status:i().oneOf(["off","editing","error","success"])},zn.defaultProps={status:"off"};const Hn=zn;var qn=r(59269),Yn=["actions","emptyMessage","items","maxCount","preferEmptyMessage","successMessage","title"];function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$n.apply(this,arguments)}function Kn(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Xn=function(e){var t=e.actions,r=e.emptyMessage,n=e.items,o=void 0===n?[]:n,a=e.maxCount,i=e.preferEmptyMessage,l=e.successMessage,u=e.title,s=Kn(e,Yn),f=(0,Mn.X)(o.slice(0,a).map((function(e){return"number"==typeof e?(0,qn.Bq)(e):String(e)})));return c.createElement(O.Z,$n({mt:1},s),c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"center",minHeight:44},u&&c.createElement(O.Z,{key:"lead",minWidth:85},u),f.map((function(e,t){return c.createElement(O.Z,{key:e,ml:t>0||u?1:0},c.createElement(Hn,{label:e}))})),o.length>a?c.createElement(O.Z,{key:"more",ml:1,color:"text.secondary"},c.createElement(x.Z,{variant:"body2"},"+ ",o.length-a," more")):null,0===o.length?l&&!i?c.createElement(c.Fragment,null,c.createElement(O.Z,{key:"ok",ml:u?1:0},c.createElement(Hn,{label:"OK",status:"success"})),c.createElement(O.Z,{key:"successMessage",color:"success.main",ml:1},c.createElement(x.Z,{variant:"body2"},l))):c.createElement(O.Z,{key:"emptyMessage",color:u?"text.secondary":null,ml:u?1:0},c.createElement(x.Z,{variant:"body2"},r)):null,t&&c.createElement(c.Fragment,null,c.createElement(O.Z,{key:"padding",flex:1}),c.createElement(O.Z,{key:"actions",ml:1},t))))};Xn.propTypes={actions:i().oneOfType([i().node,i().arrayOf(i().node)]),emptyMessage:i().node,items:i().arrayOf(i().oneOfType([i().number,i().string])),maxCount:i().number,preferEmptyMessage:i().bool,successMessage:i().node,title:i().string},Xn.defaultProps={maxCount:8};const Qn=Xn;var Jn=r(36862),eo=r(84925),to=r(96894),ro=r(66875),no=["onClose","open"];function oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(r),!0).forEach((function(t){io(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function io(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},co.apply(this,arguments)}function lo(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var uo=i().shape({coords:i().string,mode:i().oneOf(["relative","amsl","ahl"]),altitude:i().number}),so=function(e){var t=e.coordinateFormatter,r=e.initialValues,n=e.onCancel,o=e.onSubmit,a=e.optimizeUIForTouch,i=e.uavIds;return c.createElement(S.l0,{initialValues:r,onSubmit:o},(function(e){var r=e.handleSubmit;return c.createElement(O.Z,null,c.createElement(v.Z,null,c.createElement(Qn,{title:"Selection:",items:i,mt:0,mb:1}),c.createElement(ir.mB,{autoFocus:!a,name:"coords",label:"Target coordinate",formatter:t}),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(O.Z,{flex:1},c.createElement(ir.vy,{name:"altitude",label:"Altitude",margin:"normal"})),c.createElement(O.Z,{flex:2},c.createElement(ir.Ph,{name:"mode",label:"Alt mode",margin:"normal"},c.createElement(U.Z,{value:"relative"},"above current altitude"),c.createElement(U.Z,{value:"amsl"},"above mean sea level"),c.createElement(U.Z,{value:"ahl"},"above home level"))))),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"primary",onClick:r},"Confirm"),c.createElement(A.Z,{onClick:n},"Cancel")))}))};so.propTypes={coordinateFormatter:i().func,initialValues:uo,onCancel:i().func,onSubmit:i().func,optimizeUIForTouch:i().bool,uavIds:i().arrayOf(i().string)};var fo=function(e){var t=e.onClose,r=e.open,n=lo(e,no);return c.createElement(Zr.Z,{open:r,maxWidth:"xs",title:"Fly to target",onClose:t},c.createElement(so,co({onCancel:t},n)))};fo.propTypes={coordinateFormatter:i().func,initialValues:uo,onClose:i().func,onSubmit:i().func,open:i().bool,optimizeUIForTouch:i().bool,uavIds:i().arrayOf(i().string)};const po=(0,s.$j)((function(e){return ao(ao({},e.uavControl.flyToTargetDialog),{},{coordinateFormatter:(0,ro.EQ)(e),optimizeUIForTouch:(0,$t.f8)(e),uavIds:(0,to.yi)(e)})}),{onClose:eo.z0,onSubmit:Jn.p})(fo);var ho=r(15310),yo=r(37577),mo=r(15968),vo=r(55069),go=r(66817),bo=r(93606),wo=r(94183),Eo=r(66999),So=r(80274),Oo=r(30585);function xo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xo(Object(r),!0).forEach((function(t){ko(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ko(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jo=(0,So.jd)({horizontalMargin:[So.C1,So.yx,(0,So.Tn)(1)],verticalMargin:[So.C1,So.yx,(0,So.Tn)(1)],maxVertexCount:[So.C1,So._L,(0,So.Tn)(3)]}),Co=(0,ho.Z)({field:"verticalMargin",updates:{heightLimit:function(e,t){var r=t.maxHeight;return e=Number.parseFloat(e),(0,vo.T)(r,Number.isFinite(e)?e:0)}}},{field:"horizontalMargin",updates:{distanceLimit:function(e,t){var r=t.maxDistance;return e=Number.parseFloat(e),(0,vo.r)(r,Number.isFinite(e)?e:0)}}}),Po=[yo.i8.KEEP_CURRENT,yo.i8.REPORT,yo.i8.RETURN,yo.i8.LAND],Io=function(e){var t=e.initialValues,r=e.onKeyPress,n=e.onSubmit,o=e.t;return c.createElement(S.l0,{initialValues:t,validate:jo,decorators:[Co],onSubmit:n},(function(e){var t=e.handleSubmit,n=e.values.simplify;return c.createElement("form",{id:"geofenceSettings",onSubmit:t,onKeyPress:r},c.createElement(V.Z,null,o("geofenceDialog.fenceAction")),c.createElement(O.Z,{display:"flex",flexDirection:"column"},c.createElement(E.Ph,{name:"action",label:o("geofenceDialog.fenceActionLabel"),variant:"filled"},Po.map((function(e){return c.createElement(U.Z,{key:e,value:e},(0,yo.BH)(e))}))),c.createElement(Oo.Z,null,o("geofenceDialog.fenceActionHelperText"))),c.createElement(V.Z,null,o("geofenceDialog.safetyMargins")),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(E.nv,{fullWidth:!1,name:"horizontalMargin",label:o("geofenceDialog.horizontal"),type:"number",InputProps:{endAdornment:c.createElement(z.Z,{position:"end"},"m")},variant:"filled"}),c.createElement(O.Z,{p:1}),c.createElement(E.nv,{fullWidth:!1,name:"verticalMargin",label:o("geofenceDialog.vertical"),type:"number",InputProps:{endAdornment:c.createElement(z.Z,{position:"end"},"m")},variant:"filled"})),c.createElement(V.Z,null,o("geofenceDialog.proposedLimits")),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(E.nv,{disabled:!0,fullWidth:!1,name:"distanceLimit",label:o("geofenceDialog.maxDistance"),InputProps:{endAdornment:c.createElement(z.Z,{position:"end"},"m")},variant:"standard"}),c.createElement(O.Z,{p:1}),c.createElement(E.nv,{disabled:!0,fullWidth:!1,name:"heightLimit",label:o("geofenceDialog.maxAltitude"),InputProps:{endAdornment:c.createElement(z.Z,{position:"end"},"m")},variant:"standard"})),c.createElement(V.Z,null,o("geofenceDialog.vertexCountReduction")),c.createElement(O.Z,{display:"flex",flexDirection:"column"},c.createElement(E.xI,{name:"simplify",data:{label:o("geofenceDialog.simplifyPolygon")}}),c.createElement(E.nv,{fullWidth:!1,name:"maxVertexCount",label:o("geofenceDialog.maxVertexCount"),disabled:!n,type:"number",variant:"filled"})))}))};Io.propTypes={initialValues:i().object,onKeyPress:i().func,onSubmit:i().func,t:i().func};var To=(0,s.$j)((function(e){return{initialValues:Ao(Ao({},e.dialogs.geofenceSettings),{},{maxDistance:(0,Eo.EM)(e),maxHeight:(0,Eo.a8)(e),action:(0,go.Aj)(e)})}}))((0,y.Zh)()(Io)),Lo=function(e){var t=e.forceFormSubmission,r=e.hasFence,n=e.onClose,o=e.onClearGeofence,a=e.onSubmit,i=e.open,l=e.t,u=(0,c.useCallback)((function(e){"Enter"===e.nativeEvent.code&&t()}),[t]);return c.createElement(Zr.Z,{fullWidth:!0,open:i,maxWidth:"xs",title:l("geofenceDialog.title"),onClose:n},c.createElement(v.Z,null,c.createElement(To,{onSubmit:a,onKeyPress:u})),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"secondary",disabled:!r,onClick:o},l("geofenceDialog.clear")),c.createElement(A.Z,{color:"primary",onClick:t},l("geofenceDialog.apply")),c.createElement(A.Z,{onClick:n},l("geofenceDialog.close"))))};Lo.propTypes={forceFormSubmission:i().func,hasFence:i().bool,onClearGeofence:i().func,onClose:i().func,onSubmit:i().func,open:i().bool.isRequired,t:i().func};const _o=(0,s.$j)((function(e){return{hasFence:(0,go.pw)(e),open:e.dialogs.geofenceSettings.dialogVisible}}),{forceFormSubmission:function(){return function(){(0,ir.xe)("geofenceSettings")}},onClearGeofence:function(){return function(e,t){var r=(0,go.vj)(t());r&&(e((0,bo.Ef)()),e((0,wr.hW)([r])))}},onClose:mo.D9,onSubmit:function(e){return function(t){t((0,mo.Y7)({horizontalMargin:Number(e.horizontalMargin),verticalMargin:Number(e.verticalMargin),simplify:e.simplify,maxVertexCount:Number(e.maxVertexCount)})),t((0,bo.jZ)(e.action)),t((0,mo.D9)()),t((0,wo.W2)())}}})((0,y.Zh)()(Lo));var Zo=r(7212),No=r(66083),Do=r(48600),Ro=Do.N.closeErrorDialog,Fo=Do.N.showErrorMessage,Mo=function(e){var t=e.open,r=e.message,n=e.onClose;return c.createElement(m.Z,{open:t},c.createElement(No.Z,null,"An error happened"),c.createElement(v.Z,null,c.createElement(Zo.Z,null,r)),c.createElement(vr.Z,null,c.createElement(A.Z,{onClick:n},"Close")))};Mo.propTypes={message:i().string,open:i().bool.isRequired,onClose:i().func};const Uo=(0,s.$j)((function(e){return e.dialogs.error}),{onClose:Ro})(Mo);var Go=r(89039),Vo=r(43340),Bo=r(39445),Wo=r(56131),zo=r(21257),Ho=r(53464),qo=r(87978),Yo=r(6492);function $o(e){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qo(e,t,r){return t&&Xo(e.prototype,t),r&&Xo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ea(e,t)}function ea(e,t){return ea=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ea(e,t)}function ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oa(e);if(t){var o=oa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ra(this,r)}}function ra(e,t){if(t&&("object"===$o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return na(e)}function na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e){return oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oa(e)}function aa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ia=(0,So.jd)({label:So.C1}),ca=function(e){var t=e.initialValues,r=e.layer,n=e.onSubmit,o=e.onToggleLayerVisibility,a=e.validate;return c.createElement(S.l0,{validateOnBlur:!0,initialValues:t,validate:a,onSubmit:n},(function(e){var t=e.handleSubmit;return c.createElement("form",{id:"basicLayerSettings",onSubmit:t},c.createElement(O.Z,{display:"flex",alignItems:"center",pb:2},c.createElement(E.nv,{name:"label",variant:"filled",label:"Layer name",placeholder:"New layer",style:{flex:"auto"}}),c.createElement("div",null,"\xa0"),c.createElement(dt.Z,{checked:r.visible,color:"primary",disabled:r.type===Ho.F5.UNAVAILABLE||r.type===Ho.F5.UNTYPED,style:{flex:"none"},onChange:o})))}))};ca.propTypes={layer:i().shape({visible:i().bool,type:i().string}),initialValues:i().object,validate:i().func,onSubmit:i().func,onToggleLayerVisibility:i().func};var la=(0,s.$j)((function(e,t){return{initialValues:{label:t.layer.label}}}),(function(e,t){return{onSubmit:function(r){e((0,zo.$n)(t.layerId,r.label))},validate:function(e){var t=ia(e);return void 0!==t&&0!==Object.keys(t).length||(0,ir.xe)("basicLayerSettings"),t},onToggleLayerVisibility:function(){e((0,zo.vr)(t.layerId))}}}))(ca),ua=function(e){Jo(r,e);var t=ta(r);function r(){return Ko(this,r),t.apply(this,arguments)}return Qo(r,[{key:"createChildrenForLayer",value:function(e,t){return e.type in qo.l9?(0,qo.ml)(e,t):[c.createElement("div",{key:"_hint",style:{position:"relative",height:48}},c.createElement(Bo.Z,{text:"This layer has no additional settings."}))]}},{key:"render",value:function(){var e=this.props,t=e.layer,r=e.layerId;return r?void 0!==t&&c.createElement("div",{key:"settings_"+r},t.type===Ho.F5.UNTYPED?null:c.createElement(la,{layer:t,layerId:r}),this.createChildrenForLayer(t,r)):c.createElement("div",{key:"_hint",style:{position:"relative",height:48,marginTop:"2em"}},c.createElement(Bo.Z,{text:"Please select a layer from the layer list.",style:{marginTop:"2em"}}))}}]),r}(c.Component);aa(ua,"propTypes",{layer:i().object,layerId:i().string});var sa=(0,s.$j)((function(e,t){return{layer:(0,Yo.g7)(t.layerId)(e)}}),{})(ua),fa=function(e){Jo(r,e);var t=ta(r);function r(){var e;Ko(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return aa(na(e=t.call.apply(t,[this].concat(o))),"_moveSelectedLayer",(function(t){var r=e.props,n=r.selectedLayerId;(0,r.onMoveLayer)(n,t)})),aa(na(e),"_moveSelectedLayerDown",(function(){e._moveSelectedLayer(-1)})),aa(na(e),"_moveSelectedLayerUp",(function(){e._moveSelectedLayer(1)})),aa(na(e),"_removeSelectedLayer",(function(){var t=e.props,r=t.selectedLayerId;(0,t.onRemoveLayer)(r)})),e}return Qo(r,[{key:"render",value:function(){var e=this.props,t=e.canMoveUp,r=e.canMoveDown,n=e.dialogVisible,o=e.selectedLayerId,a=this.props.onClose,i=[];return o&&i.push(c.createElement(H.Z,{key:"moveUp",disabled:!t,onClick:this._moveSelectedLayerUp},c.createElement(Vo.Z,null)),c.createElement(H.Z,{key:"moveDown",disabled:!r,onClick:this._moveSelectedLayerDown},c.createElement(Go.Z,null)),c.createElement(A.Z,{key:"remove",color:"secondary",onClick:this._removeSelectedLayer},"Remove")),i.push(c.createElement(A.Z,{key:"close",color:"primary",onClick:a},"Close")),c.createElement(Zr.Z,{fullWidth:!0,maxWidth:"sm",open:n,onClose:a},c.createElement(v.Z,{style:{overflow:"auto"}},c.createElement(sa,{layerId:o})),c.createElement(vr.Z,null,i))}}]),r}(c.Component);aa(fa,"propTypes",{canMoveDown:i().bool.isRequired,canMoveUp:i().bool.isRequired,dialogVisible:i().bool.isRequired,selectedLayerId:i().string,onClose:i().func,onMoveLayer:i().func,onRemoveLayer:i().func});const pa=(0,s.$j)((function(e){var t=e.dialogs.layerSettings,r=(0,Yo.xb)(e).order,n=t.dialogVisible,o=t.selectedLayer,a=o&&r?r.indexOf(o):-1;return{canMoveDown:a>0,canMoveUp:a>=0&&a<r.length-1,dialogVisible:n,selectedLayerId:o}}),{onClose:function(){return function(e,t){var r=t(),n=(r.dialogs.layerSettings||{}).selectedLayer,o=n?(0,Yo.g7)(n)(r):void 0;o&&o.type===Ho.F5.UNTYPED&&e((0,zo.$o)(n)),e((0,Wo.Wb)())}},onMoveLayer:zo.wS,onRemoveLayer:zo.$o})(fa);var da,ha=r(21995),ya=ha.N._cancelPromptDialog,ma=(ha.N._showPromptDialog,ha.N._submitPromptDialog);function va(e){void 0!==da&&(da(e),da=void 0)}function ga(){return function(e){e(ya()),va(void 0)}}function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(r),!0).forEach((function(t){Ea(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ea(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sa.apply(this,arguments)}var Oa=function(e){var t=e.cancelButtonLabel,r=e.hintText,n=e.initialValues,o=e.message,a=e.onCancel,i=e.onSubmit,l=e.optimizeUIForTouch,u=e.submitButtonLabel;return c.createElement(S.l0,{initialValues:n,onSubmit:i},(function(e){var n=e.handleSubmit;return c.createElement("form",{onSubmit:n},c.createElement(v.Z,null,c.createElement(Zo.Z,null,o),c.createElement(E.nv,{fullWidth:!0,autoFocus:!l,name:"value",margin:"dense",label:r,variant:"filled"})),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"primary",type:"submit"},u),c.createElement(A.Z,{onClick:a},t)))}))};Oa.propTypes={cancelButtonLabel:i().string,hintText:i().string,message:i().string,optimizeUIForTouch:i().bool,submitButtonLabel:i().string,onCancel:i().func,onSubmit:i().func};var xa=function(e){var t=e.initialValue,r=e.onCancel,n=e.title,o=e.dialogVisible;return c.createElement(m.Z,{open:o,"aria-labelledby":n?"prompt-dialog-title":void 0,onClose:r},n?c.createElement(No.Z,{id:"prompt-dialog-title"},n):null,o&&c.createElement(Oa,Sa({},e,{initialValues:{value:t}})))};xa.propTypes=wa(wa({},Oa.propTypes),{},{dialogVisible:i().bool,initialValue:i().string,optimizeUIForTouch:i().bool,title:i().string});var Aa=(0,s.$j)((function(e){return wa(wa({},e.dialogs.prompt),{},{optimizeUIForTouch:(0,$t.f8)(e)})}),(function(e){return{onCancel:function(){e(ga())},onSubmit:function(t){var r;e(void 0===(r=t.value)?ga():function(e){e(ma()),va(r)})}}}))(xa);const ka=Aa;r(27852);var ja=r(52398),Ca=r(1942),Pa=r(59067),Ia=r(47119),Ta=r(79427),La=r(48153),_a=(r(64765),r(60285),r(41637),r(26699),r(4930)),Za=r.n(_a),Na=r(16423);function Da(e){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(e)}function Ra(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fa(e,t){return Fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fa(e,t)}function Ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Va(e);if(t){var o=Va(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ua(this,r)}}function Ua(e,t){if(t&&("object"===Da(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ga(e)}function Ga(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Va(e)}function Ba(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wa=window.bridge&&window.bridge.createSSDPClient&&!(0,Na.Z)(o.Z,"server.preventAutodetection"),za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fa(e,t)}(i,e);var t,r,n,a=Ma(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ba(Ga(t=a.call(this,e)),"_onTimerFired",(function(){t._ssdpClient.search("urn:collmot-com:service:flockwave-tcp:1")})),t._ssdpClient=void 0,t._timer=void 0,t}return t=i,r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.onScanningStarted,n=t.onServerInferred;Wa?(r&&r(),this._ssdpClient=window.bridge.createSSDPClient((function(t){if(void 0!==e._ssdpClient){var r=Za()(t);if(200===r.statusCode){var n=r.headers.location;if(void 0!==n){var o=new URL(n).protocol;if(["tcp:","tcp+tls:"].includes(o)){var a="http:".concat(n.slice(o.length)),i=new URL(a),c=i.hostname,l=i.port,u=Number(l);if(!(!c||Number.isNaN(u)||u<=0||u>65535)&&e.props.onServerDetected){var s=e.props.onServerDetected({hostName:c,port:u,label:r.headers["label.collmot.com"],protocol:o}),f=s.key,p=s.wasAdded;if(f&&p&&((0,yt.isV4Format)(c)||(0,yt.isV6Format)(c))){var d=(0,ja.Z)(e.props.onServerHostnameResolved,f);(0,yt.isLoopback)(c)?d("localhost"):window.bridge&&window.bridge.reverseDNSLookup(c).then((function(e){e&&e.length>0&&d(e[0])})).catch((function(e){}))}}}}}}})),this._timer=setInterval(this._onTimerFired,5e3),this._onTimerFired()):n&&((0,Na.Z)(o.Z,"server.hostName")?n({hostName:o.Z.server.hostName,port:o.Z.server.port||(o.Z.server.isSecure?443:80),protocol:o.Z.server.isSecure?"sio+tls:":"sio:"}):"localhost"===window.location.hostname?n({hostName:window.location.hostname,port:5e3,protocol:"sio:"}):n({hostName:window.location.hostname,port:window.location.port||("http:"===window.location.protocol?80:443),protocol:"sio:"}))}},{key:"componentWillUnmount",value:function(){if(Wa){var e=this.props.onScanningStopped;e&&e(),void 0!==this._timer&&(clearInterval(this._timer),this._timer=void 0),void 0!==this._ssdpClient&&(this._ssdpClient=void 0)}}},{key:"render",value:function(){return null}}],r&&Ra(t.prototype,r),n&&Ra(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(c.Component);Ba(za,"propTypes",{onScanningStarted:i().func,onScanningStopped:i().func,onServerDetected:i().func,onServerHostnameResolved:i().func,onServerInferred:i().func});var Ha=(0,s.$j)(null,(function(e){return{onScanningStarted:function(){e((0,_n.$A)()),e((0,_n.D$)())},onScanningStopped:function(){e((0,_n.WU)())},onServerDetected:function(t){var r=t.hostName,n=t.port,o=t.protocol,a=t.label,i=(0,_n.GP)({hostName:r,port:n,protocol:o,label:a});return e(i),{key:i.key,wasAdded:Boolean(i.wasAdded)}},onServerHostnameResolved:function(t,r){e((0,_n.V3)({key:t,hostName:r}))},onServerInferred:function(t){var r=t.hostName,n=t.port,o=t.protocol,a=(0,_n.pv)({hostName:r,port:n,protocol:o});return e(a),a.key}}}))(za);function qa(e){return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(e)}var Ya,$a=["hostName"];function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qa(e,t){return Qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qa(e,t)}function Ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ri(e);if(t){var o=ri(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ei(this,r)}}function ei(e,t){if(t&&("object"===qa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ti(e)}function ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ri(e)}function ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(r),!0).forEach((function(t){ai(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ai(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(this,arguments)}function ci(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var li=function(e){return"sio+tls:"===e.protocol},ui=function(e){return"localhost"===e.hostName},si=function(e){var t=e.hostName,r=e.port;return"".concat(t,":").concat(r)},fi=function(e){return e.label||si(e)},pi=function(e){return e.label?"".concat(si(e)).concat(function(e){return li(e)||ui(e)?"":" (unsecured)"}(e)):function(e){return li(e)?"Secure connection":ui(e)?"Local connection":"Unsecured connection"}(e)},di=!(null!==o.Z&&void 0!==o.Z&&null!==(Ya=o.Z.server)&&void 0!==Ya&&Ya.preventManualSetup),hi=function(e){var t=e.hostName,r=ci(e,$a);return c.createElement(La.Z,ii({label:t?"Connecting to ".concat(t,"..."):"Connecting..."},r))};hi.propTypes={hostName:i().string};var yi=function(e){var t=e.isScanning,r=e.items,n=e.onItemSelected;return c.createElement(ut.Z,{disablePadding:!0,style:{height:160,overflow:"auto"}},!t||r&&0!==r.length?null:c.createElement(st.Z,{key:"__scanning"},c.createElement(ft.Z,null,c.createElement(Et.Z,{color:"secondary",size:24})),c.createElement(pt.Z,{primary:"Please wait\u2026",secondary:"Scanning network for servers\u2026"})),r.map((function(e){return c.createElement(st.Z,{key:e.id,button:!0,onClick:(0,ja.Z)(n,e)},c.createElement(ft.Z,null,(r=(t=e).hostName,"inferred"===t.type?c.createElement(Ia.Z,null):"localhost"===r?c.createElement(Ca.Z,null):c.createElement(Ta.Z,null))),c.createElement(pt.Z,{primary:fi(e),secondary:pi(e)}));var t,r})),di&&c.createElement(st.Z,{key:"__manual",button:!0,onClick:(0,ja.Z)(n,null)},c.createElement(ft.Z,null,c.createElement(Pa.Z,null)),c.createElement(pt.Z,{primary:"Enter manually"})))};yi.propTypes={isScanning:i().bool,items:i().array,onItemSelected:i().func};var mi=(0,s.$j)((function(e){return{isScanning:e.servers.isScanning,items:(0,tn.$F)(e)}}))(yi),vi=(0,So.jd)({hostName:So.C1,port:[So.C1,So._L,(0,So.vX)(1,65535)]}),gi=function(e){var t=e.initialValues,r=e.onKeyPress,n=e.onSubmit;return c.createElement(S.l0,{initialValues:t,validate:vi,onSubmit:n},(function(e){var t=e.handleSubmit;return c.createElement("form",{id:"serverSettings",onSubmit:t,onKeyPress:r},c.createElement(E.nv,{fullWidth:!0,name:"hostName",label:"Hostname",variant:"filled",margin:"normal"}),c.createElement(E.nv,{fullWidth:!0,name:"port",label:"Port",variant:"filled",margin:"normal"}),c.createElement(E.Fz,{name:"isSecure",data:{label:"Use secure connection"}}),en.SW?c.createElement(E.Fz,{name:"isWebSocket",data:{label:"Use WebSocket protocol instead of TCP"},helperText:"For backwards compatibility only."}):null)}))};gi.propTypes={initialValues:i().object,onKeyPress:i().func,onSubmit:i().func};var bi=(0,s.$j)((function(e){return{initialValues:oi(oi({},e.dialogs.serverSettings),{},{isWebSocket:(0,tn.cV)(e)===en.b$.WS})}}))(gi),wi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qa(e,t)}(a,e);var t,r,n,o=Ja(a);function a(){var e;Ka(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ai(ti(e=o.call.apply(o,[this].concat(r))),"_handleKeyPress",(function(t){"Enter"===t.nativeEvent.code&&e.props.forceFormSubmission()})),ai(ti(e),"_handleServerSelection",(function(t){null==t?di&&e.props.onTabSelected(null,"manual"):e.props.onSubmit(oi(oi({},t),{},{isSecure:t.protocol.endsWith("+tls:")}))})),e}return t=a,r=[{key:"render",value:function(){var e=this.props,t=e.active,r=e.forceFormSubmission,n=e.hostName,o=e.isConnecting,a=e.onClose,i=e.onDisconnect,l=e.onSubmit,u=e.onTabSelected,s=e.open,f=e.selectedTab,p=[],d=[];switch(p.push(c.createElement(hi,{key:"__connectionIndicator",hostName:n,visible:o})),f){case"auto":d.push(c.createElement(mi,{key:"serverList",onItemSelected:this._handleServerSelection})),di?Wa||d.push(c.createElement(v.Z,{key:"contents"},c.createElement(x.Z,{variant:"body2",color:"textSecondary"},"Auto-discovery is not available in this version."))):d.push(c.createElement(v.Z,{key:"contents"},c.createElement(x.Z,{variant:"body2",color:"textSecondary"},"Connecting to other servers is not supported in this version.")));break;case"manual":di&&(d.push(c.createElement(v.Z,{key:"contents"},c.createElement(bi,{onSubmit:l,onKeyPress:this._handleKeyPress}))),p.push(c.createElement(A.Z,{key:"connect",color:"primary",onClick:r},"Connect")))}return di&&p.push(c.createElement(A.Z,{key:"disconnect",disabled:!t,onClick:t?i:void 0},"Disconnect")),p.push(c.createElement(A.Z,{key:"close",onClick:a},"Close")),c.createElement(m.Z,{fullWidth:!0,open:s,maxWidth:"xs",onClose:a},c.createElement(b.Z,{value:f,onChange:u},c.createElement(g.Z,{value:"auto",label:di?"Autodetected":"Preconfigured server"}),di&&c.createElement(g.Z,{value:"manual",label:"Manual"})),c.createElement(Ha,null),d,c.createElement(vr.Z,null,p))}}],r&&Xa(t.prototype,r),n&&Xa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);ai(wi,"propTypes",{active:i().bool,forceFormSubmission:i().func,hostName:i().string,isConnecting:i().bool,onClose:i().func,onDisconnect:i().func,onSubmit:i().func,onTabSelected:i().func,open:i().bool.isRequired,selectedTab:i().string}),ai(wi,"defaultProps",{selectedTab:"auto"});var Ei=(0,s.$j)((function(e){return{active:e.dialogs.serverSettings.active,hostName:(0,tn.uF)(e),isConnecting:(0,tn.J9)(e),open:e.dialogs.serverSettings.dialogVisible,selectedTab:e.dialogs.serverSettings.selectedTab}}),(function(e){return{forceFormSubmission:function(){(0,ir.xe)("serverSettings")},onClose:function(){e(an())},onDisconnect:function(){e(cn())},onSubmit:function(t){e(an({active:!0,hostName:t.hostName,isSecure:t.isSecure,port:Number(t.port),protocol:!en.SW||t.isWebSocket?en.b$.WS:en.b$.TCP}))},onTabSelected:function(t,r){e(ln(r))}}}))(wi);const Si=Ei;var Oi=function(e){var t=e.onClose,r=e.open;return c.createElement(m.Z,{open:r},c.createElement(No.Z,null,"Session expired"),c.createElement(v.Z,null,c.createElement(Zo.Z,null,"Your demo session has expired. Thank you for evaluating Skybrush Live!"),c.createElement(A.Z,{fullWidth:!0,onClick:t},"Click here to return to your Skybrush account")))};Oi.propTypes={onClose:i().func,open:i().bool};const xi=(0,s.$j)((function(e){return{open:e.session.isExpired}}),(function(){return{onClose:function(e,t){"backdropClick"!==t&&"escapeKeyDown"!==t&&window.location.replace(o.Z.urls.exit||"https://skybrush.io")}}}))(Oi);var Ai=r(53311),ki=r(38779),ji=r(92977),Ci=r(2414),Pi=["clockSkew","component","format","updateInterval"];function Ii(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ti=function(e){var t=e.clockSkew,r=e.component,n=e.format,o=e.updateInterval,a=Ii(e,Pi),i=Date.now()+(t||0),l="function"==typeof n?n(i):(0,ki.Z)(i,n),u=(0,ji.Z)();return(0,Ci.Z)(u,o||1e3),c.createElement(r,a,l)};Ti.propTypes={component:i().string,clockSkew:i().number,format:i().string,updateInterval:i().number},Ti.defaultProps={component:"span",format:"yyyy-MM-dd HH:mm:ss"};const Li=Ti;var _i=(0,At.Z)((function(e){return{content:{"& strong":{color:e.palette.text.primary}},card:{flex:1,fontSize:"16px",margin:e.spacing(0,2)},cardLeft:{textAlign:"right"},localTime:{color:Bn.ZP.info,fontWeight:"bold"},serverTime:{color:Bn.ZP.warning,fontWeight:"bold"}}})),Zi=function(e){var t=e.clockSkew,r=_i();return c.createElement(O.Z,{display:"flex",flexDirection:"row",mx:-2,mb:2},c.createElement(O.Z,{className:(0,n.default)(r.card,r.cardLeft)},c.createElement(x.Z,{gutterBottom:!0,color:"textPrimary"},"Time on this device"),c.createElement(Li,{className:r.localTime,component:"div"})),c.createElement(O.Z,{variant:"outlined",className:r.card},c.createElement(x.Z,{gutterBottom:!0,color:"textPrimary"},"Server time"),(0,Be.default)(t)?c.createElement("div",{className:r.serverTime},"unknown"):c.createElement(Li,{className:r.serverTime,clockSkew:t,component:"div"})))};Zi.propTypes={clockSkew:i().number};var Ni=function(e){var t=e.clockSkew,r=_i();return c.createElement(v.Z,{className:r.content},c.createElement(O.Z,{my:2},c.createElement(Zo.Z,null,"The internal clock of your device and the clock of the Skybrush server are now in sync:")),c.createElement(Zi,{clockSkew:t}))};Ni.propTypes={clockSkew:i().number};var Di=function(e){var t=e.clockSkew,r=_i();return c.createElement(v.Z,{className:r.content},c.createElement(O.Z,{my:2},c.createElement(x.Z,{variant:"h6"},"Why am I seeing this warning?")),c.createElement(Zo.Z,null,"The internal clock of your device and the clock of the Skybrush server you have connected to are not in sync:"),c.createElement(Zi,{clockSkew:t}),c.createElement(Zo.Z,null,"Scheduled actions (such as the coordinated start of a drone swarm at a given time) are performed according to the server clock. If the server clock is behind or ahead of wall clock time, these actions may happen too early or too late."," ",c.createElement("strong",null,"It is your responsibility to ensure that the clock of the server is synchronized to UTC.")),c.createElement(O.Z,{my:2},c.createElement(x.Z,{variant:"h6"},"What should I do now?")),c.createElement(Zo.Z,null,"Please check the timestamps reported above and decide which one is correct."),c.createElement(Zo.Z,null,c.createElement("span",{className:r.localTime},"If the local time is correct"),", please click on the ",c.createElement("strong",null,"Adjust server time")," button below to adjust the server clock to match the time on this device."),c.createElement(Zo.Z,null,c.createElement("span",{className:r.serverTime},"If the server time is correct"),", please update the time on this device and then click on the"," ",c.createElement("strong",null,"Check clock skew")," button to perform another measurement after the update."))};Di.propTypes={clockSkew:i().number};var Ri=function(e){var t=e.clockSkew,r=e.isAdjustingServerTime,n=e.isCalculatingClockSkew,o=e.isClockSkewSignificant,a=e.onAdjustServerTime,i=e.onCalculateAndStoreClockSkew,l=e.onClose,u=e.open;return c.createElement(Zr.Z,{open:u,title:o?"Clock skew detected between server and client":"Server and client clocks are in sync"},n&&(0,Be.default)(t)?c.createElement(v.Z,null,c.createElement(O.Z,{align:"center",my:4},c.createElement(O.Z,null,c.createElement(Et.Z,null)),"Please wait, estimating clock skew...")):o?c.createElement(Di,{clockSkew:t}):c.createElement(Ni,{clockSkew:t}),c.createElement(vr.Z,{className:"bottom-bar"},c.createElement(La.Z,{label:r?"Adjusting server time...":"Calculating clock skew...",visible:r||n,flex:1}),c.createElement(A.Z,{disabled:(0,Be.default)(t)||n||!o,onClick:a},"Adjust server time"),c.createElement(A.Z,{disabled:n,onClick:i},"Check clock skew"),c.createElement(A.Z,{onClick:l},"Close")))};Ri.propTypes={clockSkew:i().number,isAdjustingServerTime:i().bool,isCalculatingClockSkew:i().bool,isClockSkewSignificant:i().bool,onAdjustServerTime:i().func,onCalculateAndStoreClockSkew:i().func,onClose:i().func,open:i().bool};const Fi=(0,s.$j)((function(e){return{clockSkew:(0,tn.B_)(e),isAdjustingServerTime:(0,tn.gc)(e),isCalculatingClockSkew:(0,tn.wI)(e),isClockSkewSignificant:(0,tn.Lm)(e),open:(0,tn.Q7)(e)}}),{onAdjustServerTime:function(){return e=bn.Z,(0,Fr.Q$)((function(t,r){var n=(0,tn.B_)(r());if((0,Be.default)(n))throw new Error("Clock skew between server and client is not known");t(gn(e,n)),t(mn(e,{method:"accurate"}))}));var e},onCalculateAndStoreClockSkew:function(){return vn(bn.Z,{method:"accurate"})},onClose:_n.Fy})(Ri);const Mi={AppSettingsDialog:mr,AuthenticationDialog:Ln,DeauthenticationDialog:Fn,FeatureEditorDialog:_r,FlyToTargetDialog:po,GeofenceSettingsDialog:_o,GlobalErrorDialog:Uo,LayerSettingsDialog:pa,PromptDialog:ka,ServerSettingsDialog:Si,SessionExpiryDialog:xi,SubscriptionDialog:Ai.Z,TimeSyncDialog:Fi};r(86535),r(99244);var Ui=r(17905),Gi=r(54047),Vi=r(89048),Bi=r(43337),Wi=r(48825),zi=r(82484),Hi=r(13012),qi=r(20306),Yi=r(9469);const $i=r.p+"b9fe6803b785d337ce8e.mp3";var Ki=["count","muted"];function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(this,arguments)}function Qi(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ec(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ec(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tc=(0,At.Z)({bell:{animation:"$ring ".concat(5,"s ease-in-out infinite"),transformOrigin:"50% 4px"},"@keyframes ring":{"0%":{transform:"rotate(0)"},"2%":{transform:"rotate(30deg)"},"5%":{transform:"rotate(-28deg)"},"8%":{transform:"rotate(34deg)"},"11%":{transform:"rotate(-32deg)"},"14%":{transform:"rotate(30deg)"},"17%":{transform:"rotate(-28deg)"},"20%":{transform:"rotate(26deg)"},"23%":{transform:"rotate(-24deg)"},"26%":{transform:"rotate(22deg)"},"29%":{transform:"rotate(-20deg)"},"32%":{transform:"rotate(18deg)"},"35%":{transform:"rotate(-16deg)"},"38%":{transform:"rotate(14deg)"},"41%":{transform:"rotate(-12deg)"},"44%":{transform:"rotate(10deg)"},"47%":{transform:"rotate(-8deg)"},"50%":{transform:"rotate(6deg)"},"53%":{transform:"rotate(-4deg)"},"56%":{transform:"rotate(2deg)"},"59%":{transform:"rotate(-1deg)"},"62%":{transform:"rotate(1deg)"},"65%":{transform:"rotate(0)"},"100%":{transform:"rotate(0)"}}}),rc=function(){var e=Ji((0,Gi.Z)(c.createElement("audio",{src:$i})),3),t=e[0],r=e[1],n=e[2];return(0,Vi.Z)((function(){return n.play()})),(0,Bi.Z)((function(){r.playing||n.play()}),5e3),t},nc=function(e){var t=e.count,r=e.muted,n=Qi(e,Ki),o=tc(),a=t>0;return c.createElement(Hi.ZP,Xi({},n,{tooltip:r?"Audible alerts are muted. Click to unmute.":a?"Click to acknowledge alerts":"Click to mute audible alerts"}),r?c.createElement(zi.Z,{className:a?o.bell:""}):c.createElement(Wi.Z,{className:a?o.bell:""}),c.createElement(qi.Z,{visible:a,color:Bn.ZP.error},t>1&&(t>=10?"9+":String(t))),!r&&a&&c.createElement(rc,null))};nc.propTypes={count:i().number,muted:i().bool};const oc=(0,s.$j)((function(e){return e.alert}),{onClick:function(){return function(e,t){var r=t().alert;r.count>0?e((0,Yi.W9)()):e((0,Yi.Zj)(!r.muted))}}})(nc);var ac=r(9969);function ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}var uc=function(e){return c.createElement(Hi.ZP,lc({},e,{tooltip:"Preferences"}),c.createElement(ac.Z,null))};uc.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(r),!0).forEach((function(t){cc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ic(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Hi.ZP.propTypes);const sc=(0,s.$j)(null,{onClick:w.Nk})(uc);var fc=r(3646),pc={authenticated:Bn.ZP.success,authenticating:Bn.ZP.warning,notAuthenticated:Bn.ZP.error,authenticationNotRequired:void 0};const dc=(0,s.$j)((function(e){var t=(0,tn.$8)(e)?"authenticated":(0,tn.xd)(e)?"authenticating":(0,tn.AV)(e)?"notAuthenticated":"authenticationNotRequired",r=pc[t];return{color:r,visible:void 0!==r}}),{})(qi.Z);var hc=function(e){var t=e.isAuthenticated,r=e.isDisabled,o=e.label,a=e.onAuthenticate,i=e.onDeauthenticate;return c.createElement(ht.default,{content:"Authentication"},c.createElement("div",{className:(0,n.default)("wb-module",r&&"wb-module-disabled"),onClick:r?null:t?i:a},c.createElement("span",{className:(0,n.default)("wb-icon","wb-module-icon")},c.createElement(dc,null),c.createElement(fc.Z,null)),o?c.createElement("span",{className:"wb-label wb-module-label"},o):null))};hc.propTypes={isAuthenticated:i().bool,isDisabled:i().bool,label:i().string,onAuthenticate:i().func,onDeauthenticate:i().func};const yc=(0,s.$j)((function(e){return{isAuthenticated:(0,tn.$8)(e),isAuthRequired:(0,tn.AV)(e),isDisabled:!(0,tn.Io)(e)}}),(function(e){return{onAuthenticate:function(){return e(pn())},onDeauthenticate:function(){return e(hn())}}}))(hc);var mc=r(97948),vc=r(41323),gc=r(62087);function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}const wc=c.forwardRef((function(e,t){return c.createElement(gc.Z,bc({},e,{ref:t}),c.createElement("path",{d:"M18 11v2h4v-2h-4zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61zM20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4zM4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9H4zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34z"}))}));var Ec=function(e){return"number"==typeof e&&e>0},Sc=(0,At.Z)({underlay:{position:"absolute",right:"0px",bottom:"0px",left:"0px",height:"0%",backgroundColor:Bn.ZP.warning,opacity:.5},underlayActive:{animationName:"$cooldown",animationDuration:function(e){var t=e.timeoutLength;return Ec(t)&&Number.isFinite(t)?"".concat(t,"s"):"100000s"},animationTimingFunction:"linear",animationIterationCount:"1"},iconWrapper:{position:"relative"},"@keyframes cooldown":{"0%":{height:"100%"},"100%":{height:"0%"}}}),Oc=function(e){var t=e.isBroadcast,r=e.setBroadcast,o=e.timeoutLength,a=Sc({timeoutLength:o}),i=(0,c.useRef)(void 0);return(0,c.useEffect)((function(){t&&Ec(o)?i.current=setTimeout((function(){r(!1)}),1e3*o):!t&&i.current&&(clearTimeout(i.current),i.current=void 0)}),[t,r,o]),c.createElement(ht.default,{content:t?"Disable broadcast":"Enable broadcast for ".concat(o," seconds")},c.createElement(Hi.ZP,{onClick:function(){return r(!t)}},c.createElement("div",{className:(0,n.default)(a.underlay,t&&a.underlayActive)}),c.createElement(qi.Z,{color:Bn.ZP.warning,visible:t}),c.createElement("div",{style:{position:"relative"}},c.createElement(wc,null))))};Oc.propTypes={isBroadcast:i().bool,setBroadcast:i().func,timeoutLength:i().number};const xc=(0,s.$j)((function(e){return{isBroadcast:(0,vc.d)(e)}}),{setBroadcast:mc.pW})(Oc);var Ac=r(90222),kc=r(97581),jc=r(904),Cc=r(59339),Pc=r(36643),Ic=r(94800),Tc=r(41437);function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(this,arguments)}var _c=function(e){var t=e.id,r=e.name,n=e.state,o=e.stateChangedAt;return c.createElement(Ic.Z,{key:t,iconPreset:n,primaryText:r,secondaryText:c.createElement(jc.Z,{formatter:qn.$s,date:o})})};_c.propTypes={id:i().string,name:i().string,state:i().string,stateChangedAt:i().number};var Zc=function(e){var t=e.connections,r=e.onSwitchSecondaryChannel,n=e.useSecondaryChannel;return c.createElement(Cc.Z,null,t.map((function(e){return c.createElement(_c,Lc({key:e.id},e))})),0===t.length&&c.createElement(Ic.Z,{primaryText:"This server uses no connections."}),c.createElement(Pc.Z,null),c.createElement(R.Z,{control:c.createElement(O.Z,{pl:1},c.createElement(dt.Z,{size:"small",checked:n,onChange:r})),label:c.createElement(x.Z,{variant:"body2"},"Use secondary channel")}))};Zc.propTypes={connections:i().arrayOf(i().any),onSwitchSecondaryChannel:i().func,useSecondaryChannel:i().bool};const Nc=(0,s.$j)((function(e){return{connections:(0,Tc.MT)(e),useSecondaryChannel:0!==(0,go.ML)(e)}}),{onSwitchSecondaryChannel:function(){return(0,bo.s1)()}})(Zc);var Dc=r(19064),Rc=r(98419);function Fc(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Mc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mc(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uc=["error","warning","ok"],Gc={ok:Bn.ZP.success,warning:Bn.ZP.warning,error:Bn.ZP.error};function Vc(e){switch(e.state){case Rc.em.CONNECTED:return"ok";case Rc.em.CONNECTING:case Rc.em.DISCONNECTING:return"warning";default:return"error"}}var Bc=(0,We.createSelector)(Tc.MT,(function(e){var t,r=(0,Dc.Z)(e,Vc),n=Fc(Uc);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(r[o])return{level:o,count:r[o]}}}catch(e){n.e(e)}finally{n.f()}return{level:"ok",count:e.length}}));const Wc=(0,s.$j)((function(e,t){var r=Bc(e),n=r.count,o=r.level;return{color:Gc[o],visible:t.isAlwaysVisible?n>0:"ok"!==o}}),{})(qi.Z);function zc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qc=function(e){return c.createElement(kc.Z,{interactive:!0,content:c.createElement(Nc,null),disabled:e.disabled},c.createElement(Hi.ZP,e,c.createElement(Wc,null),c.createElement(Ac.default,null)))};qc.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zc(Object(r),!0).forEach((function(t){Hc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Hi.ZP.propTypes);const Yc=(0,s.$j)((function(e){return{disabled:!(0,tn.Mb)(e)}}),(function(){return{onClick:function(){}}}))(qc);var $c=r(79929),Kc=r(47489),Xc=r(57118),Qc=r(96977),Jc=["isFullscreen"];function el(){return el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},el.apply(this,arguments)}function tl(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var rl=function(e){var t=e.isFullscreen,r=tl(e,Jc);return c.createElement(Hi.ZP,el({},r,{tooltip:t?"Exit full screen mode":"Full screen mode"}),t?c.createElement(Qc.Z,null):c.createElement(Xc.Z,null))};rl.propTypes={disabled:i().bool.isRequired,isFullscreen:i().bool.isRequired,label:i().string,onClick:i().func};const nl=function(){var e=(0,c.useCallback)((function(){return Kc.Z.toggle()}),[]),t=(0,ji.Z)();return(0,$c.Z)("change",t,Kc.Z),(0,$c.Z)("error",t,Kc.Z),c.createElement(rl,{isFullscreen:Kc.Z.isFullscreen,disabled:!Kc.Z.isEnabled,onClick:e})};var ol=r(16261);const al=(0,s.$j)((function(e){var t=(0,go.Q8)(e);return{color:(0,Bn.cr)(t),visible:t!==ol.q.OFF}}),{})(qi.Z);function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},il.apply(this,arguments)}const cl=c.forwardRef((function(e,t){return c.createElement(gc.Z,il({},e,{ref:t}),c.createElement("path",{d:"M21,12v-2h-2V7l-3-3l-2,2l-2-2l-2,2L8,4L5,7v3H3v2h2v2H3v2h2v4h14v-4h2v-2h-2v-2H21z M16,6.83l1,1V10h-2V7.83l0.41-0.41 L16,6.83z M12,6.83l0.59,0.59L13,7.83V10h-2V7.83l0.41-0.41L12,6.83z M11,14v-2h2v2H11z M13,16v2h-2v-2H13z M7,7.83l1-1l0.59,0.59 L9,7.83V10H7V7.83z M7,12h2v2H7V12z M7,16h2v2H7V16z M17,18h-2v-2h2V18z M17,14h-2v-2h2V14z"}))}));function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(this,arguments)}var ul=function(e){return c.createElement(Hi.ZP,ll({},e,{tooltip:"Geofence settings"}),c.createElement(al,null),c.createElement(cl,null))};ul.propTypes={onClick:i().func};const sl=(0,s.$j)(null,{onClick:mo.Oi})(ul);var fl=r(82369),pl=function(){o.Z.urls.help&&window.open(o.Z.urls.help,"_blank")};const dl=function(){return c.createElement(Hi.ZP,{id:"tour-help-button",tooltip:"Help",onClick:pl},c.createElement(fl.Z,null))};var hl,yl=r(77071);r(56977);function ml(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vl=(ml(hl={},Rc.em.CONNECTED,"Connected"),ml(hl,Rc.em.CONNECTING,"Connection in progress..."),ml(hl,Rc.em.DISCONNECTED,"Disconnected from server"),ml(hl,Rc.em.DISCONNECTING,"Disconnection in progress..."),hl),gl=function(e){return(0,Be.default)(e)?"unknown":Number.isFinite(e)?Math.abs(e)<1e3?"".concat(e.toFixed(0),"ms"):Math.abs(e)<=3e4?"".concat((e/1e3).toFixed(1),"s"):">30s":e<0?"-\u221e":"\u221e"},bl=function(e){var t=e.clockSkew,r=e.connectionState,n=e.roundTripTime,o=e.serverHostname,a=e.serverVersion;return c.createElement(Cc.Z,null,c.createElement(Ic.Z,{iconPreset:r,primaryText:vl[r]||"Unknown state",secondaryText:r===Rc.em.CONNECTED?o:null}),r===Rc.em.CONNECTED?c.createElement(c.Fragment,null,c.createElement(Ic.Z,{iconPreset:"empty",primaryText:"Server version",secondaryText:a}),c.createElement(Pc.Z,null),0===t?c.createElement(Ic.Z,{iconPreset:"success",primaryText:"Clocks synchronized"}):c.createElement(Ic.Z,{iconPreset:Math.abs(t)>n/2?"warning":"empty",primaryText:"Clock skew",secondaryText:gl(t)}),c.createElement(Ic.Z,{iconPreset:n>Br.b?"warning":"empty",primaryText:"Round-trip time",secondaryText:gl(n)})):null)};bl.propTypes={clockSkew:i().number,connectionState:i().string,roundTripTime:i().number,serverHostname:i().string,serverVersion:i().string};const wl=(0,s.$j)((function(e){return{connectionState:(0,tn.oY)(e).state,clockSkew:(0,tn.iO)(e),roundTripTime:(0,tn.QE)(e),serverHostname:(0,tn.uF)(e),serverVersion:(0,tn.BJ)(e)}}),{})(bl);var El;function Sl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ol=(Sl(El={},Rc.em.CONNECTED,Bn.ZP.success),Sl(El,Rc.em.CONNECTING,Bn.ZP.warning),Sl(El,Rc.em.DISCONNECTING,Bn.ZP.warning),Sl(El,Rc.em.DISCONNECTED,Bn.ZP.error),El);const xl=(0,s.$j)((function(e){return{color:Ol[(0,tn.oY)(e).state],visible:e.dialogs.serverSettings.active}}),{})(qi.Z);var Al=function(e){return c.createElement(kc.Z,{content:c.createElement(wl,null)},c.createElement(Hi.ZP,e,c.createElement(xl,null),c.createElement(yl.Z,null)))};Al.propTypes={onClick:i().func};const kl=(0,s.$j)(null,{onClick:un})(Al);var jl=function(e,t,r){return"ago"===r?"Session expired":"Session expires"},Cl=function(e){var t=e.expiresAt;return t?c.createElement(O.Z,{alignSelf:"center",px:1,style:{color:"white",fontSize:"0.875rem",textAlign:"right"}},c.createElement("div",{style:{color:"rgba(255, 255, 255, 0.54)"}},c.createElement(jc.Z,{date:t,formatter:jl})),c.createElement("div",null,c.createElement("b",null,c.createElement(jc.Z,{date:t})))):null};Cl.propTypes={expiresAt:i().number};const Pl=(0,s.$j)((function(e){return{expiresAt:e.session.expiresAt}}))(Cl);var Il=r(38396),Tl=r(36350),Ll=r(84035),_l=r(84307),Zl=r(26774);function Nl(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Dl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dl(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Dl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rl=(0,We.createSelector)((function(e){return e.measurement.averagingResults}),(function(e){var t,r=e.byId,n=[],o=Nl(e.order);try{for(o.s();!(t=o.n()).done;){var a=t.value;r[a]&&r[a].sampling&&n.push(a)}}catch(e){o.e(e)}finally{o.f()}return n})),Fl=function(e){return e.measurement.averagingResults.order},Ml=(0,We.createSelector)((function(e){return e.measurement.averagingResults}),Me.vA),Ul=function(e){return e.measurement.averagingResults.byId},Gl=function(e,t){var r,n=Ul(e),o=[],a=[],i=Nl(t);try{for(i.s();!(r=i.n()).done;){var c=n[r.value];!c||(0,Be.default)(c.mean.lat)||(0,Be.default)(c.mean.lon)||(o.push(c.mean.lat),a.push(c.mean.lon))}}catch(e){i.e(e)}finally{i.f()}if(o.length>0)return[(0,Zl.Z)(a)/a.length,(0,Zl.Z)(o)/o.length]},Vl=function(e){return e.measurement.averagingDialog.selectedUAVIds},Bl=(0,We.createSelector)(Fl,(function(e){return e&&e.length>0})),Wl=(0,We.createSelector)(Fl,Ul,(function(e,t){var r,n=Nl(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(t&&t[o]&&t[o].sampling)return!0}}catch(e){n.e(e)}finally{n.f()}return!1})),zl=(0,We.createSelector)(Vl,(function(e){return e&&e.length>0})),Hl=r(97619),ql=(r(32023),"all"),Yl="mission",$l={};function Kl(e){var t;return null!==(t=$l[e])&&void 0!==t?t:null}function Xl(e){var t,r;return null!==(t=null===(r=Kl(e))||void 0===r?void 0:r.scope)&&void 0!==t?t:ql}function Ql(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=eu(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Jl(e){return function(e){if(Array.isArray(e))return tu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eu(e,t){if(e){if("string"==typeof e)return tu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tu(e,t):void 0}}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ru=(0,We.createSelector)((function(e){return e.upload.currentJob}),(function(e){return{type:e.type||null,payload:e.payload}})),nu=(0,We.createSelector)((function(e){return e.upload.currentJob}),(function(e){var t=e.type,r=e.running;return!(0,Be.default)(t)&&r?t:null})),ou=function(e,t){var r;return t?null===(r=e.upload.history.byId[t])||void 0===r?void 0:r.result:null},au=(0,We.createSelector)((function(e){return e.upload.queues.itemsQueued}),(function(e){return e.upload.queues.itemsInProgress}),(function(e,t){return[].concat(Jl(e),Jl(t))})),iu=(0,We.createSelector)((function(e){return e.upload.queues.itemsQueued}),(function(e){return e.upload.queues.itemsWaitingToStart}),(function(e,t){return[].concat(Jl(e),Jl(t))}));function cu(e,t){var r=e.upload.queues,n=r.itemsQueued;return r.itemsWaitingToStart.includes(t)||n.includes(t)}var lu=function(e){var t=e.upload.queues.itemsWaitingToStart;if(t&&t.length>0)return t[0]},uu=function(e){return e.upload.dialog},su=function(e){var t,r;return null!==(t=null===(r=uu(e))||void 0===r?void 0:r.selectedJob)&&void 0!==t?t:{}},fu=(0,We.createSelector)(su,(function(e){return Xl(e.type)===Yl})),pu=function(e){return e.upload.errors},du=(0,We.createSelector)((function(e){return e.upload.queues}),(function(e){var t=e.failedItems,r=e.itemsFinished,n=e.itemsInProgress,o=e.itemsQueued,a=e.itemsWaitingToStart;return{failed:Array.isArray(t)?t.length:0,finished:Array.isArray(r)?r.length:0,inProgress:Array.isArray(n)?n.length:0,waiting:(Array.isArray(o)?o.length:0)+(Array.isArray(a)?a.length:0)}})),hu=(0,We.createSelector)((function(e){return e.upload.queues}),(function(e){var t,r=e.failedItems,n=e.itemsFinished,o=e.itemsInProgress,a=e.itemsQueued,i={},c=Ql(e.itemsWaitingToStart);try{for(c.s();!(t=c.n()).done;){i[t.value]=ol.q.WAITING}}catch(e){c.e(e)}finally{c.f()}var l,u=Ql(a);try{for(u.s();!(l=u.n()).done;){i[l.value]=ol.q.NEXT}}catch(e){u.e(e)}finally{u.f()}var s,f=Ql(o);try{for(f.s();!(s=f.n()).done;){i[s.value]=ol.q.WARNING}}catch(e){f.e(e)}finally{f.f()}var p,d=Ql(n);try{for(d.s();!(p=d.n()).done;){i[p.value]=ol.q.SUCCESS}}catch(e){d.e(e)}finally{d.f()}var h,y=Ql(r);try{for(y.s();!(h=y.n()).done;){i[h.value]=ol.q.ERROR}}catch(e){y.e(e)}finally{y.f()}return i})),yu=(0,We.createSelector)(du,(function(e){var t=e.failed,r=e.finished,n=e.inProgress,o=t+r+n+e.waiting;return o>0?[Math.round(100*r/o),Math.round(100*(r+n)/o)]:[0,0]})),mu=function(e){return iu(e).length>0},vu=function(e){return e.upload.currentJob.running},gu=function(e){var t;return Boolean(null===(t=e.upload.settings)||void 0===t?void 0:t.autoRetry)},bu=function(e){var t;return Boolean(null===(t=e.upload.settings)||void 0===t?void 0:t.flashFailed)},wu=r(40322),Eu="parameterUpload";r(23157);function Su(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ou(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ou(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xu(e){return e.map((function(e){var t=e.name,r=e.value;return"".concat(t,"=").concat(r)})).join("\n")}function Au(e){var t,r=[],n=0,o=Su((e||"").split("\n"));try{for(o.s();!(t=o.n()).done;){var a=t.value;if(n++,0!==(a=a.trim()).length&&!a.startsWith("#")&&!a.startsWith("//")){var i=a.replace(",","=").indexOf("=");if(i<0)throw new Error("Line ".concat(n," does not contain an equals sign (=) or a comma."));var c=a.slice(0,i).trim(),l=a.slice(i+1).trim();if(0===c.length)throw new Error("Line ".concat(n," contains no parameter name, only a value"));r.push({name:c,value:l})}}}catch(e){o.e(e)}finally{o.f()}return r}var ku=function(e){return Boolean(e.parameters.rebootAfterUpload)};function ju(e){return 0===e.parameters.manifest.order.length}function Cu(e){return e.parameters.dialog.open}var Pu=(0,We.createSelector)((function(e){return e.parameters.manifest}),Me.vA),Iu=(0,We.createSelector)(Pu,ku,(function(e,t){return{items:e.map((function(e){return{name:e.name,value:e.value}})).filter((function(e){var t=e.name;return"string"==typeof t&&t.length>0})),meta:{shouldReboot:t}}})),Tu=r(27178);function Lu(e){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(e)}function _u(){_u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Lu(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function Zu(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Nu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Zu(a,n,o,i,c,"next",e)}function c(e){Zu(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Du=r(11188);function Ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(r),!0).forEach((function(t){Mu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Gu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vu=function(e){var t=e.isConnected,r=e.isUploadInProgress,n=e.numberOfAveragingInProgress,o=e.showAveragingDialog,a=e.showLicenseInfoDialog,i=e.showMapCachingDialog,l=e.showParameterUploadDialog,u=Uu((0,c.useState)(null),2),s=u[0],f=u[1],p=function(){f(null)},d=function(e){return function(){p(),e()}},h=n>0;return c.createElement(c.Fragment,null,c.createElement(Hi.ZP,{"aria-controls":"toolbox-menu","aria-haspopup":"true",tooltip:"Toolbox",onClick:function(e){f(e.currentTarget)}},c.createElement(qi.Z,{color:Bn.ZP.warning,visible:h}),c.createElement(Tl.Z,null)),c.createElement(Il.Z,{id:"toolbox-menu",anchorEl:s,open:Boolean(s),onClose:p},c.createElement(U.Z,{onClick:d(o)},c.createElement(pt.Z,{primary:"Coordinate averaging",secondary:n>0?"".concat(n," in progress"):void 0})),c.createElement(U.Z,{onClick:d(i)},c.createElement(pt.Z,{primary:"Offline maps"})),c.createElement(U.Z,{onClick:d(l)},c.createElement(pt.Z,{primary:"Parameter upload",secondary:r?"Upload in progress":void 0})),c.createElement(or.Z,null),c.createElement(U.Z,{disabled:!t,onClick:d(a)},c.createElement(pt.Z,{primary:"License info"}))))};Vu.propTypes=Fu(Fu({},Hi.ZP.propTypes),{},{isConnected:i().bool,isUploadInProgress:i().bool,numberOfAveragingInProgress:i().number,showAveragingDialog:i().func,showMapCachingDialog:i().func,showParameterUploadDialog:i().func,showLicenseInfoDialog:i().func});const Bu=(0,s.$j)((function(e){return{isConnected:(0,tn.Mb)(e),isUploadInProgress:vu(e),numberOfAveragingInProgress:Rl(e).length}}),{showAveragingDialog:Hl.XC,showLicenseInfoDialog:Ll.Pf,showMapCachingDialog:_l.kA,showParameterUploadDialog:function(){return function(e,t){e(nu(t())===Eu?(0,wu.KE)({backAction:(0,Tu.on)()}):(0,Tu.on)())}},showVersionCheckDialog:Du.AU})(Vu);var Wu=r(69203),zu=r(82905),Hu=r(31574),qu=r(5742),Yu=r(99444),$u=(r(69720),r(99111)),Ku=r(73935);function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(this,arguments)}const Qu=c.forwardRef((function(e,t){return c.createElement(gc.Z,Xu({},e,{ref:t}),c.createElement("path",{d:"M 19,19 H 5 V 5 h 7 V 3 H 5 C 3.89,3 3,3.9 3,5 v 14 c 0,1.1 0.89,2 2,2 h 14 c 1.1,0 2,-0.9 2,-2 v -7 h -2 z m -4.24,-2.76 v -2 H 11.17 L 21,4.41 19.59,3 9.76,12.83 V 9.24 h -2 v 7 z"}))}));var Ju=function(e){return e.detachablePanels.detachedPanels},es=function(e,t){return e.detachablePanels.detachedPanels.includes(t)},ts=r(82046);function rs(e){return rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(e)}var ns=["glContainer"];function os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function as(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function is(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ls(e,t){return ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ls(e,t)}function us(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fs(e);if(t){var o=fs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ss(this,r)}}function ss(e,t){if(t&&("object"===rs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},fs(e)}function ps(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ds(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ys=function(e){var t=e.element[0].querySelector(".portal-container");if(null!==t)return t;var r=document.createElement("div");return r.classList.add("portal-container"),r.style.display="inline-block",e.titleElement[0].after(r),r},ms=function(e){var t=e.glContainer,r=e.label,n=e.onClick,o=ds((0,c.useState)(ys(t.tab)),2),a=o[0],i=o[1];(0,c.useEffect)((function(){var e=function(e){return i(ys(e))};return t.on("tab",e),function(){t.off("tab",e)}}),[t]);var l=c.createElement("div",{style:{width:"18px",height:"18px",position:"relative",marginLeft:"5px",marginRight:"-10px"}},c.createElement("ul",{className:"lm_controls"},c.createElement("li",{className:"lm_popout",title:"Detach ".concat(r," panel"),onClick:n})));return Ku.createPortal(l,a)};ms.propTypes={glContainer:i().object.isRequired,label:i().string.isRequired,onClick:i().func};var vs=function(e){var t=e.children,r=e.detached,n=e.glContainer,o=e.label,a=e.onAttach,i=e.onDetach;return r?c.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around",height:"100%",textAlign:"center"}},c.createElement("div",null,o," panel has been detached.",c.createElement("div",{style:{minHeight:"1em"}}),c.createElement(A.Z,{variant:"outlined",startIcon:c.createElement(Qu,null),onClick:a},"Attach"))):c.createElement(c.Fragment,null,c.createElement(ms,{glContainer:n,label:o,onClick:i}),t)};vs.propTypes={children:i().node.isRequired,detached:i().bool.isRequired,glContainer:i().object.isRequired,label:i().string.isRequired,onAttach:i().func.isRequired,onDetach:i().func.isRequired};var gs=(0,s.$j)((function(e,t){return{detached:es(e,t.name)}}),(function(e,t){var r=t.name;return{onAttach:function(){e((0,ts.ht)(r))},onDetach:function(){e((0,ts.k5)(r))}}}))(vs);var bs=function(e,t,r){var n;return n=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ls(e,t)}(u,n);var o,a,i,l=us(u);function u(){return is(this,u),l.apply(this,arguments)}return o=u,a=[{key:"render",value:function(){var n=this.props,o=n.glContainer,a=as(n,ns);return c.createElement(gs,{glContainer:o,name:e,label:t},c.createElement(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?os(Object(r),!0).forEach((function(t){ps(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):os(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({glContainer:o},a)))}}],a&&cs(o.prototype,a),i&&cs(o,i),Object.defineProperty(o,"prototype",{writable:!1}),u}(c.Component),ps(n,"propTypes",{glContainer:i().object.isRequired}),n};const ws={default:{label:"Default",layout:{type:"columns",contents:[{type:"stack",contents:[{type:"panel",component:"map",id:"map"},{type:"panel",component:"uav-list",id:"uavs"},{type:"panel",component:"three-d-view",id:"threeDView"}]},{type:"rows",contents:[{type:"stack",contents:[{type:"panel",component:"lcd-clock-panel",id:"clocks"},{type:"panel",component:"saved-location-list",id:"locations"},{type:"panel",component:"layer-list",id:"layers"}],height:25},{type:"stack",contents:[{type:"panel",component:"show-control",id:"show"},{type:"panel",component:"light-control",id:"lights"}]}],width:25}]}}};function Es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ss(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(r),!0).forEach((function(t){Os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Os(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xs(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return As(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return As(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function As(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ks=function e(t,r){var n=r.perspectiveBuilder,o=r.componentRegistry;switch(t.type){case"columns":case"rows":case"stack":n[{rows:"makeRows",columns:"makeColumns",stack:"makeStack"}[t.type]]();var a,i=xs(t.contents);try{for(i.s();!(a=i.n()).done;){e(a.value,r)}}catch(e){i.e(e)}finally{i.f()}n.finish();break;case"panel":n.add(t.component).setTitle(o[t.component].label),t.id&&n.setId(t.id);break;default:throw new Error("Unknown layout type: ".concat(t.type))}t.width&&n.setRelativeWidth(t.width),t.height&&n.setRelativeHeight(t.height)},js=function(e,t){return function(r){for(var n=("string"==typeof r?{inherits:r}:r)||{};n.inherits;){var o=ws[n.inherits]||{};delete n.inherits,n=Ss(Ss({},o),n)}var a=n,i=a.hideHeaders,c=a.isFixed,l=a.label,s=a.layout,f=new u.dG(t);return ks(s,{perspectiveBuilder:f,componentRegistry:e}),{label:l,isFixed:c,state:{content:f.build(),settings:{hasHeaders:!i}}}}},Cs=r(14077),Ps=r(286),Is=r(54247),Ts=r(65515),Ls=r(81860),_s=r(88995),Zs=r(71796),Ns=r(36602),Ds=r(96354),Rs=r(37944),Fs=r(31507),Ms=["onItemActivated","onSelectionChanged","selectedIds"];function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Us.apply(this,arguments)}function Gs(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Vs=(0,Zs.l0)((function(e,t,r){var n=e.position?c.createElement(ht.default,{content:"Show on map"},c.createElement(H.Z,{edge:"end",onClick:function(){return(0,Fs.Kc)(e.position)}},c.createElement(_s.Z,null))):null;return c.createElement(st.Z,{key:e.id,button:!0,className:r?"selected-list-item":void 0,onClick:t.onItemSelected},c.createElement(zu.default,{status:e.active?"success":"error"}),c.createElement(pt.Z,{primary:(0,Rs.P$)(e)}),c.createElement(Ls.Z,null,n))}),{backgroundHint:"No beacons",dataProvider:"beacons"}),Bs=function(e){var t=e.onItemActivated,r=e.onSelectionChanged,n=e.selectedIds,o=Gs(e,Ms);return c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(O.Z,{height:"100%",overflow:"auto"},c.createElement(Vs,Us({dense:!0,value:n||[],onActivate:t,onChange:r},o))))};Bs.propTypes={selectedIds:i().arrayOf(i().string).isRequired,onItemActivated:i().func,onSelectionChanged:i().func};const Ws=(0,s.$j)((function(e){return{beacons:(0,Rs.U7)(e),selectedIds:(0,Rs.E8)(e)}}),{onSelectionChanged:function(e){return(0,Ns.Z5)(e.map(Ds.YA))}})(Bs);var zs=r(66652),Hs=r(66054),qs=r(73234),Ys=r(11607),$s={system:{label:"Server clock",abbreviation:"SRV",affectedByClockSkew:!0},__local__:{label:"Client clock",abbreviation:"Time"},mission:{label:"Mission clock",abbreviation:"MSN",signed:!0,affectedByClockSkew:!0},mtc:{label:"MIDI timecode",abbreviation:"MTC"},show:{label:"Drone show clock",abbreviation:"SHOW",signed:!0,affectedByClockSkew:!0},end_of_show:{label:"Time until end of show",abbreviation:"END",signed:!0,affectedByClockSkew:!0}};function Ks(e){var t=e?$s[e.id]:null;return(t?t.abbreviation:null)||"CLK"}function Xs(e){return e?(t=e.id,((r=$s[t])?r.label:null)||"Clock \u2019".concat(t,"\u2019")):"";var t,r}function Qs(e,t,r){var n=t.epoch,o=t.ticksPerSecond,a=r.format,i=void 0===a?t.format:a,c=e/o;if((0,Be.default)(n)||Number.isNaN(n))return t.id===Ys.m?(c=Math.floor(c)+e%o/100,(0,qn.g)(c,{padHours:!0,precision:2})):o<=1?(0,qn.g)(c,{padHours:!0}):(0,qn.g)(c,{padHours:!0,precision:1});var l=new Date(1e3*(n+c));return(0,qs.default)(i)?i(l):(0,ki.Z)(l,i)}function Js(e,t){var r=e.referenceTime,n=e.running;return e.ticks+(n?(t-r)/1e3:0)*e.ticksPerSecond}function ef(e){return e?e.updateInterval?e.updateInterval:e.ticksPerSecond>1?Math.max(1e3/e.ticksPerSecond,100):1e3:1e3}function tf(e){var t=e?$s[e.id]:null;return!!t&&t.affectedByClockSkew}function rf(e){var t=e?$s[e.id]:null;return!!t&&t.signed}function nf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(r),!0).forEach((function(t){af(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function af(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cf=function(e,t){return e.clocks.byId[t]},lf=(0,We.createSelector)((function(e){return e.clocks}),Me.vA),uf=(0,We.createSelector)(lf,(function(e){return e.map((function(e){return of(of({},e),{},{updateInterval:ef(e)})}))})),sf=[c.createElement(Vn.Z,{key:"stop",style:{backgroundColor:xt.Z.A700}},c.createElement(Hs.Z,null)),c.createElement(Vn.Z,{key:"play",style:{backgroundColor:St.Z[500]}},c.createElement(zs.Z,null))],ff=function(e){var t=e.affectedByClockSkew,r=e.clock,n=e.clockSkew,o=e.format,a=r.running,i=r.updateInterval,l=sf[a?1:0],u=Xs(r),s=Qs(Js(r,Date.now()+(t&&!(0,Be.default)(n)?n:0)),r,{format:o}),f=(0,ji.Z)();return(0,Ci.Z)(f,a?i:null),c.createElement(st.Z,null,c.createElement(ft.Z,null,l),c.createElement(pt.Z,{primary:s,secondary:u}))};ff.propTypes={affectedByClockSkew:i().bool,clock:i().shape({epoch:i().number,id:i().string.isRequired,referenceTime:i().number.isRequired,ticks:i().number.isRequired,ticksPerSecond:i().number.isRequired,running:i().bool.isRequired,updateInterval:i().number.isRequired}),clockSkew:i().number,format:i().oneOfType([i().string,i().func])},ff.defaultProps={affectedByClockSkew:!1,clockSkew:0,format:"yyyy-MM-dd HH:mm:ss xx"};var pf=(0,Zs.P7)((function(e){return c.createElement(ff,{key:e.id,clock:e})}),{dataProvider:"clocks",backgroundHint:"No clocks"});pf.displayName="ClockDisplayListPresentation";const df=(0,s.$j)((function(e){return{clocks:uf(e),dense:!0}}),void 0)(pf);var hf,yf,mf=r(88105);function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}function gf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bf=(gf(hf={},Rc.em.CONNECTED,c.createElement(ft.Z,{style:{color:St.Z[500]}},c.createElement(kt.default,null))),gf(hf,Rc.em.CONNECTING,c.createElement(ft.Z,{style:{color:Ot.Z[700]}},c.createElement(Ac.default,null))),gf(hf,Rc.em.DISCONNECTED,c.createElement(ft.Z,{style:{color:xt.Z.A700}},c.createElement(Y.default,null))),gf(hf,Rc.em.DISCONNECTING,c.createElement(ft.Z,{style:{color:Ot.Z[700]}},c.createElement(Ac.default,null))),hf),wf=c.createElement(ft.Z,{style:{color:mf.Z[500]}},c.createElement(fl.Z,null)),Ef=(gf(yf={},Rc.em.CONNECTED,"Connected"),gf(yf,Rc.em.CONNECTING,"Connecting"),gf(yf,Rc.em.DISCONNECTED,"Disconnected"),gf(yf,Rc.em.DISCONNECTING,"Disconnecting"),yf),Sf=function(e){var t=e.action,r=e.name,n=e.state,o=e.stateChangedAt,a=bf[n]||wf,i=o?c.createElement(jc.Z,{date:o}):null,l=t?c.createElement(H.Z,{edge:"end",onClick:t},c.createElement(ac.Z,null)):null,u=Ef[n]||"Unknown state";return i&&(u=c.createElement("span",null,u," ",i)),c.createElement(st.Z,null,a,c.createElement(pt.Z,{primary:r,secondary:u}),c.createElement(Ls.Z,null,l))};Sf.propTypes={name:i().string.isRequired,state:i().string.isRequired,stateChangedAt:i().number,action:i().func};var Of=(0,Zs.P7)((function(e){return c.createElement(Sf,vf({key:e.id},e))}),{dataProvider:"connections",backgroundHint:"No connections"});Of.displayName="ConnectionListPresentation";const xf=(0,s.$j)((function(e){return{connections:(0,Tc.MT)(e)}}),(function(e){return{onShowSettings:function(){e(un())}}}))(Of);var Af=(0,We.createSelector)((function(e){return e.datasets}),Me.vA),kf=function(){return c.createElement(st.Z,null,c.createElement(pt.Z,{primary:"Dataset"}))};kf.propTypes={id:i().string.isRequired},kf.defaultProps={};var jf=(0,Zs.P7)(kf,{dataProvider:"datasets",backgroundHint:"No datasets"});jf.displayName="DatasetListPresentation";const Cf=(0,s.$j)((function(e){return{datasets:Af(e),dense:!0}}),void 0)(jf);var Pf=r(90645),If=r(9624),Tf=["onItemActivated","onSelectionChanged","selectedIds"];function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lf.apply(this,arguments)}function _f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Zf=(0,Zs.l0)((function(e,t,r){var n=e.position?c.createElement(ht.default,{content:"Show on map"},c.createElement(H.Z,{edge:"end",onClick:function(){return(0,Fs.Kc)(e.position)}},c.createElement(_s.Z,null))):null;return c.createElement(st.Z,{key:e.id,button:!0,className:r?"selected-list-item":void 0,onClick:t.onItemSelected},c.createElement(pt.Z,{primary:e.id}),c.createElement(Ls.Z,null,n))}),{backgroundHint:"No docking stations",dataProvider:"docks"}),Nf=function(e){var t=e.onItemActivated,r=e.onSelectionChanged,n=e.selectedIds,o=_f(e,Tf);return c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(O.Z,{height:"100%",overflow:"auto"},c.createElement(Zf,Lf({dense:!0,value:n||[],onActivate:t,onChange:r},o))))};Nf.propTypes={selectedIds:i().arrayOf(i().string).isRequired,onItemActivated:i().func,onSelectionChanged:i().func};const Df=(0,s.$j)((function(e){return{docks:(0,If.t)(e),selectedIds:(0,If.h)(e)}}),{onItemActivated:Pf.qc,onSelectionChanged:function(e){return(0,Ns.Z5)(e.map(Ds.cf))}})(Nf);var Rf=r(28428),Ff=r(8951),Mf=r(78513),Uf=r(20067),Gf=r(28270),Vf=r(15924);function Bf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const zf=function(){var e=Bf((0,c.useState)(null),2),t=e[0],r=e[1];return[t,function(e){return r(e.currentTarget)},function e(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(n.length>0){if("function"==typeof n[0])return function(t){n[0](t),e()};if(void 0===n[0])return}r(null)}]};var Hf=["featuresByIds"],qf=["onSetFeatureVisibility"];function Yf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(r),!0).forEach((function(t){Kf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xf(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Qf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ep=(0,At.Z)({container:{containerType:"inline-size"},item:{"@container (min-width: 351px)":{paddingRight:function(e){return 24*e.actions.length+12*(e.actions.length+1)}}},button:{"@container (max-width: 350px)":{display:"none"}},menu:{"@container (min-width: 351px)":{display:"none"}}},{name:"FeatureList"}),tp=function(e){var t=e.feature,r=e.onEditFeature,n=e.onFocusFeature,o=e.onRemoveFeature,a=e.onSelectFeature,i=e.onToggleFeatureVisibility,l=e.selected,u=t.id,s=t.color,f=t.label,p=t.type,d=t.visible,h=[{action:n,icon:c.createElement(Ff.Z,null),key:"focus",label:"Focus feature"},{action:i,icon:d?c.createElement(Uf.Z,null):c.createElement(Gf.Z,{color:"disabled"}),key:"visibility",label:"Toggle visibility"},{action:r,icon:c.createElement(Pa.Z,null),key:"edit",label:"Feature properties"},{action:o,icon:c.createElement(Rf.Z,null),key:"delete",label:"Remove"}],y=ep({actions:h}),m=c.createElement(c.Fragment,null,h.map((function(e){var t=e.action,r=e.icon,n=e.key,o=e.label;return c.createElement(Vf.kR,{key:n,content:o},c.createElement(H.Z,{className:y.button,edge:"end","data-id":u,onClick:t},r))}))),v=Qf(zf(),3),g=v[0],b=v[1],w=v[2],E=c.createElement(c.Fragment,null,c.createElement(H.Z,{className:y.menu,edge:"end",onClick:b},c.createElement(Mf.Z,null)),c.createElement(Il.Z,{anchorEl:g,open:null!==g,variant:"menu",onClose:w},h.map((function(e){var t=e.action,r=e.icon,n=e.key,o=e.label;return c.createElement(U.Z,{key:n,"data-id":u,onClick:w(t)},c.createElement(ft.Z,null,r),c.createElement(pt.Z,{primary:o}))}))));return c.createElement(st.Z,{button:!0,ContainerProps:{className:y.container},className:y.item,selected:l,"data-id":u,onClick:a},c.createElement(ft.Z,{style:{color:s,minWidth:0,marginRight:"16px"}},(0,Ar.GA)(p)),f?c.createElement(pt.Z,{style:{overflowWrap:"break-word"},primary:f}):c.createElement(pt.Z,{secondary:(0,Ar.IQ)(p)}),c.createElement(Ls.Z,null,m,E))};tp.propTypes={onEditFeature:i().func,onFocusFeature:i().func,onRemoveFeature:i().func,onSelectFeature:i().func,onToggleFeatureVisibility:i().func,feature:i().object.isRequired,selected:i().bool};var rp=(0,Zs.P7)((function(e,t){var r=t.onEditFeature,n=t.onFocusFeature,o=t.onRemoveFeature,a=t.onSelectFeature,i=t.onToggleFeatureVisibility,l=t.selectedFeatureIds;return c.createElement(tp,{key:e.id,feature:e,selected:l.includes(e.id),onEditFeature:r,onFocusFeature:n,onRemoveFeature:o,onSelectFeature:a,onToggleFeatureVisibility:i})}),{dataProvider:"features",backgroundHint:"No features"});rp.displayName="FeatureListPresentation";const np=(0,s.$j)((function(e){return{dense:!0,features:(0,br.vQ)(e),featuresByIds:(0,br.Sf)(e),selectedFeatureIds:(0,br.zf)(e)}}),(function(e){return{onEditFeature:function(t){var r=t.currentTarget.dataset.id;r&&e((0,gr.B$)(r))},onRemoveFeature:function(t){var r=t.currentTarget.dataset.id;r&&e((0,wr.hW)([r]))},onSelectFeature:function(t){var r=t.currentTarget.dataset.id,n=t.shiftKey?Ns.cY:t.altKey?Ns.Vx:t.ctrlKey||t.metaKey?Ns.Iv:Ns.Z5;r&&e(n([(0,Ds.Pe)(r)]))},onSetFeatureVisibility:function(t,r){var n=t.currentTarget.dataset.id;n&&e((0,wr.Co)({id:n,visible:r}))}}}),(function(e,t,r){var n=e.featuresByIds,o=Xf(e,Hf),a=t.onSetFeatureVisibility,i=Xf(t,qf);return $f($f($f($f({},r),o),i),{},{onFocusFeature:function(e){var t=e.currentTarget.dataset.id;t&&(0,Fs.P7)(n[t].points)},onToggleFeatureVisibility:function(e){var t=e.currentTarget.dataset.id;t&&a(e,!n[t].visible)}})}))(rp);var op=r(61139);function ap(e){return function(e){if(Array.isArray(e))return ip(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ip(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ip(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ip(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var cp=function(e){return c.createElement(st.Z,{key:"__newItem__",button:!0,onClick:e.onNewItem},c.createElement(ft.Z,null,c.createElement(op.Z,null)),c.createElement(pt.Z,{primary:"Add new layer"}))},lp=(0,Zs.S6)((function(e,t){var r=(0,Ho.gc)(e.type);return c.createElement(st.Z,{key:e.id,button:!0,style:e.visible?void 0:{opacity:.3},onClick:t.onItemSelected},r&&c.createElement(ft.Z,null,r),c.createElement(pt.Z,{primary:e.label,secondary:(0,Ho.DT)(e.type)}))}),{dataProvider:"layers",postprocess:function(e,t){return[cp(t)].concat(ap(e))}});lp.propTypes={onChange:i().func,onNewItem:i().func,layers:i().arrayOf(i().oneOfType([i().object,i().string])).isRequired};const up=(0,s.$j)((function(e){return{dense:!0,layers:(0,Tc.Yo)(e)}}),(function(e){return{onChange:function(t,r){e((0,Wo.wp)(r))},onNewItem:function(){var t=(0,zo.A4)();e(t),t.id&&e((0,Wo.wp)(t.id))}}}))(lp);var sp=r(43590),fp=r(22230),pp=["children","color","decoration","height","off","offSegments","variant"];function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}function hp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(r),!0).forEach((function(t){mp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r(87009);var gp={default:{},"7segment":{fontFamily:"DSEG7-Classic",allSegmentsChar:"8"},"14segment":{fontFamily:"DSEG14-Classic",allSegmentsChar:"~"}},bp={position:"absolute",left:0,top:0,opacity:.2},wp=function(e){var t=e.children,r=e.color,n=e.decoration,o=e.height,a=e.off,i=e.offSegments,l=e.variant,u=vp(e,pp),s=(0,c.useMemo)((function(){var e=void 0===o?void 0:Math.floor(.7*o),t={fontSize:e,height:o};if(void 0!==r&&(t.color=r),a&&(t.opacity=.3),!a)switch(n){case"glow":var i=void 0===e?4:Math.round(e);t.textShadow="0 0 ".concat(i,"px ").concat(r||"currentColor");break;case"shadow":var c=void 0===e||e<=16?1:2,l=new(Gn())(r||"black").alpha(.3).string();t.textShadow="".concat(c,"px ").concat(c,"px 0 ").concat(l)}return t.transition="color 150ms",t}),[r,n,o,a]),f=(0,c.useMemo)((function(){var e=Math.floor(.7*o);return yp(yp({},bp),{},{color:r||"black",fontSize:e,height:o})}),[r,o]);return l=l||"default",c.createElement(O.Z,dp({position:"relative",display:"inline-block",fontFamily:gp[l].fontFamily},u),i&&"default"!==l&&c.createElement("div",{style:f},t.replace(/[^:. ]/g,gp[l].allSegmentsChar||"")),c.createElement("div",{style:s},t))};wp.propTypes={children:i().node,color:i().string,decoration:i().oneOf(["plain","glow","shadow"]),height:i().number,off:i().bool,offSegments:i().bool,variant:i().oneOf(["default","7segment","14segment"])},wp.defaultProps={decoration:"plain",variant:"default"};const Ep=wp;function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sp.apply(this,arguments)}var Op=function(e){var t=e.clocks,r=e.lcdStyle,n=e.onClick,o=e.selectedClockId;return t.map((function(e){return c.createElement(Ep,Sp({key:e.id},r,{p:.5,off:e.id!==o,onClick:e.id!==o&&n?function(){return n(e.id)}:void 0}),e.label)}))};Op.propTypes={clocks:i().arrayOf(i().shape({id:i().string,label:i().string})),lcdStyle:i().object,onClock:i().func,selectedClockId:i().string};const xp=Op;var Ap=["affectedByClockSkew","clock","clockId","clockSkew","format","signed","updateInterval"];function kp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var jp=function(e){var t=e.affectedByClockSkew,r=e.clock,n=(e.clockId,e.clockSkew),o=e.format,a=e.signed,i=e.updateInterval,l=kp(e,Ap),u=(r||{}).running,s=Date.now()+(t&&!(0,Be.default)(n)?n:0),f=r?Js(r,s):void 0,p=void 0===f?"--:--:--":Qs(f,r,{format:o}),d=(0,ji.Z)();return a&&"-"!==p.charAt(0)&&(p="!"+p),(0,Ci.Z)(d,u?i:null),c.createElement(Ep,l,p)};jp.propTypes={affectedByClockSkew:i().bool,clock:i().object,clockId:i().string,clockSkew:i().number,format:i().string,signed:i().bool,updateInterval:i().number},jp.defaultProps={format:"HH:mm:ss"};const Cp=(0,s.$j)((function(e,t){var r=cf(e,t.clockId),n=rf(r),o=tf(r),a=ef(r);return{affectedByClockSkew:o,clock:r,clockSkew:(0,tn.iO)(e),signed:n,updateInterval:a}}),{})(jp);r(26833),r(2707),r(43290);var Pp=r(77186);function Ip(e){return function(e){if(Array.isArray(e))return _p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tp(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Lp(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Lp(e,t){if(e){if("string"==typeof e)return _p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_p(e,t):void 0}}function _p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zp=function(e,t){var r=e.lcdClock.byId[t];return r?r.clockId:void 0},Np=function(e,t){var r=e.lcdClock.byId[t];return r?r.preset:0},Dp=(0,We.createSelector)(lf,(function(e){for(var t=e.map((function(e){return{id:e.id,label:Ks(e)}})),r=(0,Dc.Z)(t,"label"),n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];if(r[a]>1){var i,c=1,l=Tp(t);try{for(l.s();!(i=l.n()).done;){var u=i.value;u.label===a&&(u.label="".concat(a).concat(c),c++)}}catch(e){l.e(e)}finally{l.f()}}}return t})),Rp=((0,We.createSelector)((function(e){return e.lcdClock}),Me.vA),function(e){var t,r=e.lcdClock,n=r.byId,o=r.order.map((function(e){return n[e]?n[e].clockId:void 0})).filter(Boolean),a=Tp(lf(e));try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!o.includes(i.id))return i.id}}catch(e){a.e(e)}finally{a.f()}var c=(0,Dc.Z)(o),l=Math.min.apply(Math,Ip(Object.values(c))),u=Object.keys((0,Pp.Z)(c,(function(e){return e===l})));return u.sort(),u[0]}),Fp=function(e){var t,r=e.lcdClock,n=r.byId,o=r.order,a=new Array(5).fill(0),i=Tp(o);try{for(i.s();!(t=i.n()).done;){var c=n[t.value];c&&"number"==typeof c.preset&&c.preset>=0&&c.preset<5&&a[c.preset]++}}catch(e){i.e(e)}finally{i.f()}return a.indexOf(Math.min.apply(Math,Ip(a)))},Mp=r(69986);var Up=["clocks","id","onAdd","onClockSelected","onNextPreset","onRemove","preset","selectedClockId","hideInactiveSegmentsOnDarkLCD","style"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}function Vp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hp(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var qp=(0,At.Z)((function(e){return{root:{alignItems:"stretch",borderBottom:"light"===e.palette.type?"4px solid #f4f4f4":"4px solid black",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden",position:"relative",userSelect:"none",boxShadow:"light"===e.palette.type?"0 0 6px 2px rgba(0, 0, 0, 0.4) inset":void 0,transition:"background-color 150ms","&:last-child":{borderBottom:"none"}},button:{width:24,textAlign:"center",lineHeight:"24px"}}}),{name:"LCDClockDisplay"}),Yp={dark:[{backgroundColor:"black",color:function(e){return e.palette.secondary.main}},{backgroundColor:"black",color:"#f00"},{backgroundColor:"black",color:"#0f0"},{backgroundColor:"black",color:"#fc0"},{backgroundColor:"black",color:"#c0f"}],light:[{backgroundColor:"rgb(149, 177, 89)",color:"black",noise:!0},{backgroundColor:"#f80",color:"black",noise:!0},{backgroundColor:"#0cf",color:"black",noise:!0},{backgroundColor:"#fc0",color:"black",noise:!0},{backgroundColor:"#4fc",color:"black",noise:!0}]},$p=function(e,t,r){return("function"==typeof t?t(e):t)||r},Kp=function(e){var t=e.clocks,r=(e.id,e.onAdd),o=e.onClockSelected,a=e.onNextPreset,i=e.onRemove,l=e.preset,u=e.selectedClockId,s=e.hideInactiveSegmentsOnDarkLCD,f=e.style,p=Hp(e,Up),d=qp(),h=(0,ar.Z)(),y=Wp((0,sp.Z)(),2),m=y[0],v=y[1],g=v.height,b=v.width,w=(0,Ct.isThemeDark)(h)?"dark":"light",E=Yp[w][l]||Yp[w][0],S="dark"===w?{color:$p(h,E.color,h.palette.secondary.main),decoration:"glow",offSegments:!s}:{color:$p(h,E.color,"black"),decoration:"shadow"},x=b>0&&g>0?Math.floor(b<5*g?b/5:g):0,A=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vp(Object(r),!0).forEach((function(t){Bp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({backgroundColor:$p(h,E.backgroundColor,"black"),backgroundImage:$p(h,E.noise,!1)?"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==)":void 0},f);return c.createElement(O.Z,Gp({className:(0,n.default)(d.root),style:A},p),c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},r&&c.createElement(O.Z,{className:(0,n.default)(d.button),onClick:r},c.createElement(Ep,S,"+")),i&&c.createElement(O.Z,{className:(0,n.default)(d.button),onClick:i},c.createElement(Ep,S,"X")),c.createElement(O.Z,{flex:1}),c.createElement(xp,{clocks:t,lcdStyle:S,selectedClockId:u,onClick:o}),c.createElement(O.Z,{flex:1}),c.createElement(O.Z,{className:(0,n.default)(d.button),onClick:a},c.createElement(Ep,S,c.createElement(fp.Z,{style:{fontSize:12}})))),c.createElement(O.Z,{ref:m,flex:1,overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},c.createElement(Cp,Gp({clockId:u,height:x,variant:"14segment"},S))))};Kp.propTypes={clocks:i().arrayOf(i().shape({id:i().string,label:i().string})),id:i().string,preset:i().number,onAdd:i().func,onClockSelected:i().func,onNextPreset:i().func,onRemove:i().func,selectedClockId:i().string,hideInactiveSegmentsOnDarkLCD:i().bool,style:i().object},Kp.defaultProps={preset:0};const Xp=(0,s.$j)((function(e,t){return{clocks:Dp(e),preset:Np(e,t.id),selectedClockId:Zp(e,t.id),hideInactiveSegmentsOnDarkLCD:(0,$t.nx)(e)}}),(function(e,t){return{onClockSelected:function(r){e((0,Mp.Ft)({clockId:r,id:t.id}))},onNextPreset:function(){var r;e((r=t.id,function(e,t){var n,o=t().lcdClock.byId[r],a=o?o.preset:-1;e((0,Mp.AL)({id:r,preset:(n=a,(n+1)%5)}))}))}}}))(Kp);var Qp=(0,At.Z)((function(){return{root:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"}}}),{name:"LCDClockPanel"}),Jp=function(e){var t=e.addClockDisplay,r=e.ids,o=e.removeClockDisplay,a=Qp();return c.createElement(O.Z,{className:(0,n.default)(a.root)},(r||[]).map((function(e,r){return c.createElement(Xp,{key:e,id:e,flex:1,onAdd:0===r?t:null,onRemove:0===r?null:function(){return o(e)}})})))};Jp.propTypes={ids:i().arrayOf(i().string),addClockDisplay:i().func,removeClockDisplay:i().func},Jp.defaultProps={};const ed=(0,s.$j)((function(e){return{ids:e.lcdClock.order}}),{addClockDisplay:function(){return function(e,t){var r=t();e((0,Mp.YZ)({clockId:Rp(r),preset:Fp(r)}))}},removeClockDisplay:Mp.cs})(Jp);var td=r(55651),rd=r(32467),nd=["children","className","color","dense","icon"];function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}function ad(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function id(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?id(Object(r),!0).forEach((function(t){ld(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):id(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ld(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ud=(0,At.Z)((function(e){return{icon:{fontSize:"48px"},root:function(t){var r=t.color,n=t.dense,o=Gn()(r);return cd(cd({},e.typography.button),{},{backgroundColor:r,borderRadius:e.spacing(.5),boxShadow:e.shadows[2],boxSizing:"border-box",color:o.isLight()?"rgba(0, 0, 0, 0.87)":"rgba(255, 255, 255, 0.87)",flexDirection:"column",padding:e.spacing(1,n?1:3),textDecoration:"none",transition:e.transitions.create(["background-color","box-shadow"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:o.darken(.16).string(),boxShadow:e.shadows[4]}})}}}),{name:"ColoredButton"}),sd=function(e){var t=e.children,r=e.className,o=e.color,a=e.dense,i=e.icon,l=ad(e,nd),u=ud({color:o,dense:a});return c.createElement(rd.Z,od({focusRipple:!0,className:(0,n.default)(r,u.root)},l),i&&c.createElement("div",{className:u.icon},i),c.createElement("div",{className:u.label},t))};sd.propTypes={children:i().oneOfType([i().node,i().arrayOf(i().node)]),className:i().string,color:i().string,dense:i().bool,icon:i().node};const fd=sd;function pd(e){return e.lightControl.active}function dd(e){return e.lightControl.color}var hd=r(88708),yd=r(77646);function md(e){return md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(e)}function vd(){vd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==md(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function gd(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function bd(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){gd(a,n,o,i,c,"next",e)}function c(e){gd(a,n,o,i,c,"throw",e)}i(void 0)}))}}function wd(e,t){return Ed.apply(this,arguments)}function Ed(){return(Ed=bd(vd().mark((function e(t,r){var n,o,a;return vd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(),o=pd(n),a=dd(n),e.prev=3,e.next=6,bn.Z.execute.setShowLightConfiguration({effect:o?"solid":"off",color:Gn()(a).rgb().array()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),t((0,yd.c)({message:"Failed to update light configuration on the server.",semantics:qu.jo.ERROR}));case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}var Sd=["color","label","onClick"];function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function xd(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ad=function(e){var t=e.color,r=e.label,n=e.onClick,o=xd(e,Sd);return c.createElement(fd,Od({dense:!0,color:t},o,{onClick:n?function(){return n(t)}:void 0}),r)};Ad.propTypes={color:i().string,label:i().string,onClick:i().func},Ad.defaultProps={label:"\xa0"};var kd=(0,At.Z)((function(e){return{root:{display:"flex",flex:1,flexDirection:"column",height:"100%",padding:e.spacing(1),"& .react-colorful":{borderRadius:e.shape.borderRadius,width:"100%"},"& .react-colorful__saturation":{borderRadius:"".concat(e.shape.borderRadius,"px ").concat(e.shape.borderRadius,"px 0 0")},"& .react-colorful__last_control":{borderRadius:"0 0 ".concat(e.shape.borderRadius,"px ").concat(e.shape.borderRadius,"px")}},grid:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gridGap:e.spacing(.5)},picker:{flex:1,padding:e.spacing(1,0)},textField:{background:e.palette.action.hover,border:"none",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,padding:e.spacing(1),textAlign:"center",textTransform:"uppercase","&:focus":{outline:"none"}}}}),{name:"LightControlGrid"}),jd=function(e){var t=e.color,r=e.onSetColor,n=e.onSetColorAndActivate,o=kd();return c.createElement(O.Z,{className:o.root},c.createElement(O.Z,{className:o.grid},c.createElement(Ad,{color:"#000000",label:"All off",style:{gridColumn:"1 / span 2"},onClick:n}),c.createElement(Ad,{color:"#404040",label:"25%",onClick:n}),c.createElement(Ad,{color:"#808080",label:"50%",onClick:n}),c.createElement(Ad,{color:"#ffffff",label:"All on",style:{gridColumn:"5 / span 3"},onClick:n}),c.createElement(Ad,{color:"#ff0000",onClick:n}),c.createElement(Ad,{color:"#ffff00",onClick:n}),c.createElement(Ad,{color:"#00ff00",onClick:n}),c.createElement(Ad,{color:"#00ffff",onClick:n}),c.createElement(Ad,{color:"#0000ff",onClick:n}),c.createElement(Ad,{color:"#ff00ff",onClick:n})),c.createElement(td.gW,{className:o.picker,color:t,onChange:r}),c.createElement(td.ZE,{prefixed:!0,className:o.textField,color:t,onChange:r}))};jd.propTypes={color:i().string,onSetColor:i().func,onSetColorAndActivate:i().func};const Cd=(0,s.$j)((function(e){return{color:dd(e)}}),{onSetColor:function(e){return function(t,r){var n=pd(r());t((0,hd.vk)(e)),n&&wd(t,r)}},onSetColorAndActivate:function(e){return function(t,r){t((0,hd.vk)(e)),t((0,hd.__)(!0)),wd(t,r)}}})(jd);var Pd=function(e){var t=e.active,r=e.connected,n=e.onToggle,o=e.t;return c.createElement(st.Z,{button:!0,disabled:!r,onClick:r?n:void 0},c.createElement(dt.Z,{checked:t&&r}),c.createElement(pt.Z,{primary:o(r?t?"lightControl.fromGCS":"lightControl.notFromGCS":"lightControl.notConnected"),secondary:r?t?"Click to restore default light program":"Click to take control":"Connect to a server to control lights"}))};Pd.propTypes={active:i().bool,connected:i().bool,onToggle:i().func,t:i().func};const Id=(0,s.$j)((function(e){return{active:pd(e),connected:(0,tn.Mb)(e)}}),{onToggle:function(){return function(e,t){var r=pd(t());e((0,hd.__)(!r)),wd(e,t)}}})((0,y.Zh)()(Pd));const Td=function(){return c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%",id:"tour-light-control",overflow:"hidden"},c.createElement(ut.Z,{dense:!0},c.createElement(Id,null)),c.createElement(or.Z,null),c.createElement(Cd,null))};var Ld=(0,We.createSelector)((function(e){return e.savedLocations}),Me.vA),_d=(0,We.createSelector)((function(e){return e.map.view}),(function(e){return(0,Te.VM)(e)}),(function(e,t){return{center:{lon:e.position[0].toFixed(6),lat:e.position[1].toFixed(6)},rotation:t,zoom:Math.round(e.zoom)}})),Zd=function(e){return e.dialogs.savedLocationEditor.editedLocationId},Nd=function(e){return e.dialogs.savedLocationEditor.dialogVisible},Dd=r(39581),Rd=r(34969);function Fd(e){return Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(e)}function Md(){Md=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Fd(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function Ud(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}Dd.N.addSavedLocation;var Gd=Dd.N.createNewSavedLocation,Vd=Dd.N.deleteSavedLocation,Bd=Dd.N.updateSavedLocation,Wd=Rd.N.editSavedLocation,zd=Rd.N._cancelLocationEditing,Hd=Rd.N._closeSavedLocationEditorDialog,qd=function(){return function(){var e,t=(e=Md().mark((function e(t,r){return Md().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Hd()),e.next=3,Ur()(1e3);case 3:Nd(r())||t(zd());case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ud(a,n,o,i,c,"next",e)}function c(e){Ud(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()};function Yd(e){return function(e){if(Array.isArray(e))return $d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kd=function(e){var t=e.location,r=e.onEditItem,n=t.id,o=t.name,a=c.createElement(Vf.kR,{content:"Edit location"},c.createElement(H.Z,{edge:"end",onClick:function(){return r(n)}},c.createElement(Pa.Z,null)));return c.createElement(st.Z,{button:!0,onClick:function(){return(0,Fs.Kc)(t.center,{rotation:t.rotation,zoom:t.zoom})}},c.createElement(pt.Z,{primary:o}),c.createElement(Ls.Z,null,a))};Kd.propTypes={onEditItem:i().func.isRequired,location:i().object.isRequired};var Xd=function(e){return c.createElement(st.Z,{key:"__addNew__",button:!0,onClick:e.onNewItem},c.createElement(pt.Z,{primary:"Add new location"}))},Qd=(0,Zs.P7)((function(e,t){return c.createElement(Kd,{key:e.id,location:e,onEditItem:t.onEditItem})}),{dataProvider:"savedLocations",backgroundHint:"No saved locations",postprocess:function(e,t){return[Xd(t)].concat(Yd(e))}});Qd.displayName="LocationListPresentation";const Jd=(0,s.$j)((function(e){return{dense:!0,savedLocations:Ld(e)}}),(function(e){return{onEditItem:function(t){e(Wd(t))},onNewItem:function(){var t=Gd();e(t),t.id&&e(Wd(t.id))}}}))(Qd);var eh=r(18127),th=r(8),rh=r(20348),nh=r(33758),oh=r(21673),ah=r(96630),ih=r(15406),ch=r(4662),lh=r(41929),uh=r(67531),sh=["children","direction","in","onEnter","onExit","style","timeout"];function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(this,arguments)}function ph(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(r),!0).forEach((function(t){hh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ph(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yh(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var mh={up:{entering:{opacity:1,transform:"translateY(0)"},entered:{opacity:1,transform:"translateY(0)"},exiting:{opacity:0,transform:"translateY(-16px)"},exited:{opacity:0,transform:"translateY(16px)"}},left:{entering:{opacity:1,transform:"translateX(0)"},entered:{opacity:1,transform:"translateX(0)"},exiting:{opacity:0,transform:"translateX(-16px)"},exited:{opacity:0,transform:"translateX(16px)"}}},vh={enter:ih.duration.enteringScreen,exit:ih.duration.leavingScreen},gh=c.forwardRef((function(e,t){var r=e.children,n=e.direction,o=e.in,a=e.onEnter,i=e.onExit,l=e.style,u=e.timeout,s=void 0===u?vh:u,f=yh(e,sh),p=(0,ch.Z)(),d=(0,uh.Z)(r.ref,t),h=mh[n];return c.createElement(ah.default,fh({in:o,timeout:s,onEnter:function(e,t){(0,lh.nq)(e);var r=(0,lh.CS)({style:l,timeout:s},{mode:"enter"});e.style.webkitTransition=p.transitions.create(["opacity","transform"],r),e.style.transition=p.transitions.create(["opacity","transform"],r),a&&a(e,t)},onExit:function(e){var t=(0,lh.CS)({style:l,timeout:s},{mode:"exit"});e.style.webkitTransition=p.transitions.create(["opacity","transform"],t),e.style.transition=p.transitions.create(["opacity","transform"],t),i&&i(e)}},f),(function(e,t){return c.cloneElement(r,dh({style:dh(dh(dh({visibility:"exited"!==e||o?void 0:"hidden"},h[e]),l),r.props.style),ref:d},t))}))}));gh.propTypes={children:i().element,direction:i().oneOf(Object.keys(mh)),in:i().bool,onEnter:i().func,onExit:i().func,style:i().object,timeout:i().oneOfType([i().number,i().shape({enter:i().number,exit:i().number})])},gh.defaultProps={direction:"up"};const bh=gh;var wh,Eh=r(76415);function Sh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oh=(Sh(wh={},Eh.in.DEBUG,Ct.Status.DEBUG),Sh(wh,Eh.in.INFO,null),Sh(wh,Eh.in.WARNING,Ct.Status.WARNING),Sh(wh,Eh.in.ERROR,Ct.Status.ERROR),Sh(wh,Eh.in.FATAL,Ct.Status.FATAL),wh);function xh(e){return"success"===e.semantics?Ct.Status.SUCCESS:(t=e.level)<=Eh.in.DEBUG?Oh[Eh.in.DEBUG]:t<=Eh.in.INFO?Oh[Eh.in.INFO]:t<=Eh.in.WARNING?Oh[Eh.in.WARNING]:t<=Eh.in.ERROR?Oh[Eh.in.ERROR]:t<=Eh.in.FATAL?Oh[Eh.in.FATAL]:Ct.Status.OFF;var t}var Ah=(0,At.Z)((function(e){return{root:{display:"flex",padding:e.spacing(0,1),alignItems:"stretch",borderBottom:"1px solid ".concat(e.palette.divider),cursor:"default","&:hover":{backgroundColor:e.palette.action.hover}},statusLight:{paddingTop:2,width:20},timestamp:{color:e.palette.text.secondary,paddingRight:e.spacing(1),width:56,textAlign:"right"},module:{color:e.palette.primary[500],overflow:"hidden",paddingRight:e.spacing(1),textOverflow:"ellipsis",width:96},auxiliaryId:{color:e.palette.text.secondary,overflow:"hidden",paddingRight:e.spacing(1),textOverflow:"ellipsis",width:80},moduleExtended:{color:e.palette.primary[500],overflow:"hidden",paddingRight:e.spacing(1),textOverflow:"ellipsis",width:176},message:{flex:1,overflow:"hidden",whiteSpace:"noWrap"}}})),kh=c.memo((function(e){var t,r=e.item,n=xh(r),o=Ah();try{t=(0,ki.Z)(r.timestamp,"H:mm:ss")}catch(e){t="??:??:??"}return c.createElement("div",{className:o.root},c.createElement("div",{className:o.statusLight},n&&c.createElement(zu.default,{inline:!0,status:xh(r)})),c.createElement("div",{className:o.timestamp},t),r.auxiliaryId?c.createElement(c.Fragment,null,c.createElement("div",{className:o.module},r.module),c.createElement("div",{className:o.auxiliaryId},r.auxiliaryId)):c.createElement("div",{className:o.moduleExtended},r.module),c.createElement("div",{className:o.message},r.message))}));kh.propTypes={item:i().shape({level:i().number,message:i().string,module:i().string,timestamp:i().number,auxiliaryId:i().string})};const jh=kh;function Ch(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ph(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ph(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ph(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ih=function(e,t){return c.createElement(jh,{item:t})},Th=(0,At.Z)((function(e){return{scrollToBottomButton:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}})),Lh=function(e){var t=e.items,r=(0,c.useRef)(null),n=(0,c.useRef)(null),o=Ch((0,c.useState)(!0),2),a=o[0],i=o[1],l=Ch((0,c.useState)(!1),2),u=l[0],s=l[1],f=Th(),p=(0,c.useCallback)((function(){r.current&&r.current.scrollToIndex({index:t.length,behaviour:"smooth"})}),[r,t]);return(0,c.useEffect)((function(){if(t&&t.length>0){var e=t[t.length-1].id;e!==n.current&&(a&&(s(!0),setTimeout(p,100),setTimeout((function(){return s(!1)}),500)),n.current=e)}else n.current=null}),[a,t,p]),c.createElement(c.Fragment,null,c.createElement(rh.OO,{ref:r,followOutput:!0,data:t,itemContent:Ih,atBottomStateChange:i}),c.createElement(bh,{in:!a&&!u},c.createElement(nh.Z,{color:"secondary",size:"small",className:f.scrollToBottomButton,onClick:p},c.createElement(oh.Z,null))))};Lh.propTypes={items:i().array};const _h=Lh;var Zh=function(e){var t=e.items,r=e.updateLogPanelVisibility;return(0,eh.Z)((function(){return r(!0),function(){return r(!1)}})),c.createElement(_h,{items:t})};Zh.propTypes={items:i().array,updateLogPanelVisibility:i().func.isRequired};const Nh=(0,s.$j)((function(e){return{items:e.log.items}}),{updateLogPanelVisibility:th.xy})(Zh);var Dh=r(52543),Rh=r(18442);function Fh(e){return Fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(e)}var Mh=["children"];function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uh.apply(this,arguments)}function Gh(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Vh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bh(e,t){return Bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bh(e,t)}function Wh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Hh(e);if(t){var o=Hh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zh(this,r)}}function zh(e,t){if(t&&("object"===Fh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hh(e)}var qh,Yh,$h,Kh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bh(e,t)}(a,e);var t,r,n,o=Wh(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e))._domNode=c.createRef(),t._endNode=c.createRef(),t}return t=a,(r=[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(e,t,r){r&&r.shouldScrollToBottom&&this.scrollToBottom()}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this._domNode.current;return{shouldScrollToBottom:e&&e.scrollTop+e.clientHeight>=e.scrollHeight-20}}},{key:"render",value:function(){var e=this.props,t=e.children,r=Gh(e,Mh);return c.createElement(O.Z,Uh({ref:this._domNode,position:"relative",overflow:"auto",flex:"1 1 100%"},r),t,c.createElement("div",{ref:this._endNode}))}},{key:"scrollToBottom",value:function(){var e=this._endNode.current;e&&e.scrollIntoView({behaviour:"smooth"})}}])&&Vh(t.prototype,r),n&&Vh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);qh=Kh,Yh="propTypes",$h={children:i().oneOfType([i().arrayOf(i().node),i().node]),style:i().object},Yh in qh?Object.defineProperty(qh,Yh,{value:$h,enumerable:!0,configurable:!0,writable:!0}):qh[Yh]=$h;var Xh=r(7748),Qh=r(96230),Jh=r(76206),ey=r(29802),ty=(0,At.Z)((function(e){return{root:{margin:e.spacing(.25,0,0,0),display:"flex",alignItems:"flex-start",width:"100%"},bubble:{position:"relative",borderRadius:5,padding:e.spacing(.5,1),margin:e.spacing(.25,0,0,0),minHeight:e.spacing(1),overflowX:"auto","& pre":{margin:e.spacing(.5)}},ownBubble:{background:(0,Ct.isThemeDark)(e)?Qh.Z[400]:Qh.Z[600],color:e.palette.getContrastText((0,Ct.isThemeDark)(e)?Qh.Z[400]:Qh.Z[600])},otherBubble:{background:(0,Ct.isThemeDark)(e)?mf.Z[900]:mf.Z[100],color:e.palette.getContrastText((0,Ct.isThemeDark)(e)?mf.Z[900]:mf.Z[100]),"& .chat-meta":{textAlign:"right"},"&.severity-critical":{borderLeft:"3px solid ".concat((0,Bn.oM)(Jh.zb.CRITICAL))},"&.severity-debug":{borderLeft:"3px solid ".concat((0,Bn.oM)(Jh.zb.DEBUG))},"&.severity-error":{borderLeft:"3px solid ".concat((0,Bn.oM)(Jh.zb.ERROR))},"&.severity-info":{borderLeft:"3px solid ".concat((0,Bn.oM)(Jh.zb.INFO))},"&.severity-warning":{borderLeft:"3px solid ".concat((0,Bn.oM)(Jh.zb.WARNING))}},meta:{fontSize:"smaller",margin:e.spacing(.5,0,0,0),textAlign:"left","& .author":{fontWeight:"bold",color:e.palette.text.secondary},"& .date":{color:e.palette.text.hint,float:"right"}}}}),{name:"ChatBubble"}),ry=function(e){var t=e.author,r=e.body,o=e.date,a=e.leftComponent,i=e.own,l=e.raw,u=e.rightComponent,s=e.severity,f=e.showMeta,p=ty(),d=o&&f&&c.createElement("span",{className:"date"},o),h=a&&c.createElement("div",{style:{flex:0}},a),y=u&&c.createElement("div",{style:{flex:0}},u),m=(0,n.default)(p.bubble,i?p.ownBubble:p.otherBubble,s&&"severity-".concat(s)),v=c.createElement("div",{className:m},l?c.createElement(Xh.Lu,{content:r}):r);return c.createElement("div",{className:(0,n.default)(p.root,i?p.own:p.other)},h,c.createElement("div",{style:{flex:1,maxWidth:"100%"}},f&&c.createElement("div",{className:p.meta},c.createElement("span",{className:"author"},t)," ",d),v),y)};ry.propTypes={author:i().string,body:i().string,date:i().string,own:i().bool,raw:i().bool,leftComponent:i().oneOfType([i().node,i().arrayOf(i().node)]),rightComponent:i().oneOfType([i().node,i().arrayOf(i().node)]),severity:ey.Z.severity,showMeta:i().bool},ry.defaultProps={author:"Anonymous",body:"",own:!0};const ny=ry;var oy=(0,At.Z)((function(e){return{root:{margin:e.spacing(.5,0),"& .date":{color:e.palette.text.secondary}},"level-error":{"& .message":{fontWeight:"bold",color:e.palette.error.main}},"level-warning":{"& .message":{fontWeight:"bold",color:e.palette.warning.main}}}})),ay=function(e){var t=e.date,r=e.level,o=e.message,a=oy(),i=(0,n.default)(a.root,a["level-".concat(r)]||a["level-info"]),l=t&&c.createElement("span",{className:"date"},c.createElement(jc.Z,{date:t}));return c.createElement("div",{className:i},c.createElement("span",{className:"message"},o)," ",l)};ay.propTypes={level:i().string,message:i().string,date:i().instanceOf(Date)},ay.defaultProps={level:"info",message:""};const iy=ay;var cy=["history","onEscape","onSubmit"];function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(this,arguments)}function uy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sy(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fy(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var py=c.forwardRef((function(e,t){var r=e.history,n=e.onEscape,o=e.onSubmit,a=fy(e,cy),i=uy((0,c.useState)(""),2),l=i[0],u=i[1],s=(0,c.useCallback)((function(e){u(e.target.value)}),[u]),f=uy((0,c.useState)(0),2),p=f[0],d=f[1];(0,c.useEffect)((function(){var e;u(null!==(e=r[r.length-p])&&void 0!==e?e:"")}),[r,p]);var h=(0,c.useCallback)((function(e){switch(e.key){case"Enter":l.length>0&&(o(l),u(""),d(0));break;case"Escape":n(e);break;case"ArrowUp":d((function(e){return Math.min(e+1,r.length)}));break;case"ArrowDown":d((function(e){return Math.max(e-1,0)}))}}),[r,l,n,o]),y=(0,c.useCallback)((function(e){e.relatedTarget&&(e.relatedTarget.focusRestorationTarget=e.target)}),[]);return c.createElement(q.Z,ly({ref:t,value:l,onBlur:y,onChange:s,onKeyDown:h},a))}));py.propTypes={history:i().arrayOf(i().string),onEscape:i().func,onSubmit:i().func};const dy=py;var hy=function(e){return e.messages.commandHistory},yy=r(53680),my=(r(38862),r(54169)),vy=r(36378),gy=r(23006);function by(e){(0,vy.Z)(e)&&(e={type:"plain",data:e});var t=e,r=t.type,n=t.data;switch(r){case"plain":return(0,my.Z)((0,gy.Z)(n));case"preformatted":return"<pre>"+(0,my.Z)((0,gy.Z)(n))+"</pre>";default:return(0,my.Z)(JSON.stringify(e,null,2))}}var wy=r(39619);function Ey(e){return Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(e)}var Sy=["hasSelectedUAV","textFieldPlacement"];function Oy(){Oy=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Ey(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function xy(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ay(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ky(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jy(e,t){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jy(e,t)}function Cy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ty(e);if(t){var o=Ty(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Py(this,r)}}function Py(e,t){if(t&&("object"===Ey(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Iy(e)}function Iy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ty(e)}function Ly(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}function Zy(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ny=function(e){return(0,ki.Z)(e,"H:mm")};var Dy=function(e){var t=e.hasSelectedUAV,r=e.textFieldPlacement,n=Zy(e,Sy);return t?c.createElement(Bo.Z,_y({key:"backgroundHint",header:"No messages",text:"Send a message to the selected UAV using the text box ".concat("bottom"===r?"below":"above")},n)):c.createElement(Bo.Z,_y({key:"backgroundHint",header:"No UAV selected",text:"Select the UAV to send messages to"},n))};Dy.propTypes={hasSelectedUAV:i().bool,textFieldPlacement:i().oneOf(["bottom","top"])};var Ry=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jy(e,t)}(i,e);var t,r,o,a=Cy(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ly(Iy(e=a.call(this)),"_onSubmit",(function(t){e.props.onSend(t),e.scrollToBottom()})),e._chatAreaRef=c.createRef(),e._messageFieldRef=c.createRef(),e._messageFieldContainerRef=c.createRef(),e._uavSelectorFieldRef=c.createRef(),e.focusOnTextField=e.focusOnTextField.bind(Iy(e)),e}return t=i,r=[{key:"focusOnUAVSelectorField",value:function(){this._uavSelectorFieldRef.current&&this._uavSelectorFieldRef.current.focus()}},{key:"focusOnTextField",value:function(){this._messageFieldRef.current&&this._messageFieldRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,r=t.chatEntries,o=t.classes,a=t.commandHistory,i=t.hideClearButton,l=t.onClearMessages,u=t.optimizeUIForTouch,s=t.style,f=t.textFieldPlacement,p=t.uavId,d={},h=r.map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="message".concat(e.id),n=!e.responseId,o="number"==typeof(null==e?void 0:e.date),a=o?Ny(e.date):"",i=null==e?void 0:e.author,l=o&&Math.abs(t.date-e.date)<500,u=t.author!==i||t.formattedDate!==a&&!l;switch(t.author=i,t.date=null==e?void 0:e.date,l||(t.formattedDate=a),e.type){case Jh.Cs.OUTBOUND:return[c.createElement(ny,{key:r,own:!0,showMeta:u,author:i,raw:e.raw,date:a,body:e.body,severity:e.severity,rightComponent:!!n&&c.createElement(Et.Z,{size:30,thickness:3.5,style:{margin:"14px 8px"},value:e.percentage,variant:void 0!==e.percentage?"determinate":"indeterminate"})})];case Jh.Cs.INBOUND:return[c.createElement(ny,{key:r,showMeta:u,author:i,own:!1,raw:e.raw,date:a,body:e.body,severity:e.severity})];case Jh.Cs.ERROR:return[c.createElement(iy,{key:r+"Marker",level:"error",message:e.body})];default:return[c.createElement(iy,{key:r+"Marker",level:"error",message:"Invalid message type: ".concat(e.type)})]}}(e,d)})),y=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ay(Object(r),!0).forEach((function(t){Ly(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ay(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({display:"flex",flexDirection:"column",height:"100%"},s),m=h.length>0?c.createElement(Kh,{key:"chatArea",ref:this._chatAreaRef,px:2,pt:2},h):c.createElement(Dy,{key:"chatAreaBackgroundHint",hasSelectedUAV:!(0,Be.default)(p),textFieldPlacement:f,p:1}),v=l&&!i,g=c.createElement(O.Z,{ref:this._messageFieldContainerRef,key:"textFieldContainer",display:"flex",alignItems:"baseline",className:(0,n.default)("bottom-bar",o.noFocusOutline),pb:2,pl:2,pr:v?0:2,tabIndex:"-1",onKeyDown:function(t){"Enter"===t.code&&e._messageFieldRef.current.focus()}},c.createElement(dy,{fullWidth:!0,autoFocus:!u,history:a,inputRef:this._messageFieldRef,onSubmit:this._onSubmit,onEscape:function(t){e._messageFieldContainerRef.current.focus(),t.stopPropagation()}}),v&&c.createElement(H.Z,{disabled:0===h.length,style:{transform:"translateY(8px)"},onClick:l},c.createElement(Rh.Z,null))),b="bottom"===f?[m,g]:[g,m];return c.createElement("div",{style:y},b)}},{key:"scrollToBottom",value:function(){this._chatAreaRef.current&&this._chatAreaRef.current.scrollToBottom()}}],r&&ky(t.prototype,r),o&&ky(t,o),Object.defineProperty(t,"prototype",{writable:!1}),i}(c.Component);Ly(Ry,"propTypes",{chatEntries:i().arrayOf(i().object),classes:i().object,commandHistory:i().arrayOf(i().string),hideClearButton:i().bool,onClearMessages:i().func,onSend:i().func,optimizeUIForTouch:i().bool,style:i().object,textFieldPlacement:i().oneOf(["bottom","top"]),uavId:i().string}),Ly(Ry,"defaultProps",{textFieldPlacement:"bottom"});const Fy=(0,s.$j)((function(){var e=(0,We.createSelector)((function(e){return e.messages}),(function(e,t){return e.messages.uavIdsToMessageIds?e.messages.uavIdsToMessageIds[t]:void 0}),(function(e,t){return t&&0!==t.length?(0,Me.vA)((0,Me.HP)(e,t)):Xr.LZ}));return function(t,r){return{chatEntries:e(t,r.uavId),commandHistory:hy(t),optimizeUIForTouch:(0,$t.f8)(t)}}}),(function(e,t){return{onClearMessages:function(){e((0,yy.gY)(t.uavId))},onSend:function(r){return(n=Oy().mark((function n(){var o,a,i,c,l,u,s,f,p,d;return Oy().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.uavId){n.next=3;break}return n.abrupt("return");case 3:return a=(0,yy.hJ)({message:r,uavId:o}),e(a),i=(0,wy.sm)(r),c=i.command,l=i.args,u=i.kwds,s=a.messageId,n.prev=7,n.next=10,bn.Z.sendCommandRequest({uavId:o,command:c,args:l,kwds:u},{onProgress:function(t){var r=t.progress,n=t.suspended;e((0,yy.J0)({messageId:s,progress:r,suspended:n}))}});case 10:f=n.sent,p=by(f),e((0,yy.WT)({message:p,uavId:o,refs:s})),n.next=19;break;case 15:n.prev=15,n.t0=n.catch(7),d=n.t0.userMessage||n.t0.message,e((0,yy.Iw)({message:d,uavId:o,refs:s}));case 19:case"end":return n.stop()}}),n,null,[[7,15]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){xy(a,r,o,i,c,"next",e)}function c(e){xy(a,r,o,i,c,"throw",e)}i(void 0)}))})();var n}}}),null,{forwardRef:!0})((0,Dh.Z)({noFocusOutline:{"&:focus":{outline:"none"}}})(Ry)),My=(0,s.$j)((function(e){return{uavId:(0,to.fL)(e)}}),{})(Fy);var Uy=r(20697),Gy=r(79697),Vy=r(66744);function By(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Wy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wy(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Wy(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zy={selectShowFile:{evaluate:function(e){return(0,Eo.K8)(e)?ol.q.SKIPPED:(0,Eo.yf)(e)?ol.q.ERROR:(0,Eo.Eg)(e)?ol.q.SUCCESS:(0,Eo.D$)(e)?ol.q.WAITING:ol.q.OFF}},setupEnvironment:{evaluate:function(e){return(0,Eo.Eg)(e)&&((0,Eo.a0)(e)||(0,Eo.rQ)(e))},requires:["selectShowFile"]},setupTakeoffArea:{evaluate:function(e){return(0,Eo.B2)(e)?(0,Gy.Z)((0,go.G7)(e))&&(0,Gy.Z)((0,to.qx)(e))?ol.q.SUCCESS:ol.q.SKIPPED:ol.q.OFF},requires:["setupEnvironment"]},setupGeofence:{evaluate:function(e){return(0,Eo.be)(e)&&(0,go.pw)(e)?(0,Eo.Vq)(e)?(0,go.Q8)(e):ol.q.ERROR:ol.q.OFF},requires:["selectShowFile","setupEnvironment"]},uploadShow:{evaluate:function(e){var t=ou(e,Vy.oe);return"error"===t?ol.q.ERROR:"cancelled"===t?ol.q.SKIPPED:"success"===t?ol.q.SUCCESS:ol.q.OFF},requires:["selectShowFile","setupEnvironment",go.rs]},waitForOnboardPreflightChecks:{evaluate:function(e){return(0,Eo.Uc)(e)?(0,to.jt)(e)?ol.q.SUCCESS:ol.q.SKIPPED:ol.q.OFF},requires:["uploadShow"]},performManualPreflightChecks:{evaluate:function(e){return(0,Eo.zk)(e)||!nt(e)?tt(e)?ol.q.SUCCESS:ol.q.SKIPPED:ol.q.OFF},requires:["uploadShow"]},setupStartTime:{evaluate:function(e){return(0,Eo.k_)(e)?ol.q.ERROR:(0,Eo.Vr)(e)?(0,Eo.$C)(e)?ol.q.SUCCESS:ol.q.OFF:(0,tn.Mb)(e)?ol.q.WAITING:ol.q.OFF},requires:["selectShowFile"],suggests:["waitForOnboardPreflightChecks","performManualPreflightChecks"]},authorization:{evaluate:function(e){return(0,Eo.Aw)(e)?ol.q.SUCCESS:(0,Eo.k_)(e)?ol.q.ERROR:(0,Eo.ce)(e)?ol.q.WAITING:ol.q.OFF},requires:["waitForOnboardPreflightChecks","performManualPreflightChecks"]}},Hy=["selectShowFile","setupEnvironment","setupTakeoffArea","setupGeofence","uploadShow","waitForOnboardPreflightChecks","performManualPreflightChecks","setupStartTime","authorization"],qy=function(e,t,r){return(t||[]).every((function(t){return"function"==typeof t?t(r):(n=e[t])===ol.q.SUCCESS||n===ol.q.SKIPPED;var n}))},Yy=function(e){var t,r={},n=By(Hy);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=zy[o],i=void 0;qy(r,a.requires,e)?("boolean"==typeof(i=a.evaluate(e))&&(i=i?ol.q.SUCCESS:ol.q.OFF),i===ol.q.OFF&&(i=qy(r,a.suggests,e)?ol.q.NEXT:ol.q.OFF)):i=ol.q.OFF,r[o]=i}}catch(e){n.e(e)}finally{n.f()}return r},$y=["isAuthorized","numUAVsTakingOffAutomatically","status","t"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(this,arguments)}function Xy(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Qy=function(e){var t=e.isAuthorized,r=e.numUAVsTakingOffAutomatically,n=e.status,o=e.t,a=Xy(e,$y);return c.createElement(st.Z,Ky({button:!0,selected:t},a),c.createElement(zu.default,{status:t&&n===ol.q.OFF?ol.q.SKIPPED:n}),c.createElement(pt.Z,{disableTypography:!0,primary:c.createElement(x.Z,{variant:"button"},t?o("show.authorized","Show authorized to start"):o("show.authorizeTheStart","Authorize start of show")),secondary:c.createElement(x.Z,{variant:"body2",color:"textSecondary"},t?r<=0?o("show.revokeAuthorization","Click here to revoke authorization"):1===r?o("show.takeOffOne","One drone will take off automatically"):o("show.takeOffMore",{quantity:r}):o("show.authorizationReq","Authorization required before takeoff"))}))};Qy.propTypes={isAuthorized:i().bool,numUAVsTakingOffAutomatically:i().number,status:i().oneOf(Object.values(ol.q)),t:i().func};const Jy=(0,s.$j)((function(e){return{isAuthorized:(0,Eo.ce)(e),numUAVsTakingOffAutomatically:(0,Eo.b6)(e),status:Yy(e).authorization}}),{onClick:function(){return function(e,t){var r=t(),n=!(0,Eo.ce)(r);e((0,Uy.YN)(n)),e((0,Uy.B8)("toServer")),n&&e((0,bo.rE)(r))}}})((0,y.Zh)()(Qy));var em=r(6931);function tm(e){return function(e){if(Array.isArray(e))return rm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nm=[0,1,2],om=function(e){var t=e.onChange,r=e.value,n=nm.map((function(e){return function(n){if(t){var o=Number.parseFloat(n.target.value);if(!Number.isNaN(o)){var a=tm(r);a[e]=o,t(a)}}}}));return c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(em.vd,{label:"X",value:r[0],onChange:n[0]}),c.createElement(O.Z,{p:1}),c.createElement(em.vd,{label:"Y",value:r[1],onChange:n[1]}),c.createElement(O.Z,{p:1}),c.createElement(em.vd,{label:"Z",value:r[2],onChange:n[2]}))};om.propTypes={value:i().arrayOf(i().number),onChange:i().func};const am=om;var im=function(e){var t=e.roomVisible,r=e.firstCorner,n=e.secondCorner,o=e.onRoomVisibilityChanged,a=e.onFirstCornerChanged,i=e.onSecondCornerChanged;return c.createElement(F.Z,null,c.createElement(V.Z,null,"Coordinates of the corners of the room"),c.createElement(am,{value:r,onChange:a}),c.createElement(O.Z,{p:1}),c.createElement(am,{value:n,onChange:i}),c.createElement(O.Z,{p:1}),c.createElement(R.Z,{label:"Room visible in 3D view",control:c.createElement(N.Z,{checked:Boolean(t),onChange:o})}))};im.propTypes={roomVisible:i().bool,firstCorner:i().arrayOf(i().number),secondCorner:i().arrayOf(i().number),onFirstCornerChanged:i().func,onSecondCornerChanged:i().func,onRoomVisibilityChanged:i().func};const cm=(0,s.$j)((function(e){var t=(0,Eo.c2)(e);return{firstCorner:t[0],secondCorner:t[1],roomVisible:(0,Eo.oe)(e)}}),{onRoomVisibilityChanged:function(e){return(0,Uy.vj)(e.target.checked)},onFirstCornerChanged:wo.hx,onSecondCornerChanged:wo.ae})(im);var lm=r(60503),um=r(12662),sm=r(43710),fm=r(64409),pm=r(72720),dm=r(1566);function hm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ym(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mm(e){return function(e,t){for(var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=t.takeoffCoordinates,i=t.uavGPSCoordinates,c=o.threshold,l=void 0===c?3:c,u=o.maxIterations,s=void 0===u?20:u,f=!1,p=function(t){var o=new $.kb(e),c=wm(i,o),u=(0,dm.x)(c,a,{distanceFunction:dm.p});if((r=(0,pm.I)(u,{algorithm:"hungarian",threshold:l})).sort((function(e,t){return e[1]-t[1]})),(0,W.default)(r,n)&&(f=!0),0===r.length)throw new Error("Failed to find a sufficiently close matching between the drones and the takeoff positions");n&&(r.length<n.length||t===s-1)?r=n:n=r;var p=r.length,d=r.map((function(e){var t=hm(e,2),r=t[0];t[1];return c[r]})),h=r.map((function(e){var t=hm(e,2),r=(t[0],t[1]);return a[r]})),y=(0,dm.Az)(d),m=(0,dm.Az)(h);d=bm(d,y),h=bm(h,m);for(var v=[[0,0],[0,0]],g=0;g<p;g++){var b=d[g],w=h[g];v[0][0]+=b[0]*w[0],v[0][1]+=b[0]*w[1],v[1][0]+=b[1]*w[0],v[1][1]+=b[1]*w[1]}var E=(0,fm.SVD)(v),S=[[E.u[0][0]*E.v[0][0]+E.u[0][1]*E.v[0][1],E.u[0][0]*E.v[1][0]+E.u[0][1]*E.v[1][1]],[E.u[1][0]*E.v[0][0]+E.u[1][1]*E.v[0][1],E.u[1][0]*E.v[1][0]+E.u[1][1]*E.v[1][1]]],O=(0,dm.Ux)(Math.atan2(S[0][1],S[0][0])),x=vm(y,gm(m,O));e={origin:o.toLonLat([x[0],x[1]]),orientation:e.orientation+O,type:um.COORDINATE_SYSTEM_TYPE}},d=0;d<s&&!f;d++)p(d);return e}(function(e){var t=e.uavGPSCoordinates,r=e.uavHeadings,n=e.takeoffCoordinates;if(0===t.length)throw new Error("There are no UAVs with GPS coordinates to work with");var o=(0,dm.Az)(t),a=(0,dm.Pn)(r),i=new $.kb({origin:o,orientation:0,type:um.COORDINATE_SYSTEM_TYPE}),c=wm(t,i),l=(0,dm.Az)(c),u=(0,dm.Az)(n),s=vm(l,gm(u,a));return{origin:i.toLonLat(s),orientation:a,type:um.COORDINATE_SYSTEM_TYPE}}(e),e)}function vm(e,t){return[e[0]-t[0],e[1]-t[1]]}function gm(e,t){var r=(0,dm.Yr)(t),n=Math.cos(r),o=Math.sin(r);return[e[0]*n+e[1]*o,e[0]*-o+e[1]*n]}function bm(e,t){return void 0===t&&(t=(0,dm.Az)(e)),e.map((function(e){return vm(e,t)}))}function wm(e,t){return e.map((function(e){return t.fromLonLat(e)}))}function Em(e){return(0,Eo.be)(e)&&(0,to.Xe)(e).length>0&&(0,Eo.TV)(e)>0}var Sm=r(10951),Om=r(21095),xm=r(50901);function Am(e){return Am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(e)}function km(e){return function(e){if(Array.isArray(e))return Lm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Tm(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jm(){jm=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Am(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function Cm(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Pm(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Cm(a,n,o,i,c,"next",e)}function c(e){Cm(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Im(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||Tm(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tm(e,t){if(e){if("string"==typeof e)return Lm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lm(e,t):void 0}}function Lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _m="__null__",Zm={id:_m,title:"RTK disabled"},Nm=function(e){var t=e.onSourceChanged,r=Im((0,c.useState)(),2),n=r[0],o=r[1],a=Im((0,Sm.Z)(Pm(jm().mark((function e(){return jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn.Z.query.getSelectedRTKPresetId());case 1:case"end":return e.stop()}}),e)})))),2),i=a[0],l=a[1],u=(0,Om.Z)(Pm(jm().mark((function e(){return jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bn.Z.query.getRTKPresets());case 1:case"end":return e.stop()}}),e)}))),[]),s=u.loading||i.loading,f=u.error||i.error,p=u.value?u.value:[],d=void 0!==i.value,h=void 0!==i.value?null===i.value?_m:i.value:void 0,y=p&&p.length>0,m=function(){var e=Pm(jm().mark((function e(r){return jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(r.target.value),t&&t();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){s||f||!y||void 0!==h||l()})),(0,c.useEffect)((function(){var e=!0;if(void 0!==n&&n!==h){var t=function(){var t=Pm(jm().mark((function t(){var r;return jm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n===_m?null:n,t.prev=1,t.next=4,bn.Z.execute.setRTKCorrectionsSource(r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1);case 9:t.prev=9,e&&(o(void 0),l()),t.next=17;break;case 13:throw t.prev=13,t.t1=t.catch(9),t.t1;case 17:case"end":return t.stop()}}),t,null,[[1,6],[9,13]])})));return function(){return t.apply(this,arguments)}}();t()}return function(){e=!1}}),[l,n,h,o]),c.createElement(F.Z,null,c.createElement(D.Z,{variant:"filled",error:f&&!s},c.createElement(M.Z,{htmlFor:"rtk-corrections"},"RTK corrections"),c.createElement(G.Z,{displayEmpty:!0,disabled:Boolean(f||s||!y),value:n||(d?h:_m),inputProps:{id:"rtk-corrections"},onChange:m},u.loading?c.createElement(U.Z,{disabled:!0,value:_m},"Please wait, loading RTK sources..."):f?c.createElement(U.Z,{disabled:!0,value:_m},"Error while loading RTK sources from server"):y?[Zm].concat(km(p)).map((function(e){return c.createElement(U.Z,{key:e.id,value:e.id},e.title)})):c.createElement(U.Z,{disabled:!0,value:"__null__"},"No RTK data sources on server"))))};Nm.propTypes={onSourceChanged:i().func};const Dm=(0,s.$j)(null,{onSourceChanged:xm.aO})(Nm);function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}const Fm=c.forwardRef((function(e,t){return c.createElement(gc.Z,Rm({},e,{ref:t}),c.createElement("path",{d:"M7.5,5.6L5,7L6.4,4.5L5,2L7.5,3.4L10,2L8.6,4.5L10,7L7.5,5.6M19.5,15.4L22,14L20.6,16.5L22,19L19.5,17.6L17,19L18.4,16.5L17,14L19.5,15.4M22,2L20.6,4.5L22,7L19.5,5.6L17,7L18.4,4.5L17,2L19.5,3.4L22,2M13.34,12.78L15.78,10.34L13.66,8.22L11.22,10.66L13.34,12.78M14.37,7.29L16.71,9.63C17.1,10 17.1,10.65 16.71,11.04L5.04,22.71C4.65,23.1 4,23.1 3.63,22.71L1.29,20.37C0.9,20 0.9,19.35 1.29,18.96L12.96,7.29C13.35,6.9 14,6.9 14.37,7.29Z"}))}));var Mm=r(17803);function Um(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Um(Object(r),!0).forEach((function(t){Vm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Um(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bm=function(e){var t=e.takeoffHeading,r=e.onChange,n=e.onSetToAverageHeading,o=t||Vy.$q,a=o.type,i=void 0===a?Vy.Z7.NONE:a,l=o.value,u=void 0===l?"0":l,s=(0,c.useCallback)((function(e){var n=e.target.value;r&&r(Gm(Gm({},t),{},{type:n}))}),[r,t]),f=(0,c.useCallback)((function(e){r&&r(Gm(Gm({},t),{},{value:String(e)}))}),[r,t]);return c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(D.Z,{fullWidth:!0,variant:"filled"},c.createElement(M.Z,{htmlFor:"takeoff-heading-type"},"UAV headings before takeoff are..."),c.createElement(G.Z,{value:i,inputProps:{id:"takeoff-heading-type"},onChange:s},c.createElement(U.Z,{value:Vy.Z7.NONE},"Unspecified"),c.createElement(U.Z,{value:Vy.Z7.ABSOLUTE},"Specified by absolute compass direction"),c.createElement(U.Z,{value:Vy.Z7.RELATIVE},"Specified relative to show orientation"))),c.createElement(O.Z,{p:1}),c.createElement(Ae,{disabled:i===Vy.Z7.NONE,style:{minWidth:160},label:i===Vy.Z7.ABSOLUTE?"Compass direction":"Heading offset",value:u,variant:"filled",onChange:f}),n&&c.createElement(O.Z,{alignSelf:"bottom",pt:1},c.createElement(ht.default,{content:"Set to average heading of active drones"},c.createElement(H.Z,{edge:"end",onClick:n},c.createElement(Mm.Z,null)))))};function Wm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wm(Object(r),!0).forEach((function(t){Hm(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}Bm.propTypes={takeoffHeading:i().shape({mode:i().oneOf(Object.values(Vy.Z7)),value:i().string.isRequired}),onChange:i().func,onSetToAverageHeading:i().func};var Ym=function(e){var t=e.altitudeReference,r=e.canEstimateShowCoordinateSystem,n=e.onAltitudeReferenceTypeChanged,o=e.onAltitudeReferenceValueChanged,a=e.onCopyCoordinateSystemToMap,i=e.onEstimateShowCoordinateSystem,l=e.onOriginChanged,u=e.onOrientationChanged,s=e.onSetAltitudeReferenceToAverageAMSL,f=e.onSetCoordinateSystemFromMap,p=e.onSetTakeoffHeading,d=e.onSetTakeoffHeadingToAverageActiveUAVHeading,h=e.showCoordinateSystem,y=e.takeoffHeading,m=t&&t.type===Vy.Nx.AMSL;return c.createElement(c.Fragment,null,c.createElement(V.Z,null,"Coordinate system"),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(O.Z,null,c.createElement(je,qm({type:um.COORDINATE_SYSTEM_TYPE},h,{orientationLabel:"Show orientation",originLabel:"Show origin",onOriginChanged:l,onOrientationChanged:u})),c.createElement(O.Z,{display:"flex",justifyContent:"space-evenly",py:1},c.createElement(A.Z,{onClick:f},"Copy map origin to show origin"),c.createElement(A.Z,{onClick:a},"Copy show origin to map origin"))),c.createElement(O.Z,{alignSelf:"bottom",pt:1},c.createElement(ht.default,{content:"Fit coordinate system to current drone positions"},c.createElement(H.Z,{disabled:!r,edge:"end",onClick:i},c.createElement(Fm,null))))),c.createElement(Bm,{takeoffHeading:y,onChange:p,onSetToAverageHeading:d}),c.createElement(O.Z,{pt:1,display:"flex",flexDirection:"row"},c.createElement(O.Z,{style:{color:Bn.wL.warning}},c.createElement(jt.Z,null)),c.createElement(O.Z,{flex:1,pl:1},c.createElement(x.Z,{color:"textSecondary",variant:"body2"},"Automatic show origin and orientation calculation assumes that all drones point towards the X axis of the show ",c.createElement("u",null,"or")," that you specified their offset relative to the X axis with the setting above. Absolute takeoff headings are not supported."))),c.createElement(V.Z,null,"Altitude control and RTK corrections"),c.createElement(O.Z,{display:"flex",flexDirection:"row",pb:2},c.createElement(D.Z,{fullWidth:!0,variant:"filled"},c.createElement(M.Z,{htmlFor:"altitude-reference-type"},"Show is controlled based on..."),c.createElement(G.Z,{value:(t?t.type:null)||Vy.Nx.AHL,inputProps:{id:"altitude-reference-type"},onChange:n},c.createElement(U.Z,{value:Vy.Nx.AHL},"Altitude above home level (AHL)"),c.createElement(U.Z,{value:Vy.Nx.AMSL},"Altitude above mean sea level (AMSL)"))),c.createElement(O.Z,{p:1}),c.createElement(em.vd,{disabled:!m,label:"AMSL reference",value:(t?t.value:null)||0,step:.1,min:-1e4,max:1e4,onChange:o}),c.createElement(O.Z,{alignSelf:"bottom",pt:1},c.createElement(ht.default,{content:"Set to average AMSL of active drones"},c.createElement(H.Z,{disabled:!m,edge:"end",onClick:s},c.createElement(lm.Z,null))))),c.createElement(Dm,null))};Ym.propTypes={altitudeReference:i().shape({type:i().oneOf(Object.values(Vy.Nx)),value:i().number}),canEstimateShowCoordinateSystem:i().bool,onAltitudeReferenceTypeChanged:i().func,onAltitudeReferenceValueChanged:i().func,onCopyCoordinateSystemToMap:i().func,onEstimateShowCoordinateSystem:i().func,onOriginChanged:i().func,onOrientationChanged:i().func,onSetAltitudeReferenceToAverageAMSL:i().func,onSetCoordinateSystemFromMap:i().func,onSetTakeoffHeading:i().func,onSetTakeoffHeadingToAverageActiveUAVHeading:i().func,showCoordinateSystem:i().shape({orientation:i().string.isRequired,origin:i().arrayOf(i().number)}),takeoffHeading:i().shape({type:i().oneOf(Object.values(Vy.Z7)),value:i().string.isRequired})};const $m=(0,s.$j)((function(e){return{altitudeReference:e.show.environment.outdoor.altitudeReference,canEstimateShowCoordinateSystem:Em(e),showCoordinateSystem:e.show.environment.outdoor.coordinateSystem,mapCoordinateSystem:e.map.origin,takeoffHeading:(0,Eo.AC)(e)}}),{onAltitudeReferenceTypeChanged:function(e){return(0,wo.kL)(e.target.value)},onAltitudeReferenceValueChanged:function(e){return(0,wo.rK)(e.target.value)},onCopyCoordinateSystemToMap:function(e){return function(t){t((0,Ce.KH)({position:e.origin,angle:e.orientation})),t((0,yd.c)({message:"Show coordinate system applied to map.",semantics:qu.jo.SUCCESS}))}},onEstimateShowCoordinateSystem:function(){return function(e,t){var r=t();if(Em(r)){var n;try{var o=function(e){for(var t=(0,to.Xe)(e),r=t.map((function(t){var r=(0,to.ax)(e,t);return r?[r.lon,r.lat]:void 0})),n=t.map((function(t){return(0,to.uO)(e,t)})),o=[],a=r.length,i=0;i<a;i++)void 0!==r[i]&&void 0!==n[i]||o.push(i);for(var c=(a=o.length)-1;c>=0;c--)t.splice(c,1),r.splice(c,1),n.splice(c,1);var l=(0,Eo.MV)(e);if((null==l?void 0:l.type)===Vy.Z7.RELATIVE)for(var u=(0,Eo.Gu)(e),s=0;s<n.length;s++)n[s]=(n[s]-u)%360;return{uavIds:t,uavGPSCoordinates:r,uavHeadings:n,takeoffCoordinates:(0,Eo.qh)(e)}}(r);n=mm(o)}catch(t){return void e(Fo("Failed to calculate show coordinate system",t))}var a=n,i=a.origin,c=a.orientation,l=a.type;e((0,wo.jX)({origin:i,orientation:c.toFixed(1),setupMission:!0})),e((0,wo.Qv)()),e((0,sm.T$)()),(0,Te.H_)(t())||e((0,Ce.KH)({position:i,angle:c.toFixed(1),type:l}))}}},onOrientationChanged:function(e){return(0,wo.jX)({orientation:e,setupMission:!0})},onOriginChanged:function(e){return(0,wo.jX)({origin:e,setupMission:!0})},onSetAltitudeReferenceToAverageAMSL:wo.Qv,onSetCoordinateSystemFromMap:function(e){return function(t){t((0,wo.jX)({origin:e.position,orientation:e.angle,setupMission:!0})),t((0,yd.c)({message:"Show coordinate system updated from map.",semantics:qu.jo.SUCCESS}))}},onSetTakeoffHeading:function(e){return(0,wo.jX)({takeoffHeading:e,setupMission:!0})},onSetTakeoffHeadingToAverageActiveUAVHeading:function(){return function(e,t){var r=t(),n=(0,to.PY)(r);if(Number.isFinite(n)){var o=zm(zm({},Vy.$q),(0,Eo.AC)(r));if((null==o?void 0:o.type)===Vy.Z7.ABSOLUTE)o.value=(0,$.LW)(n);else{var a=(0,Eo.nB)(r);o.type=Vy.Z7.RELATIVE,o.value=(0,$.LW)(n-a)}e((0,wo.jX)({takeoffHeading:o,setupMission:!0}))}}}},(function(e,t,r){var n=zm(zm(zm(zm({},r),e),t),{},{onCopyCoordinateSystemToMap:function(){return t.onCopyCoordinateSystemToMap(e.showCoordinateSystem)},onSetCoordinateSystemFromMap:function(){return t.onSetCoordinateSystemFromMap(e.mapCoordinateSystem)}});return delete n.mapCoordinateSystem,n}))(Ym);var Km={indoor:"This show is an indoor show. You may specify the corners of the room in which the show is taking place (for visualisation purposes).",outdoor:"This show is an outdoor show. You need to specify at least the origin and orientation of the coordinate system so Skybrush can map the show into GPS coordinates."},Xm=function(e){var t=e.type;return c.createElement(x.Z,{variant:"body1"},Km[t])};Xm.propTypes={type:i().oneOf(Object.keys(Km))};var Qm=function(e){var t=e.editing,r=e.onClose,n=e.type;return c.createElement(Zr.Z,{fullWidth:!0,open:t,maxWidth:"sm",title:"Environment settings",onClose:r},c.createElement(v.Z,null,c.createElement(O.Z,{my:2},c.createElement(Xm,{type:n}),"outdoor"===n&&c.createElement($m,null),"indoor"===n&&c.createElement(cm,null))))};Qm.propTypes={editing:i().bool,onClose:i().func,type:i().oneOf(["indoor","outdoor"])},Qm.defaultProps={editing:!1};const Jm=(0,s.$j)((function(e){return{editing:e.show.environment.editing,type:(0,Eo.VF)(e)}}),{onClose:Uy.oN})(Qm);var ev=r(96837);function tv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nv=function(e){var t=e.open,r=e.onClose,n=e.onLoadShowFromUrl;return c.createElement(m.Z,{fullWidth:!0,open:t,onClose:r},c.createElement(b.Z,{value:"skybrushAccount"},c.createElement(g.Z,{value:"skybrushAccount",label:"Skybrush Account"}),c.createElement(g.Z,{disabled:!0,value:"web",label:"Web Link"}),c.createElement(g.Z,{disabled:!0,value:"git",label:"Git Repository"})),c.createElement(ut.Z,null,c.createElement(ev.Z,null,"Shared with me"),o.Z.examples.shows.map((function(e){var t=e.id,r=e.title,o=e.url;return c.createElement(st.Z,{key:t,button:!0,onClick:function(){return n(o)}},c.createElement(pt.Z,{primary:r}))}))))};nv.propTypes={onClose:i().func,onLoadShowFromUrl:i().func,open:i().bool},nv.defaultProps={open:!1};const ov=(0,s.$j)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tv(Object(r),!0).forEach((function(t){rv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.show.loadShowFromCloudDialog)}),(function(e){return{onClose:function(){e((0,Uy.Fp)())},onLoadShowFromUrl:function(t){e((0,Uy.Fp)()),e((0,wo.yb)(t))}}}))(nv);var av=["checkedItemIds","items","onToggle"];function iv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iv(Object(r),!0).forEach((function(t){lv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(this,arguments)}function sv(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var fv=function(e){var t=e.checkedItemIds,r=e.items,n=e.onToggle,o=sv(e,av);return c.createElement(ut.Z,uv({dense:!0,disablePadding:r.length>0},o),r.map((function(e){if("header"===e.type)return c.createElement(ev.Z,{key:"preflight-header-".concat(e.id)},e.label);var r="preflight-item-".concat(e.id);return c.createElement(st.Z,{key:r,button:!0,disableRipple:!0,onClick:function(){return n(e.id)}},c.createElement(ft.Z,null,c.createElement(N.Z,{checked:t.includes(e.id),edge:"start",inputProps:{"aria-labelledby":r},value:e.id})),c.createElement(pt.Z,{id:r,primary:e.label}))})),0===r.length&&c.createElement(st.Z,null,c.createElement(pt.Z,{primary:"There are no manual preflight check items.",secondary:"You can add them in the Settings dialog."})))};fv.propTypes={checkedItemIds:i().arrayOf(i().string),items:i().arrayOf(i().shape({id:i().string,type:i().string})),onToggle:i().func};var pv=(0,s.$j)((function(e){return{checkedItemIds:et(e),items:Je(e)}}),(function(e){return{onToggle:function(t){e((0,Ue.bH)(t))}}}))(fv),dv=function(e){var t=e.open,r=e.onClear,n=e.onClose,o=e.onSignOff,a=e.signedOff;return c.createElement(m.Z,{fullWidth:!0,open:t,maxWidth:"xs",onClose:n},c.createElement(v.Z,{style:{display:"flex",flexDirection:"column",paddingLeft:"1em",paddingRight:"1em"}},c.createElement(O.Z,{flex:1,overflow:"auto",minHeight:0},c.createElement(pv,null)),c.createElement(O.Z,{className:"bottom-bar",textAlign:"center",pt:2},c.createElement(R.Z,{control:c.createElement(dt.Z,{checked:a,value:"signedOff",onChange:a?r:o}),label:"Sign off on manual preflight checks"}))),c.createElement(vr.Z,null))};dv.propTypes={onClear:i().func,onClose:i().func,onSignOff:i().func,open:i().bool,signedOff:i().bool},dv.defaultProps={open:!1,signedOff:!1};const hv=(0,s.$j)((function(e){return cv(cv({},e.show.manualPreflightChecksDialog),{},{signedOff:(0,Eo.zk)(e)})}),{onClear:Uy.jB,onClose:Uy.WC,onSignOff:wo.zw})(dv);var yv=r(81395),mv=r(37333),vv=r(7834),gv=r(11476),bv=r(5391);const wv=(0,gv.Z)(bv.Z)({border:0});var Ev=function(e){var t=e.selected,r=e.onChange,n=e.t;return c.createElement(Vf.kR,{content:n("mappingToggleButton.sortByMissionID")},c.createElement(wv,{value:"missionIds",selected:t,onChange:r},c.createElement(vv.Z,null)))};Ev.propTypes={selected:i().bool,onChange:i().func,t:i().func};const Sv=(0,s.$j)((function(e){return{selected:(0,$t.QW)(e)}}),{onChange:P.Uy})((0,y.Zh)()(Ev));var Ov=["items","showMissionIds","t"];function xv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Av(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xv(Object(r),!0).forEach((function(t){kv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jv.apply(this,arguments)}function Cv(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Pv=[ol.q.INFO,ol.q.SKIPPED,ol.q.ERROR,ol.q.ERROR],Iv=function(e){var t=e.items,r=e.showMissionIds,n=e.t,o=Cv(e,Ov);return t.length>0?c.createElement(ut.Z,jv({dense:!0,disablePadding:!0},o),t.map((function(e){var t="preflight-item-".concat(e.code),n=Pv[(0,mv.H0)(e.code)];return c.createElement(st.Z,{key:t,button:!0,disableRipple:!0},c.createElement(zu.default,{status:n}),c.createElement(pt.Z,{id:t,primary:mv.X.describe(e.code),secondary:(0,qn.C_)(e.uavIdsAndIndices.map(r?function(e){return(0,qn.Bq)(e[1])}:function(e){return String(e[0])}))}))}))):c.createElement(Bo.Z,{header:n("OnboardPreflightChecksDialog.passed"),text:n("OnboardPreflightChecksDialog.noError"),icon:c.createElement(yv.Z,null),iconColor:Bn.wL.success})};Iv.propTypes={items:i().arrayOf(i().shape({id:i().string,type:i().string})),onToggle:i().func,showMissionIds:i().bool,t:i().func};var Tv=(0,s.$j)((function(e){return{items:(0,to.Q4)(e),showMissionIds:(0,$t.QW)(e)}}),{})((0,y.Zh)()(Iv)),Lv=function(e){var t=e.open,r=e.onClear,n=e.onClose,o=e.onSignOff,a=e.signedOff,i=e.t;return c.createElement(Zr.Z,{fullWidth:!0,open:t,maxWidth:"xs",title:i("show.onboardPreflightChecks"),titleComponents:c.createElement(Sv,null),onClose:n},c.createElement(v.Z,{style:{display:"flex",flexDirection:"column",paddingLeft:"1em",paddingRight:"1em"}},c.createElement(O.Z,{display:"flex",flexDirection:"column",justifyContent:"center",flex:1,overflow:"auto",minHeight:240},c.createElement(Tv,null)),c.createElement(O.Z,{className:"bottom-bar",textAlign:"center",pt:2},c.createElement(R.Z,{control:c.createElement(dt.Z,{checked:a,value:"signedOff",onChange:a?r:o}),label:i("OnboardPreflightChecksDialog.signOffOn")}))),c.createElement(vr.Z,null))};Lv.propTypes={onClear:i().func,onClose:i().func,onSignOff:i().func,open:i().bool,signedOff:i().bool,t:i().func},Lv.defaultProps={open:!1,signedOff:!1};const _v=(0,s.$j)((function(e){return Av(Av({},e.show.onboardPreflightChecksDialog),{},{signedOff:(0,Eo.Uc)(e)})}),{onClear:Uy.nN,onClose:Uy.Sl,onSignOff:wo.X7})((0,y.Zh)()(Lv));var Zv=["onEditEnvironment","secondaryText","status","t"];function Nv(){return Nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nv.apply(this,arguments)}function Dv(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Rv=(0,We.createSelector)(Eo.VF,Eo.Cj,$t.CX,(function(e,t,r){switch(e){case"indoor":return Pe.Z.t("show.indoor",{lng:r});case"outdoor":var n=t.type,o=t.value;return n===Vy.Nx.AMSL?Number.isFinite(o)?Pe.Z.t("show.outdoor.relativeToAMSL",{altitude:o.toFixed(1),lng:r}):"Outdoor, invalid altitude reference":n===Vy.Nx.AHL?Pe.Z.t("show.outdoor.relativeToHome"):"Outdoor, unknown altitude reference";default:return"Unknown"}})),Fv=function(e){var t=e.onEditEnvironment,r=e.secondaryText,n=e.status,o=e.t,a=Dv(e,Zv);return c.createElement(st.Z,Nv({button:!0,disabled:n===ol.q.OFF,onClick:t},a),c.createElement(zu.default,{status:n}),c.createElement(pt.Z,{primary:o("show.setupEnvironment"),secondary:r}))};Fv.propTypes={onEditEnvironment:i().func,secondaryText:i().string,status:i().oneOf(Object.values(ol.q)),t:i().func};const Mv=(0,s.$j)((function(e){return{status:Yy(e).setupEnvironment,secondaryText:Rv(e)}}),{onEditEnvironment:Uy.jT})((0,y.Zh)()(Fv));var Uv=["onClick","status","t"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(this,arguments)}function Vv(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Bv=function(e){switch(e){case ol.q.OFF:case ol.q.NEXT:return(0,Pe.tt)("geofence.statusText.no");case ol.q.SUCCESS:return(0,Pe.tt)("geofence.statusText.automatic");case ol.q.WARNING:return(0,Pe.tt)("geofence.statusText.manual");case ol.q.ERROR:return(0,Pe.tt)("geofence.statusText.error");default:return(0,Pe.tt)("")}},Wv=function(e){var t=e.onClick,r=e.status,n=e.t,o=Vv(e,Uv);return c.createElement(st.Z,Gv({button:!0,disabled:r===ol.q.OFF,onClick:t},o),c.createElement(zu.default,{status:r}),c.createElement(pt.Z,{primary:n("show.setupGeofence","Setup geofence"),secondary:Bv(r)(n)}))};Wv.propTypes={onClick:i().func,status:i().oneOf(Object.values(ol.q)),t:i().func},Wv.defaultProps={};const zv=(0,s.$j)((function(e){return{status:Yy(e).setupGeofence}}),{onClick:mo.Oi})((0,y.Zh)()(Wv));var Hv=r(97779),qv=r(92448),Yv=r(68560),$v=r(79584),Kv=r(91364),Xv=r(53021),Qv=r(41076),Jv=r(62092),eg=["affectedByClockSkew","clock","clockId","clockSkew","emptyText","format","signed","updateInterval"];function tg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var rg=function(e){var t=e.affectedByClockSkew,r=e.clock,n=(e.clockId,e.clockSkew),o=e.emptyText,a=e.format,i=(e.signed,e.updateInterval),l=tg(e,eg),u=(r||{}).running,s=Date.now()+(t&&!(0,Be.default)(n)?n:0),f=r?Js(r,s):void 0,p=void 0===f?o:Qs(f,r,{format:a}),d=(0,ji.Z)();return(0,Ci.Z)(d,u?i:null),c.createElement("span",l,p)};rg.propTypes={affectedByClockSkew:i().bool,clock:i().object,clockId:i().string,clockSkew:i().number,emptyText:i().string,format:i().string,signed:i().bool,updateInterval:i().number},rg.defaultProps={format:"HH:mm:ss"};const ng=(0,s.$j)((function(e,t){var r=cf(e,t.clockId),n=rf(r),o=tf(r),a=ef(r);return{affectedByClockSkew:o,clock:r,clockSkew:(0,tn.iO)(e),signed:n,updateInterval:a}}),{})(rg);var og,ag,ig=r(36068);function cg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lg=(cg(og={},ig.V.RC,"Use the switch on your RC to start"),cg(og,ig.V.AUTO,"Show will start automatically"),og),ug=(cg(ag={},ig.V.RC,c.createElement(Jv.Z,null)),cg(ag,ig.V.AUTO,c.createElement(Qv.Z,null)),ag),sg=function(e){var t=e.hasScheduledStartTime,r=e.startMethod,n=e.t;return c.createElement(ut.Z,{dense:!0},c.createElement(st.Z,null,c.createElement(ft.Z,null,ug[r]||c.createElement(fl.Z,null)),c.createElement(pt.Z,{primary:lg[r]||n("show.unknownStartMode","This show uses an unknown start mode"),secondary:t?c.createElement(c.Fragment,null,n("show.clock","Show clock:")," ",c.createElement(ng,{clockId:"show"})):n("show.startTimeNotSet","Start time not set yet")})))};sg.propTypes={hasScheduledStartTime:i().bool,startMethod:i().oneOf(ig.V._VALUES),t:i().func};const fg=(0,s.$j)((function(e){return{hasScheduledStartTime:(0,Eo.$C)(e),startMethod:(0,Eo.nJ)(e)}}),{})((0,y.Zh)()(sg));var pg=(0,At.Z)((function(e){return{root:{position:"absolute",left:0,top:0,right:0,bottom:0},scrollable:{overflow:"auto"},button:{flex:1,margin:e.spacing(.5)}}}),{name:"LargeControlButtonGroup"}),dg=function(e){var t=e.broadcast,r=e.onChangeBroadcastMode,n=e.uavActions,o=pg();return c.createElement(c.Fragment,null,c.createElement(fg,null),c.createElement(or.Z,null),c.createElement(O.Z,{display:"flex",alignItems:"center",flexDirection:"row",mt:.5},c.createElement(O.Z,{flex:"1",textAlign:"right"},c.createElement(x.Z,{variant:"body2",color:t?"textSecondary":"textPrimary"},"Selection only")),c.createElement(dt.Z,{checked:t,onChange:r}),c.createElement(O.Z,{flex:"1"},c.createElement(x.Z,{variant:"body2",color:t?"textPrimary":"textSecondary"},"Broadcast"))),c.createElement(O.Z,{display:"flex",flexDirection:"row",flex:1},c.createElement(fd,{className:o.button,color:Bn.ZP.success,icon:c.createElement(zs.Z,{fontSize:"inherit"}),onClick:n.turnMotorsOn},t?"Arm all":"Arm"),c.createElement(fd,{className:o.button,color:Bn.ZP.info,icon:c.createElement(Y.default,{fontSize:"inherit"}),onClick:n.turnMotorsOff},t?"Disarm all":"Disarm")),c.createElement(O.Z,{display:"flex",flexDirection:"row",flex:1},c.createElement(fd,{className:o.button,color:Bn.ZP.positionHold,icon:c.createElement($v.Z,{fontSize:"inherit"}),onClick:n.holdPosition},t?"Hold all":"Hold"),c.createElement(fd,{className:o.button,color:Bn.ZP.warning,icon:c.createElement(qv.Z,{fontSize:"inherit"}),onClick:n.returnToHome},t?"RTH all":"RTH")),c.createElement(O.Z,{display:"flex",flexDirection:"row",flex:1,mb:.5},c.createElement(fd,{className:o.button,color:Bn.ZP.seriousWarning,icon:c.createElement(Yv.Z,{fontSize:"inherit"}),onClick:n.land},t?"Land all":"Land"),c.createElement(fd,{className:o.button,color:Bn.ZP.error,icon:c.createElement(Kv.Z,{fontSize:"inherit"}),onClick:n.shutdown},t?"Shutdown all":"Shutdown")))};dg.propTypes={broadcast:i().bool,onChangeBroadcastMode:i().func,uavActions:i().objectOf(i().func)};const hg=(0,s.$j)((function(e){return{allUAVIdsInMission:(0,go.Ho)(e),broadcast:(0,go.A_)(e),channel:(0,go.ML)(e),selectedUAVIds:(0,to.yi)(e)}}),(function(e){return{onChangeBroadcastMode:function(t){return e((0,bo.rE)(Boolean(t.target.checked)))},uavActions:(0,Hv.DE)((0,Xv.Fj)({getTargetedUAVIds:function(e){return(0,go.A_)(e)?(0,go.Ho)(e):(0,to.yi)(e)},getTransportOptions:function(e){return{channel:(0,go.ML)(e),broadcast:(0,go.A_)(e)}}}),e)}}))(dg);var yg=r(33681),mg=r(9248),vg=r(36210),gg=r(59240),bg=r(14129),wg=r(42166),Eg=r(4664),Sg=["accepts","children","extensions","id","inputId","multiple","onSelected","onSelectionFailed"];function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}function xg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ag(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ag(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ag(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var jg=(0,At.Z)((function(e){return{input:{display:"none"},hover:{background:e.palette.action.hover},hoverError:{background:new(Gn())(e.palette.error.main).alpha(.5).string()}}})),Cg=function(e){var t=e.accepts,r=e.children,n=e.extensions,o=e.id,a=e.inputId,i=e.multiple,l=e.onSelected,u=e.onSelectionFailed,s=kg(e,Sg),f=jg(),p=xg((0,c.useState)(0),2),d=p[0],h=p[1],y=(0,c.useCallback)((function(e){(e=e&&e.files?i?e.files:e.files[0]:null)&&(!t||t(e)?l&&l(e):u&&u(e),h(d+1))}),[t,d,i,l,u]),m=xg((0,gg.L)({accept:[wg.FILE],canDrop:t?function(e){return 0===e.files.length||!!(e=i?e.files:e.files[0])&&t(e)}:void 0,drop:y,collect:function(e){return{className:e.isOver()?e.canDrop()?f.hover:f.hoverError:void 0}}}),2),v=m[0],g=m[1];return c.createElement(c.Fragment,null,c.createElement("input",{key:d,accept:n?n.map((function(e){return".".concat(e.toLowerCase())})):void 0,className:f.input,type:"file",id:a,multiple:i,onChange:function(e){return y(e.target)}}),c.createElement("label",{id:o,htmlFor:a},c.createElement(st.Z,Og({ref:g,button:!0},v,s),r)))};Cg.propTypes={accepts:i().func,children:i().node,extensions:i().arrayOf(i().string),id:i().string,inputId:i().string.isRequired,multiple:i().bool,onSelected:i().func,onSelectionFailed:i().func};const Pg=function(e){return c.createElement(bg.W,{backend:Eg.PD},c.createElement(Cg,e))};var Ig=["secondary"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(this,arguments)}function Lg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var _g=function(e){var t=e.secondary,r=Lg(e,Ig);return c.createElement(pt.Z,Tg({disableTypography:!0},r,{secondary:c.createElement(O.Z,{minHeight:20.1,display:"flex",flexDirection:"column",justifyContent:"center"},c.createElement(x.Z,{component:"div",variant:"body2",color:"textSecondary"},t))}))};_g.propTypes={secondary:i().node};const Zg=_g;var Ng=function(e){return e&&e.size>0},Dg=["skyc"],Rg=function(e){var t=e.changedSinceLoaded,r=e.description,n=e.hasLoadedShowFile,o=e.loading,a=e.onClearLoadedShow,i=e.onLoadShowFromCloud,l=e.onReloadShowFile,u=e.onShowFileSelected,s=e.progress,f=e.status,p=e.t,d=e.title;return c.createElement(Pg,{id:"show-file-upload",inputId:"show-file-upload-input",accepts:Ng,extensions:Dg,onSelected:u},c.createElement(zu.default,{status:f}),c.createElement(Zg,{primary:o?p("show.loading","Please wait, loading show file\u2026"):n?(0,qn.$G)(d,60):p("show.noFileLoaded"),secondary:o?c.createElement(yg.Z,{value:s,variant:(0,Be.default)(s)?"indeterminate":"determinate"}):t?c.createElement("span",{style:{color:Bn.ZP.warning}},"Show changed since it was loaded"):n?r:p("show.selectFile","Select or drop a show file here")}),c.createElement(Ls.Z,null,t?c.createElement(Vf.kR,{content:p("show.reload","Reload show")},c.createElement(H.Z,{edge:"end",onClick:l},c.createElement(vg.Z,null))):n?c.createElement(Vf.kR,{content:p("show.clear","Clear loaded show")},c.createElement(H.Z,{edge:"end",onClick:a},c.createElement(Y.default,null))):(0,Ts.U6)("loadShowFromCloud")?c.createElement(Vf.kR,{content:p("show.fromCloud","Load show from cloud")},c.createElement(H.Z,{edge:"end",onClick:i},c.createElement(mg.Z,null))):null))};Rg.propTypes={changedSinceLoaded:i().bool,description:i().string,hasLoadedShowFile:i().bool,loading:i().bool,onClearLoadedShow:i().func,onLoadShowFromCloud:i().func,onReloadShowFile:i().func,onShowFileSelected:i().func,progress:i().number,status:i().oneOf(Object.values(ol.q)),t:i().func,title:i().string};const Fg=(0,s.$j)((function(e){return{changedSinceLoaded:(0,Eo.K8)(e),description:(0,Eo.xe)(e),hasLoadedShowFile:(0,Eo.Eg)(e),loading:(0,Eo.D$)(e),progress:(0,Eo._v)(e),status:Yy(e).selectShowFile,title:(0,Eo.u3)(e)}}),{onClearLoadedShow:Uy.vT,onLoadShowFromCloud:Uy.rD,onReloadShowFile:wo.I0,onShowFileSelected:wo.Aw})((0,y.Zh)()(Rg));var Mg=["areChecksSignedOff","hasManualChecks","onApprove","onRevoke","status","t"];function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ug.apply(this,arguments)}function Gg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Vg=function(e){e.areChecksSignedOff;var t=e.hasManualChecks,r=(e.onApprove,e.onRevoke,e.status),n=e.t,o=Gg(e,Mg);return t?c.createElement(st.Z,Ug({button:!0,disabled:r===ol.q.OFF},o),c.createElement(zu.default,{status:r}),c.createElement(pt.Z,{primary:n("show.manualPreflightChecks","Manual preflight checks")})):null};Vg.propTypes={areChecksSignedOff:i().bool,hasManualChecks:i().bool,onApprove:i().func,onClick:i().func,onRevoke:i().func,status:i().oneOf(Object.values(ol.q)),t:i().func},Vg.defaultProps={};const Bg=(0,s.$j)((function(e){return{areChecksSignedOff:(0,Eo.zk)(e),hasManualChecks:nt(e),status:Yy(e).performManualPreflightChecks}}),{onApprove:wo.zw,onClick:Uy.GN,onRevoke:Uy.jB})((0,y.Zh)()(Vg));var Wg=["areChecksSignedOff","onApprove","onRevoke","status","t"];function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}function Hg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var qg=function(e){e.areChecksSignedOff,e.onApprove,e.onRevoke;var t=e.status,r=e.t,n=Hg(e,Wg);return c.createElement(st.Z,zg({button:!0,disabled:t===ol.q.OFF},n),c.createElement(zu.default,{status:t}),c.createElement(pt.Z,{primary:r("show.onboardPreflightChecks","Onboard preflight checks")}))};qg.propTypes={areChecksSignedOff:i().bool,onApprove:i().func,onRevoke:i().func,status:i().oneOf(Object.values(ol.q)),t:i().func},qg.defaultProps={};const Yg=(0,s.$j)((function(e){return{areChecksSignedOff:(0,Eo.Uc)(e),status:Yy(e).waitForOnboardPreflightChecks}}),{onApprove:wo.X7,onClick:Uy.zm,onRevoke:Uy.nN})((0,y.Zh)()(qg));var $g=r(43985);function Kg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xg(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const Qg=function(){var e=(0,s.v9)(yu),t=(0,s.v9)(vu),r=Kg((0,$g.Z)(e,500),2),n=r[0],o=r[1];return c.createElement(yg.Z,{variant:t?"buffer":"determinate",value:n,valueBuffer:o})};var Jg=["loading","status","t"];function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eb.apply(this,arguments)}function tb(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var rb=function(e){var t=e.loading,r=e.status,n=e.t,o=tb(e,Jg);return c.createElement(st.Z,eb({button:!0,disabled:r===ol.q.OFF},o),c.createElement(zu.default,{status:r}),c.createElement(Zg,{primary:t?n("show.uploadShowDataLoading","Please wait, uploading\u2026"):n("show.uploadShowData","Upload show data"),secondary:t?c.createElement(Qg,null):n("show.uploadShowDataStart")}))};rb.propTypes={loading:i().bool,onClick:i().func,status:i().oneOf(Object.values(ol.q)),t:i().func};const nb=(0,s.$j)((function(e){return{loading:vu(e),progress:yu(e),status:Yy(e).uploadShow}}),{onClick:function(){return(0,wu.OK)({job:Vy._f})}})((0,y.Zh)()(rb));var ob=function(e){var t=e.formattedStartTime,r=e.onClick,n=e.status,o=(0,y.$G)().t;return c.createElement(st.Z,{button:!0,onClick:r},c.createElement(zu.default,{status:n}),c.createElement(pt.Z,{primary:o("show.chooseStartTime"),secondary:t?o("show.startsAt",{time:t}):o("show.chooseStartTimeNotSet","Not set yet")}))};ob.propTypes={formattedStartTime:i().string,onClick:i().func,status:i().oneOf(Object.values(ol.q))},ob.defaultProps={};const ab=(0,s.$j)((function(e){return{formattedStartTime:(0,Eo.e7)(e),status:Yy(e).setupStartTime}}),{onClick:Uy.Rj})(ob);var ib=["maxDistance","onClick","status","t"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(this,arguments)}function lb(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ub=function(e,t){if("number"==typeof t)return Number.isFinite(t)?(0,Pe.tt)("show.placementAccuracy",{distance:(0,qn.Bb)(t)}):(0,Pe.tt)("show.takeOffNoPosition");switch(e){case ol.q.OFF:case ol.q.NEXT:return(0,Pe.tt)("show.takeOffPlace");case ol.q.SUCCESS:return(0,Pe.tt)("show.dronePlacementApproved");case ol.q.ERROR:return(0,Pe.tt)("show.dronePlacementError");case ol.q.SKIPPED:return(0,Pe.tt)("show.dronePlacementPartial");case ol.q.WAITING:return(0,Pe.tt)("show.dronePlacementCheck");default:return(0,Pe.tt)("")}},sb=function(e){var t=e.maxDistance,r=e.onClick,n=e.status,o=e.t,a=lb(e,ib);return c.createElement(st.Z,cb({button:!0,disabled:n===ol.q.OFF,onClick:r},a),c.createElement(zu.default,{status:n}),c.createElement(pt.Z,{primary:o("show.setupTakeoffArea","Setup takeoff area"),secondary:ub(n,t)(o)}))};sb.propTypes={maxDistance:i().number,onClick:i().func,status:i().oneOf(Object.values(ol.q)),t:i().func},sb.defaultProps={};const fb=(0,s.$j)((function(e){return{maxDistance:Yy(e).setupTakeoffArea!==ol.q.OFF?(0,to.BY)(e):void 0,status:Yy(e).setupTakeoffArea}}),{onClick:Uy._u})((0,y.Zh)()(sb));var pb,db=["children","direction","onChange","selectedPage"],hb=["className","id","keepMounted","scrollable"];function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(this,arguments)}function mb(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var vb=(0,At.Z)((function(){return{page:{position:"absolute",left:0,top:0,right:0,bottom:0},scrollable:{overflow:"auto"}}}),{name:"MultiPagePanel"}),gb=function(e){return e.id};gb.propTypes={children:i().node,id:i().string,keepMounted:i().bool,scrollable:i().bool};var bb=function(e){var t=e.children,r=e.direction,o=void 0===r?"left":r,a=(e.onChange,e.selectedPage),i=mb(e,db),l=vb();return c.createElement(O.Z,yb({position:"relative"},i),c.Children.map(t,(function(e){var t=e.props,r=t.className,i=t.id,u=t.keepMounted,s=t.scrollable,f=mb(t,hb),p={in:i===a,direction:o,children:e.children};u||(p.mountOnEnter=!0,p.unmountOnExit=!0);var d=(0,n.default)(l.page,s&&l.scrollable,r);return c.createElement(bh,p,c.createElement(O.Z,yb({className:d},f)))})))};bb.propTypes={children:i().arrayOf(gb),direction:null===(pb=bh.propTypes)||void 0===pb?void 0:pb.direction,onChange:i().func,selectedPage:i().string};const wb=bb;var Eb=function(e){var t=e.environmentType,r=e.isAuthorized;return c.createElement(wb,{flex:1,selectedPage:r?"execution":"setup"},c.createElement(gb,{scrollable:!0,id:"setup"},c.createElement(ut.Z,{dense:!0},c.createElement(Fg,null),c.createElement(or.Z,null),c.createElement(Mv,null),c.createElement(fb,null),"outdoor"===t&&c.createElement(zv,null),c.createElement(nb,null),c.createElement(or.Z,null),c.createElement(Yg,null),c.createElement(Bg,null),c.createElement(or.Z,null),c.createElement(ab,null))),c.createElement(gb,{id:"execution",display:"flex",flexDirection:"column"},c.createElement(hg,null)))};Eb.propTypes={environmentType:i().oneOf(["indoor","outdoor"]),isAuthorized:i().bool};const Sb=(0,s.$j)((function(e){return{environmentType:(0,Eo.VF)(e),filename:null,isAuthorized:(0,Eo.ce)(e)}}))(Eb);var Ob=r(69119),xb=r(49599),Ab=r(33913),kb=r(83894),jb=r(42227),Cb=r(39880),Pb=r(58545),Ib=r(42902),Tb=r(4817),Lb=r(77342),_b=r(87827),Zb=r(36482),Nb=r(78715),Db=function(e){var t=e.formattedStartTime,r=e.onClearStartTime;return c.createElement(Nb.Z,{severity:t?"info":"warning",variant:"filled",action:t?c.createElement(A.Z,{color:"inherit",startIcon:c.createElement(Y.default,null),onClick:t?r:null},"Clear"):null},c.createElement(O.Z,null,t?c.createElement(c.Fragment,null,"Start time is set to ",c.createElement("strong",null,t)):"No start time is set at the moment."))};Db.propTypes={formattedStartTime:i().string,onClearStartTime:i().func};const Rb=(0,s.$j)((function(e){return{formattedStartTime:(0,Eo.e7)(e)}}),{onClearStartTime:function(){return function(e,t){var r=(0,Eo.R9)(t());e((0,Uy.qv)({clock:r,time:null})),e((0,Uy.B8)("toServer"))}}})(Db);var Fb=r(29422),Mb=r(39159),Ub=r(77881),Gb=r(18717),Vb=r(30301),Bb=r(24837);const Wb=function(e){var t=(0,ji.Z)();(0,Bi.Z)(t,e)};const zb=function(){return bn.Z};const Hb=function(e,t){(0,c.useEffect)((function(){var r=e.add(t);return function(){r.detach()}}),[e,t])};var qb=["onChange"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(this,arguments)}function $b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Kb=(0,gv.Z)(A.Z)({border:[0,"!important"],textTransform:["none","!important"]}),Xb=function(e){var t=e.onChange,r=$b(e,qb),n=function(){for(var e=[{time:15,relative:!0},{time:30,relative:!0},{time:60,relative:!0},{time:(0,Fb.Z)((0,Gb.Z)((0,Fb.Z)(Date.now(),{seconds:30})),{minutes:2})}],t=0,r=[5,15,30,60];t<r.length;t++){var n=r[t],o=e[e.length-1].time,a=(0,Mb.Z)(o);e.push({time:(0,Fb.Z)(o,{minutes:n-a%n})})}return e}();return Wb(1e4),c.createElement(Bb.Z,Yb({variant:"text"},r),n.map((function(e,r){var n=e.time,o=e.relative;return c.createElement(Kb,{key:"button".concat(r),onClick:function(){return t(o?(0,Vb.Z)((0,Fb.Z)(Date.now(),{seconds:n})):n.valueOf())}},o?"".concat(n>0?"+":"").concat(n,"s"):0===(0,Ub.Z)(n)?(0,ki.Z)(n,"HH:mm"):(0,ki.Z)(n,"HH:mm:ss"))})))};Xb.propTypes={onChange:i().func};const Qb=Xb;function Jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jb(Object(r),!0).forEach((function(t){tw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rw(e,t){var r=(0,Ob.Z)(e);return r.setHours(t.getHours(),t.getMinutes(),t.getSeconds()),r}function nw(e){var t={};if((0,xb.Z)(e.utcDate))if((0,Ab.Z)((0,kb.Z)(e.utcDate)))t.utcDate="Date cannot be in the past";else if((0,xb.Z)(e.utcTime)){var r=rw(e.utcDate,e.utcTime);(0,Ab.Z)(r)&&(t.utcTime="Time cannot be in the past")}else t.utcTime="Invalid time";else t.utcDate="Invalid date";return t}var ow="__local_time__",aw=function(e){var t=e.alwaysAllowSubmission,r=e.initialValues,n=e.onClose,o=e.onSubmit;return c.createElement(S.l0,{initialValues:r,validate:nw,onSubmit:o},(function(e){var r=e.dirty,o=e.form,a=e.handleSubmit,i=e.invalid,l=e.values;return c.createElement("form",{id:"start-time-form",onSubmit:a},c.createElement(v.Z,null,c.createElement(Rb,null),c.createElement(O.Z,{mt:2},c.createElement(V.Z,null,"Set the start time of the show below")),c.createElement(F.Z,{row:!0},c.createElement(O.Z,{mr:1,minWidth:180},c.createElement(E.Ph,{labelId:"reference-clock-label",name:"clock",label:"Reference",formControlProps:{fullWidth:!0,margin:"dense",variant:"filled"}},c.createElement(U.Z,{value:ow},"Local time"),c.createElement(U.Z,{value:Ys.m},"SMPTE timecode"))),l.clock===ow?c.createElement(c.Fragment,null,c.createElement(O.Z,{flex:1,mr:1},c.createElement(E.eU,{disablePast:!0,format:"yyyy-MM-dd",fullWidth:!1,inputVariant:"filled",label:"Start date",margin:"dense",name:"utcDate",variant:"dialog"})),c.createElement(O.Z,{flex:1},c.createElement(E.e$,{ampm:!1,format:"HH:mm:ss",fullWidth:!1,inputVariant:"filled",keyboardIcon:c.createElement(Lb.Z,null),label:"Start time",margin:"dense",name:"utcTime",variant:"dialog"}))):c.createElement(O.Z,{flex:1},c.createElement(em.Py,{label:"Start time (hours:minutes:seconds)",margin:"dense",name:"timeOnClock",variant:"filled"}))),l.clock===ow&&c.createElement(O.Z,{mt:1,flexDirection:"row",display:"flex",alignItems:"center"},c.createElement(O.Z,{mr:2},c.createElement(x.Z,{variant:"body2",color:"textSecondary"},"Suggestions:")),c.createElement(Qb,{onChange:function(e){o.batch((function(){var t=new Date(e);o.change("clock",ow),o.change("utcDate",t),o.change("utcTime",t)}))}})),c.createElement(E.Ph,{labelId:"start-signal-label",name:"method",label:"Start signal",formControlProps:{fullWidth:!0,margin:"dense",variant:"filled"}},c.createElement(U.Z,{value:ig.V.RC},"Start show with remote controller only (safer)"),c.createElement(U.Z,{value:ig.V.AUTO},"Start show automatically"))),c.createElement(vr.Z,null,c.createElement(A.Z,{disabled:!r,onClick:function(){return o.reset()}},"Reset form"),n&&c.createElement(A.Z,{onClick:n},"Close"),c.createElement(A.Z,{color:"primary",type:"submit",disabled:i||!t&&!r},"Set new start time")))}))};aw.propTypes={alwaysAllowSubmission:i().bool,initialValues:i().shape({clock:i().string,method:i().oneOf(ig.V._VALUES),timeOnClock:i().string}),onClose:i().func,onSubmit:i().func};var iw=function(e){var t=e.clock,r=e.method,n=e.open,o=e.onClose,a=e.onUpdateSettings,i=e.timeOnClock,l=e.utcTime,u="number"==typeof l,s="number"==typeof i,f=u?(0,jb.Z)(l):(0,Cb.Z)((0,Pb.Z)(new Date,30),0),p=s?i:0,d="string"==typeof t&&t.length>0?t:ow;return c.createElement(_b.M,{utils:Tb.Z},c.createElement(m.Z,{fullWidth:!0,open:n,maxWidth:"sm",onClose:o},c.createElement(aw,{alwaysAllowSubmission:!u,initialValues:{method:r,clock:d,timeOnClock:(0,qn.g)(p,{padHours:!0}),utcDate:(0,Ob.Z)(f),utcTime:f},onClose:o,onSubmit:a})))};iw.propTypes={clock:i().string,method:i().oneOf(ig.V._VALUES),onClose:i().func,onUpdateSettings:i().func,open:i().bool,timeOnClock:i().number,utcTime:i().number},iw.defaultProps={method:ig.V.RC,open:!1};const cw=(0,s.$j)((function(e){return ew(ew({},e.show.startTimeDialog),e.show.start)}),(function(e){return{onClose:function(){e((0,Uy.Gs)())},onUpdateSettings:function(t){var r=t.clock,n=t.method,o=t.timeOnClock,a=t.utcDate,i=t.utcTime,c=r===ow||""===r||"string"!=typeof r;if(e((0,Uy.Ae)(n)),c)e((0,Uy.qv)({time:(0,Ib.Z)(rw(a,i)),clock:null}));else{var l=(0,Zb.mV)(o);e((0,Uy.qv)({time:Number.isNaN(l)?null:l,clock:r}))}e((0,Uy.B8)("toServer")),e((0,Uy.Gs)())}}}))(iw);var lw=r(20851),uw=r(42098);function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(this,arguments)}const fw=(0,s.$j)((function(e){return{disabled:!(0,go.Rc)(e)}}),{onClick:sm.jf})((function(e){return c.createElement(A.Z,sw({startIcon:c.createElement(uw.Z,null)},e),"Assign spares to empty slots")}));var pw=["hasNonemptyMappingSlot"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function hw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var yw=function(e){var t=e.hasNonemptyMappingSlot,r=hw(e,pw);return c.createElement(A.Z,dw({startIcon:c.createElement(Fm,null)},r),t?"Recalculate mapping":"Find optimal mapping")};yw.propTypes={hasNonemptyMappingSlot:i().bool};const mw=(0,s.$j)((function(e){return{hasNonemptyMappingSlot:(0,go.rs)(e)}}),{onClick:sm.T$})(yw);function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vw(Object(r),!0).forEach((function(t){bw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ww=function(e){var t=e.indices;return c.createElement(Qn,{items:t,title:"Empty slots:",successMessage:"All slots in the mission are filled."})};ww.propTypes={indices:i().arrayOf(i().number)};var Ew=function(e){var t=e.hasNonemptyMappingSlot,r=e.uavIds;return c.createElement(Qn,{items:r,title:"Missing:",successMessage:"All drones in the mission are online.",emptyMessage:"There are no drones in the mission.",preferEmptyMessage:!t})};Ew.propTypes={hasNonemptyMappingSlot:i().bool,uavIds:i().arrayOf(i().string)};var Sw=function(e){var t=e.hasNonemptyMappingSlot,r=e.uavIds;return c.createElement(Qn,{items:r,title:"Misplaced:",successMessage:"All drones are placed at their takeoff positions.",emptyMessage:"There are no drones in the mission.",preferEmptyMessage:!t})};Sw.propTypes={hasNonemptyMappingSlot:i().bool,uavIds:i().arrayOf(i().string)};var Ow=function(e){var t=e.hasNonemptyMappingSlot,r=e.uavIds;return c.createElement(Qn,{items:r,title:"Misaligned:",successMessage:"All drones are facing the correct direction.",emptyMessage:"There are no drones in the mission.",preferEmptyMessage:!t})};Ow.propTypes={hasNonemptyMappingSlot:i().bool,uavIds:i().arrayOf(i().string)};var xw=function(e){var t=e.emptySlotIndices,r=e.hasNonemptyMappingSlot,n=e.misalignedUAVIds,o=e.misplacedUAVIds,a=e.missingUAVIds;return c.createElement(c.Fragment,null,c.createElement(ww,{indices:t}),c.createElement(Ew,{uavIds:a,hasNonemptyMappingSlot:r}),c.createElement(Sw,{uavIds:o,hasNonemptyMappingSlot:r}),c.createElement(Ow,{uavIds:n,hasNonemptyMappingSlot:r}))};xw.propTypes={emptySlotIndices:i().arrayOf(i().number),hasNonemptyMappingSlot:i().bool,misalignedUAVIds:i().arrayOf(i().string),misplacedUAVIds:i().arrayOf(i().string),missingUAVIds:i().arrayOf(i().string)};var Aw=(0,s.$j)((function(e){return{emptySlotIndices:(0,go.G7)(e),hasNonemptyMappingSlot:(0,go.rs)(e),missingUAVIds:(0,to.qx)(e),misplacedUAVIds:(0,to._n)(e),misalignedUAVIds:(0,to.JU)(e)}}),{})(xw),kw=function(e){var t=e.approved,r=e.hasVirtualDrones,n=e.open,o=e.onAddVirtualDrones,a=e.onApprove,i=e.onClose,l=e.onRevoke,u=r&&c.createElement(A.Z,{color:"inherit",startIcon:c.createElement(lw.Z,null),onClick:o},"Place virtual drones");return c.createElement(Zr.Z,{fullWidth:!0,open:n,maxWidth:"sm",title:"Takeoff area setup",titleComponents:u,onClose:i},c.createElement(v.Z,null,c.createElement(Aw,null),c.createElement(O.Z,{py:2,display:"flex",flexDirection:"row",justifyContent:"center"},c.createElement(mw,null),c.createElement(fw,null)),c.createElement(O.Z,{className:"bottom-bar",textAlign:"center",pt:2},c.createElement(R.Z,{control:c.createElement(dt.Z,{checked:t,value:"approved",onChange:t?l:a}),label:"Approve takeoff area arrangement"}))),c.createElement(vr.Z,null))};kw.propTypes={approved:i().bool,hasVirtualDrones:i().bool,onAddVirtualDrones:i().func,onApprove:i().func,onClose:i().func,onRevoke:i().func,open:i().bool},kw.defaultProps={approved:!1,open:!1};const jw=(0,s.$j)((function(e){return gw(gw({},e.show.takeoffAreaSetupDialog),{},{approved:(0,Eo.B2)(e),hasVirtualDrones:(0,tn.e0)(e)})}),(function(e){return{onAddVirtualDrones:function(){e((0,sm.d9)())},onApprove:function(){e((0,wo.zC)()),setTimeout((function(){return e((0,Uy.Cx)())}),300)},onClose:function(){e((0,Uy.Cx)())},onRevoke:function(){e((0,Uy.O0)())}}}))(kw);const Cw=function(){return c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%",id:"tour-show-control"},c.createElement(Sb,null),c.createElement(O.Z,{className:"bottom-bar"},c.createElement(ut.Z,{dense:!0,disablePadding:!0},c.createElement(Jy,null))),(0,Ts.U6)("loadShowFromCloud")&&c.createElement(ov,null),c.createElement(Jm,null),c.createElement(cw,null),c.createElement(jw,null),c.createElement(_v,null),c.createElement(hv,null))};var Pw=r(44176),Iw=r(34468),Tw=r(53416),Lw=r(45258),_w=r(32427),Zw=r(5200),Nw=function(e){return e?"uav-dom-node-".concat(e):null},Dw=["children","id","onDrop"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function Fw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Gw=(0,At.Z)((function(e){return{root:{alignItems:"center",cursor:"pointer",display:"flex",flexDirection:"column",minWidth:e.spacing(10),position:"relative",scrollMarginTop:"3em"},draggable:{"&:hover":{boxShadow:e.shadows[4]}},selectable:{"&:hover":{backgroundColor:e.palette.action.hover}},selected:{backgroundColor:e.palette.action.selected,"&:hover":{backgroundColor:e.palette.action.selected}},fill:{flexGrow:1,padding:e.spacing(2,0)},stretch:{alignItems:["stretch","!important"]}}}),{name:"DroneListItem"}),Vw={style:{opacity:0}},Bw={style:{backgroundColor:Bn.ZP.dropTarget}},Ww=function(e){var t=e.children,r=e.id,n=e.onDrop,o=Uw(e,Dw),a=Fw((0,Zw.c)({item:{id:r},type:"uav",collect:function(e){return e.isDragging()&&Vw}}),2),i=a[0],l=a[1],u=Fw((0,gg.L)({accept:"uav",canDrop:function(e){return r!==e.id},collect:function(e){return e.isOver()&&e.canDrop()&&Bw},drop:n?function(e){return n(e.id)}:void 0}),2),s=u[0],f=u[1],p=(0,c.useCallback)((function(e){l(e),f(e)}),[l,f]);return c.createElement("div",Rw({ref:p,id:Nw(r)},o,i,s),t)};Ww.propTypes={children:i().node,id:i().string,onDrop:i().func};var zw=function(e){var t=e.children,r=e.draggable,o=e.fill,a=e.onClick,i=e.onDrop,l=e.selected,u=e.stretch,s=e.uavId,f=Gw(),p=(0,n.default)(f.root,a&&f.selectable,r&&f.draggable,l&&f.selected,o&&f.fill,u&&f.stretch);return r||i?c.createElement(Ww,{className:p,id:s,onClick:a,onDrop:i},t):c.createElement("div",{id:Nw(s),className:p,onClick:a},t)};zw.propTypes={children:i().node,draggable:i().bool,fill:i().bool,onClick:i().func,onDrop:i().func,selected:i().bool,stretch:i().bool,uavId:i().string};const Hw=zw;var qw=r(28934),Yw=r(13265),$w=r(38694),Kw=r(22091),Xw=r(23987),Qw=["color","inline","size","style"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(this,arguments)}function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(r),!0).forEach((function(t){rE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nE(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var oE=(0,At.Z)((function(e){return{root:{border:"1px solid rgba(0, 0, 0, 0.3)",borderRadius:"50%",color:"black",height:"1em",minWidth:"1em",marginRight:e.spacing(2),position:"relative",width:"1em"},inline:{display:"inline-block",marginRight:[0,"!important"],verticalAlign:"sub"},"size-small":{fontSize:"0.75em"},"size-large":{fontSize:"1.25em"}}}),{name:"ColoredLight"}),aE=function(e){var t=e.color,r=e.inline,o=e.size,a=e.style,i=nE(e,Qw),l=oE();return c.createElement(O.Z,Jw({className:(0,n.default)(l.root,r&&l.inline,l["size-".concat(o)]),component:r?"span":"div",style:tE({backgroundColor:t},a)},i))};aE.propTypes={color:i().string,inline:i().bool,size:i().oneOf(["small","normal","large"]),style:i().object},aE.defaultProps={color:"#000000",size:"normal"};const iE=aE;var cE=r(35183);function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sE(){return sE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sE.apply(this,arguments)}var fE=qn.hy,pE=(0,At.Z)((function(e){return{root:{flexGrow:1,fontFamily:Ct.monospacedFont,fontSize:"small",fontVariantNumeric:"lining-nums tabular-nums",marginTop:[-2,"!important"],marginBottom:[-4,"!important"],whiteSpace:"pre"},gone:{opacity:.7},muted:{color:e.palette.text.disabled},pill:{display:"inline-block",margin:e.spacing(0,.5),verticalAlign:"text-top",transform:"translateY(-1px)"},statusPill:{width:80},modePill:{width:48},gpsPill:{width:40},batteryIndicator:{display:"inline-block",fontFamily:e.typography.fontFamily,textAlign:"left",padding:e.spacing(0,.75),margin:e.spacing(0,.5),width:48}}}),{name:"DroneStatusLine"}),dE=function(e){var t,r,o=e.batteryFormatter,a=e.batteryStatus,i=e.color,l=e.coordinateFormatter,u=e.debugString,s=e.details,f=e.heading,p=e.headingDeviation,d=e.gone,h=e.gpsFixType,y=e.label,m=e.localPosition,v=e.missing,g=e.mode,b=e.position,w=e.secondaryLabel,E=e.text,S=e.textSemantics,O=pE(),x=b||{},A=x.amsl,k=x.ahl,j=x.agl;return c.createElement("div",{className:(0,n.default)(O.root,d&&O.gone)},(0,Yw.Z)(y,4),c.createElement("span",{className:O.muted},(0,Yw.Z)(w,4)),(s||E)&&c.createElement(cE.Z,{inline:!0,className:(0,n.default)(O.pill,O.statusPill),status:S},s||E),!v&&c.createElement(c.Fragment,null,c.createElement(cE.Z,{inline:!0,className:(0,n.default)(O.pill,O.modePill),status:"off"},g?(0,Jh.QF)(g):"----"),c.createElement(Xw.Z,sE({className:O.batteryIndicator,formatter:o},a)),c.createElement(iE,{inline:!0,color:i}),c.createElement(cE.Z,{inline:!0,hollow:!0,className:(0,n.default)(O.pill,O.gpsPill),status:(0,Jh.nP)(h)},(0,Jh.b_)(h)),m?(0,qw.Z)(fE(m),25):b?(0,qw.Z)(l([b.lon,b.lat]),25):c.createElement("span",{className:O.muted},(0,qw.Z)("no position",25)),(0,Be.default)(A)?c.createElement("span",{className:O.muted},"    \u2014\u2014\u2014"):(0,Yw.Z)(b.amsl.toFixed(1),6)+"m",(0,Be.default)(k)?c.createElement("span",{className:O.muted},"   \u2014\u2014\u2014"):(0,Yw.Z)(b.ahl.toFixed(1),6)+"m",(0,Be.default)(j)?c.createElement("span",{className:O.muted},"   \u2014\u2014\u2014"):(0,Yw.Z)(b.agl.toFixed(1),6)+"m",c.createElement($w.Z,{status:(t=p,r=t?Math.abs(t):0,r>=20?"error":r>=10?"warning":void 0)},(0,Yw.Z)((0,Be.default)(f)?"":Math.round(f)+"\xb0",5)),c.createElement("span",{className:O.debugString},u?" "+u:"")))};dE.propTypes={batteryFormatter:i().instanceOf(Kw.C),batteryStatus:i().shape({cellCount:i().number,charging:i().bool,voltage:i().number,percentage:i().number}),color:i().string,coordinateFormatter:i().func,debugString:i().string,details:i().string,editing:i().bool,gone:i().bool,gpsFixType:i().number,heading:i().number,headingDeviation:i().number,label:i().string,localPosition:i().arrayOf(i().number),missing:i().bool,mode:i().string,position:i().shape({lat:i().number,lon:i().number,amsl:i().number,ahl:i().number,agl:i().number}),secondaryLabel:i().string,text:i().string,textSemantics:i().oneOf(["off","info","success","warning","rth","error","critical"])},dE.defaultProps={textSemantics:"info"};const hE=(0,s.$j)((function(){var e=(0,to.vN)();return function(t,r){var n=r.id,o=(0,to.Rk)(t,n),a=o?(0,to.FS)(t,n):0,i=o?(0,to.gg)(t,n):"black";return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lE(Object(r),!0).forEach((function(t){uE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({batteryFormatter:(0,$t.KI)(t),color:i,coordinateFormatter:(0,ro.EQ)(t),debugString:o?o.debugString:void 0,gpsFixType:o?o.gpsFix.type:void 0,heading:o?o.heading:void 0,headingDeviation:a,localPosition:o?o.localPosition:void 0,missing:!o,mode:o?o.mode:void 0,position:o?o.position:void 0},e(t,r.id))}}))(dE);var yE=r(28358),mE=r(41959),vE=r(49507),gE=r(85236),bE=["augmentMapping","canAugmentMapping","clearMapping","exportMapping","finishMappingEditorSession","importAllowed","importMapping","removeMissingUAVsFromMapping"];function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wE.apply(this,arguments)}function EE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OE(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var xE={overflow:"ellipsis",userSelect:"none",whiteSpace:"nowrap"},AE=c.forwardRef((function(e,t){var r=e.augmentMapping,n=e.canAugmentMapping,o=e.clearMapping,a=e.exportMapping,i=e.finishMappingEditorSession,l=e.importAllowed,u=e.importMapping,s=e.removeMissingUAVsFromMapping,f=OE(e,bE),p=EE(zf(),3),d=p[0],h=p[1],y=p[2];return c.createElement(yE.Z,wE({ref:t,disableGutters:!0,variant:"dense"},f),c.createElement(H.Z,{disabled:!0},c.createElement(vE.Z,null)),c.createElement(O.Z,{style:xE},"Click to edit a single slot."),c.createElement(H.Z,{disabled:!0},c.createElement(gE.Z,null)),c.createElement(O.Z,{style:xE},"Drag nodes to rearrange the mapping."),c.createElement(O.Z,{flex:1}),c.createElement(H.Z,{onClick:i},c.createElement(mE.Z,null)),c.createElement(H.Z,{onClick:h},c.createElement(Mf.Z,null)),c.createElement(Il.Z,{anchorEl:d,open:null!==d,variant:"menu",onClose:y},c.createElement(U.Z,{disabled:!n,onClick:n?y(r):null},"Assign spares"),c.createElement(or.Z,null),l&&c.createElement(U.Z,{onClick:y(u)},"Import mapping\u2026"),c.createElement(U.Z,{onClick:y(a)},"Export mapping\u2026"),c.createElement(or.Z,null),c.createElement(U.Z,{onClick:y(o)},"Clear"),c.createElement(U.Z,{onClick:y(s)},"Clear missing")))}));AE.propTypes={augmentMapping:i().func,canAugmentMapping:i().bool,clearMapping:i().func,exportMapping:i().func,finishMappingEditorSession:i().func,importMapping:i().func,importAllowed:i().bool,removeMissingUAVsFromMapping:i().func,selectedUAVIds:i().array};const kE=(0,s.$j)((function(e){return{canAugmentMapping:(0,go.Rc)(e),importAllowed:Boolean(window.bridge&&window.bridge.readBufferFromFile)}}),{augmentMapping:sm.jf,clearMapping:bo.oi,exportMapping:sm.hd,importMapping:sm.zL,finishMappingEditorSession:bo.EN,removeMissingUAVsFromMapping:sm.ie},null,{forwardRef:!0})(AE);var jE=r(14741),CE=(0,At.Z)((function(e){return{root:{position:"absolute",width:48,height:48,top:e.spacing(.5),zIndex:1e3},input:{position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:"1.25rem","& input":{textAlign:"center"},"& input::selection":{backgroundColor:new(Gn())(Bn.ZP.info).darken(.2).string()}}}}),{name:"MappingSlotEditorForGrid"}),PE=function(e){var t=e.cancelMappingEditorSessionAtCurrentSlot,r=e.defaultValue,n=e.commitMappingEditorSessionAtCurrentSlot,o=e.optimizeUIForTouch,a=CE();return c.createElement(O.Z,{className:a.root},c.createElement(jE.Z,{fullWidth:!0,autoFocus:!o,className:a.input,defaultValue:r,onBlur:function(e){n({value:e.target.value})},onFocus:function(e){return e.target.select()},onKeyDown:function(e){return"Enter"===e.key?(n({continuation:e.shiftKey?"prev":"next",value:e.target.value}),e.preventDefault(),!1):"Tab"===e.key?(n({continuation:e.shiftKey?"prevEmpty":"nextEmpty",value:e.target.value}),e.preventDefault(),!1):void("Escape"===e.key&&t())}}))};PE.propTypes={cancelMappingEditorSessionAtCurrentSlot:i().func,defaultValue:i().string,commitMappingEditorSessionAtCurrentSlot:i().func,optimizeUIForTouch:i().bool};const IE=(0,s.$j)((function(e){return{defaultValue:(0,go.ab)(e),optimizeUIForTouch:(0,$t.f8)(e)}}),{cancelMappingEditorSessionAtCurrentSlot:bo.dt,commitMappingEditorSessionAtCurrentSlot:bo.$x})(PE);var TE=(0,At.Z)((function(e){return{root:{position:"absolute",boxSizing:"border-box",width:64,left:e.spacing(1),top:-5,bottom:-6,zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.16)",border:"1px solid rgba(0, 0, 0, 0.5)",borderRadius:e.spacing(.5),boxShadow:"0 0 4px 2px rgba(0, 0, 0, 0.3)",padding:e.spacing(0,.5)},input:{fontFamily:Ct.monospacedFont,fontSize:"small",padding:e.spacing(0,.5),position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)","& input":{textAlign:"right"},"& input::selection":{backgroundColor:new(Gn())(Bn.ZP.info).darken(.2).string()}}}}),{name:"MappingSlotEditorForList"}),LE=function(e){var t=e.cancelMappingEditorSessionAtCurrentSlot,r=e.defaultValue,n=e.commitMappingEditorSessionAtCurrentSlot,o=e.optimizeUIForTouch,a=TE();return c.createElement(O.Z,{className:a.root},c.createElement(jE.Z,{fullWidth:!0,autoFocus:!o,className:a.input,defaultValue:r,onBlur:function(e){n({value:e.target.value})},onFocus:function(e){return e.target.select()},onKeyDown:function(e){return"Enter"===e.key?(n({continuation:e.shiftKey?"prev":"next",value:e.target.value}),e.preventDefault(),!1):"Tab"===e.key?(n({continuation:e.shiftKey?"prevEmpty":"nextEmpty",value:e.target.value}),e.preventDefault(),!1):void("Escape"===e.key&&t())}}))};LE.propTypes={cancelMappingEditorSessionAtCurrentSlot:i().func,defaultValue:i().string,commitMappingEditorSessionAtCurrentSlot:i().func,optimizeUIForTouch:i().bool};const _E=(0,s.$j)((function(e){return{defaultValue:(0,go.ab)(e),optimizeUIForTouch:(0,$t.f8)(e)}}),{cancelMappingEditorSessionAtCurrentSlot:bo.dt,commitMappingEditorSessionAtCurrentSlot:bo.$x})(LE);var ZE=r(80366),NE=r(62617),DE=["cancelMappingEditorSessionAtCurrentSlot"];function RE(){return RE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RE.apply(this,arguments)}function FE(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ME=(0,At.Z)((function(e){return{box:{userSelect:"none",whiteSpace:"nowrap"},divider:{alignSelf:"stretch",height:"auto",margin:e.spacing(1,1)}}}),{name:"MappingSlotEditorToolbar"}),UE=c.forwardRef((function(e,t){var r=e.cancelMappingEditorSessionAtCurrentSlot,n=FE(e,DE),o=ME();return c.createElement(yE.Z,RE({ref:t,disableGutters:!0,variant:"dense"},n),c.createElement(H.Z,{disabled:!0},c.createElement(NE.Z,null)),c.createElement(O.Z,{className:o.box},c.createElement("kbd",null,"Enter")," Save"),c.createElement(or.Z,{orientation:"vertical",className:o.divider}),c.createElement(O.Z,{className:o.box},c.createElement("kbd",null,"Tab")," Select next empty slot"),c.createElement(or.Z,{orientation:"vertical",className:o.divider}),c.createElement(O.Z,{className:o.box},"Hold ",c.createElement("kbd",null,"Shift")," to reverse direction."),c.createElement(O.Z,{flex:1}),c.createElement(H.Z,{onClick:r},c.createElement(ZE.Z,null)))}));UE.propTypes={cancelMappingEditorSessionAtCurrentSlot:i().func,finishMappingEditorSession:i().func,selectedUAVIds:i().array};const GE=(0,s.$j)(null,{cancelMappingEditorSessionAtCurrentSlot:bo.dt},null,{forwardRef:!0})(UE);var VE=r(71267),BE=r(85963),WE=r(29594),zE=r(53695),HE=r(70760),qE=r(18636),YE=["label","selected"];function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}function KE(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function XE(e){return function(e){if(Array.isArray(e))return QE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return QE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var JE=function(e,t){var r={cursor:"hand","& .MuiChip-deleteIcon":{color:"inherit"}};if(e){var n=Gn()(e).hsl().lighten(.08).string();r.color=t.palette.getContrastText(e),r.backgroundColor=e,r.boxShadow="0 0 4px 2px ".concat(e),r["&:focus"]={color:t.palette.getContrastText(e),backgroundColor:[n,"!important"]},r["&:hover"]={color:t.palette.getContrastText(e),backgroundColor:[n,"!important"]},r["& svg"]={color:[t.palette.getContrastText(e),"!important"]}}return r},eS=(0,_w.Z)((function(e){return{root:{backdropFilter:"blur(5px)",background:(0,Ct.isThemeDark)(e)?"rgba(36, 36, 36, 0.54)":"rgba(255, 255, 255, 0.8)",borderBottom:"1px solid ".concat(e.palette.divider),minWidth:800,overflow:"hidden",position:"sticky",top:0,zIndex:10,minHeight:39},widgets:{display:"flex",position:"absolute",right:e.spacing(.5),top:e.spacing(1),margin:"auto",zIndex:20,"& div":{margin:e.spacing(0,0,0,.5)}},headerLine:{alignItems:"stretch",cursor:"default",display:"flex",flexWrap:"nowrap",fontFamily:Ct.monospacedFont,fontSize:"small",height:38,overflow:"hidden",userSelect:"none",whiteSpace:"pre",width:"100%",zIndex:10},headerLineItem:{lineHeight:"38px",padding:e.spacing(0,.5),"&:last-child":{flex:1}},sortable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover},transition:e.transitions.create(["background-color"],{duration:e.transitions.duration.short})},sortActive:{textDecoration:"underline",textUnderlineOffset:"4px"},success:JE(Bn.ZP.success,e),warning:JE(Bn.ZP.warning,e),error:JE(Bn.ZP.error,e),chip:JE(null,e),chipActive:JE(Bn.ZP.info,e)}}),{name:"SortAndFilterHeader"}),tS=Object.freeze([{label:"Status",sortKey:qE.$O.STATUS,style:{textAlign:"center",width:78}},{label:"Mode",sortKey:qE.$O.FLIGHT_MODE,style:{textAlign:"center",width:62}},{label:"Battery",sortKey:qE.$O.BATTERY,style:{textAlign:"right",width:62}},{label:"GPS",sortKey:qE.$O.GPS_FIX,style:{textAlign:"center",width:50}},{label:"Position",style:{textAlign:"left",width:198}},{label:"AMSL",sortKey:qE.$O.ALTITUDE_MSL,style:{textAlign:"right",width:58}},{label:"AHL",sortKey:qE.$O.ALTITUDE_HOME,style:{textAlign:"right",width:56}},{label:"AGL",sortKey:qE.$O.ALTITUDE_GROUND,style:{textAlign:"right",width:48}},{label:"Hdg",sortKey:qE.$O.HEADING,style:{textAlign:"center",width:40}},{label:"Details",style:{textAlign:"left"}}]),rS={missionIds:[{label:"sID",sortKey:qE.$O.DEFAULT,style:{textAlign:"right",width:40}},{label:"ID",sortKey:qE.$O.DEFAULT,style:{textAlign:"right",width:32}}].concat(XE(tS)),droneIds:[{label:"ID",sortKey:qE.$O.DEFAULT,style:{textAlign:"right",width:40}},{label:"sID",sortKey:qE.$O.DEFAULT,style:{textAlign:"right",width:32}}].concat(XE(tS))},nS=c.createElement(mE.Z,{style:{fontSize:"inherit",marginLeft:8}}),oS=function(e,t){if(!(Array.isArray(e)&&e.length>0))return t.chip;switch(e[0]){case HE.DB.WITH_WARNINGS:case HE.DB.INACTIVE_ONLY:return t.warning;case HE.DB.WITH_ERRORS:return t.error;default:return t.chipActive}},aS=c.forwardRef((function(e,t){var r=e.label,n=e.selected,o=KE(e,YE);return c.createElement(U.Z,$E({ref:t,dense:!0,selected:n},o),r)}));function iS(e){var t=e.state,r=e.ref,n=e.action,o=e.popupTrigger,a=void 0===o?"chip":o,i=(0,zE.vW)(t),c=function(e){return t.open(r||e)};return i.onContextMenu=i.onClick,"icon"===a?(i.onDelete=c,n&&(i.onClick=n)):i.onDelete=n||c,i}aS.propTypes={label:i().string,selected:i().bool};var cS=function(e){var t=e.filters,r=e.layout,o=e.onSetFilter,a=e.onSetSortBy,i=e.onToggleSortDirection,l=e.showMissionIds,u=e.sortBy,s=eS(),f=(0,c.useRef)(),p=(0,zE.o_)({variant:"popover",popupId:"uav-list-sort-options"}),d=(0,c.useRef)(),h=(0,zE.o_)({variant:"popover",popupId:"uav-list-filter-options"}),y=(0,c.useCallback)((function(e){o&&o(e),h.close()}),[o,h]),m=(0,c.useCallback)((function(e){a&&a({key:String(e)}),p.close()}),[a,p]),v=(0,c.useCallback)((function(e){a&&a({reverse:Boolean(e)}),p.close()}),[a,p]),g=(0,c.useCallback)((function(e){e=String(e),u.key===e?i&&i():a&&a({key:String(e)})}),[a,i,u]),b=u.key!==qE.$O.DEFAULT,w=Array.isArray(t)&&t.length>0;return c.createElement("div",{className:s.root},c.createElement("div",{className:s.widgets},c.createElement(VE.Z,$E({ref:f,className:b?s.chipActive:s.chip,variant:"outlined",label:qE.rn[u.key]||"Default",size:"small",deleteIcon:null!=u&&u.reverse?c.createElement(WE.Z,null):c.createElement(oh.Z,null)},iS({state:p,ref:f.current,action:i}))),c.createElement(Il.Z,(0,zE.wK)(p),c.createElement(U.Z,{dense:!0,disabled:!0},"Sort by"),qE.Jl.map((function(e){return c.createElement(aS,{key:e,label:qE.wu[e],selected:u.key===e,onClick:function(){return m(e)}})})),c.createElement(or.Z,{style:{margin:"4px 0"}}),c.createElement(U.Z,{dense:!0,onClick:function(){return v(!1)}},"Ascending",!(null!=u&&u.reverse)&&nS),c.createElement(U.Z,{dense:!0,onClick:function(){return v(!0)}},"Descending",(null==u?void 0:u.reverse)&&nS)),c.createElement(VE.Z,$E({ref:d,className:oS(t,s),variant:"outlined",label:w?t.length>1?"Composite":HE.tA[t[0]]:"Filter",size:"small",deleteIcon:w?void 0:c.createElement(BE.Z,null)},iS({state:h,ref:d.current,action:w?function(){return y(null)}:null}))),c.createElement(Il.Z,(0,zE.wK)(h),c.createElement(U.Z,{dense:!0,disabled:!0},"Filter by"),HE.bw.map((function(e){return c.createElement(aS,{key:e,label:HE.aC[e],selected:1===t.length&&t[0]===e||e===HE.DB.DEFAULT&&0===t.length,onClick:function(){return y(e)}})})))),c.createElement(bh,{in:"list"===r},c.createElement("div",{className:s.headerLine},function(e,t,r,o){return"string"==typeof e?e:Array.isArray(e)?e.map((function(e){var a=e.label,i=e.sortKey,l=e.style;return c.createElement("div",{key:a,className:(0,n.default)(r.headerLineItem,i&&r.sortable,t.key===i&&i!==qE.$O.DEFAULT&&r.sortActive),style:l,onClick:i?function(){return o(i)}:null},a)})):""}(l?rS.missionIds:rS.droneIds,u,s,g))))};cS.propTypes={filters:i().arrayOf(i().string),layout:i().oneOf(["grid","list"]),onSetFilter:i().func,onSetSortBy:i().func,onToggleSortDirection:i().func,showMissionIds:i().bool,sortBy:i().shape({key:i().string,reverse:i().bool})};const lS=(0,s.$j)((function(e){return{filters:(0,$t.Rf)(e),layout:(0,$t.WQ)(e),showMissionIds:(0,$t.QW)(e),sortBy:(0,$t.UP)(e)}}),{onSetFilter:w.yN,onSetSortBy:w.qX,onToggleSortDirection:w.$U})(cS);var uS=["label","onSelect"];function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sS.apply(this,arguments)}function fS(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var pS=function(e){var t=e.label,r=e.onSelect,n=fS(e,uS);return c.createElement(ev.Z,{disableSticky:!0,flex:"0 0 100%"},c.createElement(R.Z,{control:c.createElement(N.Z,sS({size:"small",onChange:r},n)),label:t}))};pS.propTypes={label:i().string,onSelect:i().func};const dS=pS;var hS=r(92241),yS=r(68454),mS=r(9629),vS=r(44152),gS=r(64059),bS=r(28618);function wS(){return wS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wS.apply(this,arguments)}var ES=(0,At.Z)((function(e){return{divider:{alignSelf:"stretch",height:"auto",margin:e.spacing(1,.5)}}}),{name:"StyledDivider"});const SS=function(e){var t=ES();return c.createElement(or.Z,wS({className:t.divider},e))};var OS=r(61197),xS=r(29062),AS=r(75423);function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kS(Object(r),!0).forEach((function(t){CS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var PS=function(e){var t=e.broadcast,r=e.dispatch,n=e.hideSeparators,o=e.openUAVDetailsDialog,a=e.requestRemovalOfUAVsByIds,i=e.requestRemovalOfUAVsMarkedAsGone,l=e.selectedUAVIds,u=e.size,s=e.startSeparator,f=e.t,p=(0,Gy.Z)(l)&&!t,d=1===l.length&&!t,h=(0,Hv.DE)((0,Xv.Fj)({getTargetedUAVIds:function(e){return t?(0,to.lI)(e):l},getTransportOptions:function(e){var r={channel:(0,go.ML)(e)};return t&&(r.broadcast=!0,r.ignoreIds=!0),r}}),r),y=h.flashLight,m=h.holdPosition,v=h.land,g=h.reset,b=h.returnToHome,w=h.shutdown,E=h.sleep,S=h.takeOff,O=h.turnMotorsOff,x=h.turnMotorsOn,k=h.wakeUp,j="small"===u?"small":"medium",C=u,P="small"===u?c.createElement(A.Z,{startIcon:c.createElement(bS.Z,null),disabled:p,size:C,onClick:y},f("UAVOpButtonGrp.flashLights")):c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.flashLights")},c.createElement(H.Z,{disabled:p,size:C,onClick:y},c.createElement(bS.Z,{fontSize:j})));return c.createElement(c.Fragment,null,!n&&s&&c.createElement(SS,{orientation:"vertical"}),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.takeOff")},c.createElement(H.Z,{disabled:p,size:C,onClick:S},c.createElement(mS.Z,{fontSize:j}))),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.positionHold")},c.createElement(H.Z,{disabled:p,size:C,onClick:m},c.createElement($v.Z,{fontSize:j}))),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.returnToHome")},c.createElement(H.Z,{disabled:p,size:C,onClick:b},c.createElement(qv.Z,{fontSize:j}))),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.land")},c.createElement(H.Z,{disabled:p,size:C,onClick:v},c.createElement(Yv.Z,{fontSize:j}))),!n&&c.createElement(SS,{orientation:"vertical"}),"small"!==u&&c.createElement(c.Fragment,null,c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.properties")},c.createElement(H.Z,{disabled:!d,size:C,onClick:function(){return o(l[0])}},c.createElement(vS.Z,null))),P),!n&&c.createElement(SS,{orientation:"vertical"}),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.armMotors")},c.createElement(H.Z,{disabled:p,size:C,onClick:x},c.createElement(zs.Z,{fontSize:j,htmlColor:p?void 0:Bn.ZP.warning}))),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.disarmMotors")},c.createElement(H.Z,{disabled:p,size:C,onClick:O},c.createElement(Y.default,{fontSize:j,htmlColor:p?void 0:Bn.ZP.warning}))),"small"===u&&P,!n&&c.createElement(SS,{orientation:"vertical"}),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.powerOn")},c.createElement(H.Z,{disabled:p,size:C,onClick:k},c.createElement(OS.Z,{htmlColor:p?void 0:Bn.ZP.success,fontSize:j}))),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.sleep")},c.createElement(H.Z,{disabled:p,size:C,onClick:E},c.createElement(gS.Z,{htmlColor:p?void 0:Bn.ZP.warning,fontSize:j}))),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.reboot")},c.createElement(H.Z,{disabled:p,size:C,onClick:g},c.createElement(vg.Z,{htmlColor:p?void 0:Bn.ZP.error,fontSize:j}))),c.createElement(Vf.kR,{content:f("UAVOpButtonGrp.powerOff")},c.createElement(H.Z,{disabled:p,size:C,onClick:w},c.createElement(Kv.Z,{htmlColor:p?void 0:Bn.ZP.error,fontSize:j}))),"small"!==u&&c.createElement(c.Fragment,null,!n&&c.createElement(SS,{orientation:"vertical"}),c.createElement(Vf.kR,{content:f(p?"UAVOpButtonGrp.removeItemsMarkedGone":"UAVOpButtonGrp.removeSelectedItems")},c.createElement(H.Z,{size:C,onClick:function(){return p?i():a(l)}},c.createElement(Rf.Z,null)))))};PS.propTypes={broadcast:i().bool,dispatch:i().func,openUAVDetailsDialog:i().func,requestRemovalOfUAVsByIds:i().func,requestRemovalOfUAVsMarkedAsGone:i().func,selectedUAVIds:i().arrayOf(i().string),hideSeparators:i().bool,size:i().oneOf(["small","medium"]),startSeparator:i().bool,t:i().func};const IS=(0,s.$j)((function(){return{}}),(function(e){return jS(jS({},(0,Hv.DE)({openUAVDetailsDialog:AS.Um,requestRemovalOfUAVsMarkedAsGone:xS.tf,requestRemovalOfUAVsByIds:xS.or},e)),{},{dispatch:e})}))((0,y.Zh)()(PS));var TS=r(3133),LS=r(79361),_S=r(26663);function ZS(){return ZS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZS.apply(this,arguments)}const NS=c.forwardRef((function(e,t){return c.createElement(gc.Z,ZS({},e,{ref:t}),c.createElement("path",{d:"m15.1 19.37 1 1.74c-.96.44-2.01.73-3.1.84v-2.02c.74-.09 1.44-.28 2.1-.56zM4.07 13H2.05c.11 1.1.4 2.14.84 3.1l1.74-1c-.28-.66-.47-1.36-.56-2.1zM15.1 4.63l1-1.74c-.96-.44-2-.73-3.1-.84v2.02c.74.09 1.44.28 2.1.56zM19.93 11h2.02c-.11-1.1-.4-2.14-.84-3.1l-1.74 1c.28.66.47 1.36.56 2.1zM8.9 19.37l-1 1.74c.96.44 2.01.73 3.1.84v-2.02c-.74-.09-1.44-.28-2.1-.56zM11 4.07V2.05c-1.1.11-2.14.4-3.1.84l1 1.74c.66-.28 1.36-.47 2.1-.56zm7.36 3.1 1.74-1.01c-.63-.87-1.4-1.64-2.27-2.27l-1.01 1.74c.59.45 1.1.96 1.54 1.54zM4.63 8.9l-1.74-1c-.44.96-.73 2-.84 3.1h2.02c.09-.74.28-1.44.56-2.1zm15.3 4.1c-.09.74-.28 1.44-.56 2.1l1.74 1c.44-.96.73-2.01.84-3.1h-2.02zm-3.1 5.36 1.01 1.74c.87-.63 1.64-1.4 2.27-2.27l-1.74-1.01c-.45.59-.96 1.1-1.54 1.54zM7.17 5.64l-1-1.75c-.88.64-1.64 1.4-2.27 2.28l1.74 1.01c.44-.59.95-1.1 1.53-1.54zM5.64 16.83l-1.74 1c.63.87 1.4 1.64 2.27 2.27l1.01-1.74c-.59-.44-1.1-.95-1.54-1.53z"}))}));var DS=function(e){var t=e.layout,r=e.mappingEditable,n=e.onToggleShowingEmptyMissionSlots,o=e.setUAVListLayout,a=e.showEmptyMissionSlots,i=e.showMissionIds,l=e.startMappingEditorSession;return c.createElement(c.Fragment,null,i&&c.createElement(Vf.kR,{content:"Edit mapping"},c.createElement(H.Z,{disabled:r||!i,onClick:l},c.createElement(Pa.Z,null))),c.createElement(Sv,null),c.createElement(Vf.kR,{content:a?"Hide empty mission slots":"Show empty mission slots"},c.createElement(wv,{value:"showMissing",disabled:!i,selected:a,onClick:n},c.createElement(NS,null))),c.createElement(SS,{orientation:"vertical"}),c.createElement(_S.Z,{exclusive:!0,value:t,onChange:o},c.createElement(wv,{size:"small",value:"grid"},c.createElement(LS.Z,null)),c.createElement(wv,{size:"small",value:"list"},c.createElement(TS.Z,null))))};DS.propTypes={layout:i().oneOf(["grid","list"]),mappingEditable:i().bool,onToggleShowingEmptyMissionSlots:i().func,setUAVListLayout:i().func,showEmptyMissionSlots:i().bool,showMissionIds:i().bool,startMappingEditorSession:i().func};const RS=(0,s.$j)((function(e){return{layout:(0,$t.WQ)(e),mappingEditable:(0,go.rT)(e),showEmptyMissionSlots:(0,$t.BN)(e),showMissionIds:(0,$t.QW)(e)}}),{clearMapping:bo.oi,onToggleShowingEmptyMissionSlots:function(){return function(e,t){var r=(0,$t.BN)(t());e((0,P.IA)("display",{hideEmptyMissionSlots:r}))}},startMappingEditorSession:bo._Y,setUAVListLayout:function(e,t){return function(e){t&&e((0,P.IA)("display",{uavListLayout:t}))}}})(DS);var FS=["fitSelectedUAVs","isBroadcast","selectedUAVIds"];function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MS.apply(this,arguments)}function US(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var GS=c.forwardRef((function(e,t){var r=e.fitSelectedUAVs,n=e.isBroadcast,o=e.selectedUAVIds,a=US(e,FS),i=(0,Gy.Z)(o);return c.createElement(yE.Z,MS({ref:t,disableGutters:!0,variant:"dense"},a),c.createElement(O.Z,{width:4}),c.createElement(IS,{broadcast:n,selectedUAVIds:o}),c.createElement(O.Z,{flex:1}),r&&c.createElement(Vf.kR,{content:i?"Fit all features into view":"Fit selection into view"},c.createElement(H.Z,{style:{float:"right"},onClick:r},i?c.createElement(yS.Z,null):c.createElement(hS.Z,null))),c.createElement(RS,null))}));GS.propTypes={fitSelectedUAVs:i().func,isBroadcast:i().bool,selectedUAVIds:i().array};const VS=(0,s.$j)((function(e){return{isBroadcast:(0,vc.d)(e)}}),{})(GS);var BS=r(91637),WS=(0,At.Z)((function(e){return{root:{position:"absolute",height:e.spacing(1.5),width:e.spacing(1.5),right:-2,top:-2,backgroundColor:e.palette.background.paper,border:"2px solid ".concat(e.palette.background.paper),borderRadius:"50%",boxSizing:"content-box"},light:{position:"absolute",width:"100%",height:"100%",backgroundColor:e.palette.background.paper,borderRadius:"50%",boxSizing:"content-box"},"status-off":{backgroundColor:Bn.ZP.off},"status-success":{backgroundColor:Bn.ZP.success},"status-warning":{backgroundColor:Bn.ZP.warning},"status-rth":{animation:"$flash 0.5s infinite",animationDirection:"alternate",backgroundColor:Bn.ZP.warning},"status-error":{backgroundColor:Bn.ZP.error,color:"white"},"status-critical":{animation:"$flash 0.5s infinite",animationDirection:"alternate",backgroundColor:Bn.ZP.error,color:"white"},"@keyframes flash":{"0%, 49%":{opacity:.5},"50%, 100%":{opacity:1}}}}),{name:"SecondaryStatusLight"}),zS=function(e){var t=e.status,r=WS();return c.createElement("div",{className:(0,n.default)(r.root)},c.createElement("div",{className:(0,n.default)(r.light,r["status-".concat(t)])}))};zS.propTypes={status:i().oneOf(["off","success","warning","rth","error","critical"])},zS.defaultProps={status:"off"};const HS=zS;function qS(){return qS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qS.apply(this,arguments)}var YS=(0,At.Z)((function(e){return{avatarWrapper:{position:"relative","&:not(:last-child)":{marginBottom:e.spacing(.5)},"&::after":{background:Ct.Colors.error,boxShadow:"1px 1px 4px rgba(0, 0, 0, 0.6), 1px 1px 2px rgba(255, 255, 255, 0.3) inset",content:'""',height:4,left:"50%",position:"absolute",top:"calc(50% - 2px)",transform:"rotate(-45deg)",transition:"left 300ms, width 300ms",width:"0%"},"&.crossed::after":{left:"-20%",width:"140%"}},avatarContent:{width:"100%",textAlign:"center"},gone:{opacity:.7},hint:{fontSize:"0.75rem"},hintSeparator:{width:"75%",marginTop:0,marginBottom:2,border:"1px solid",borderBottomWidth:0,opacity:.6,color:"inherit"},progress:{position:"absolute",top:-2,left:-2}}}),{name:"ComplexAvatar"}),$S=function(e){var t=e.AvatarProps,r=e.batteryFormatter,o=e.batteryStatus,a=e.hint,i=e.crossed,l=e.details,u=e.editing,s=e.gone,f=e.id,p=e.label,d=e.progress,h=e.secondaryStatus,y=e.status,m=e.text,v=e.textSemantics,g=YS();y===Ct.Status.INFO&&(y=Ct.Status.SUCCESS);var b=a||(void 0===p||p===f?"":f);return c.createElement(c.Fragment,null,c.createElement("div",{className:(0,n.default)(g.avatarWrapper,i&&"crossed",s&&g.gone)},c.createElement(BS.Z,qS({status:u?Ct.Status.NEXT:y},t),c.createElement("div",{className:g.avatarContent},void 0===p?f:p,c.createElement("hr",{className:g.hintSeparator}),c.createElement("div",{className:g.hint},b||"\u2014"))),d>0&&c.createElement(Et.Z,{className:g.progress,size:44,value:d,variant:"static"}),h&&c.createElement(HS,{status:h})),(l||m)&&c.createElement(cE.Z,{status:v},l||m),o&&c.createElement(Xw.Z,qS({formatter:r},o)))};$S.propTypes={AvatarProps:i().object,batteryFormatter:i().instanceOf(Kw.C),batteryStatus:i().shape({cellCount:i().number,voltage:i().number,percentage:i().number}),hint:i().string,crossed:i().bool,details:i().string,editing:i().bool,gone:i().bool,id:i().string,label:i().string,progress:i().number,secondaryStatus:i().oneOf(["off","info","success","warning","rth","error","critical"]),selected:i().bool,status:i().oneOf(["off","info","success","warning","rth","error","critical"]),text:i().string,textSemantics:i().oneOf(["off","info","success","warning","rth","error","critical"])},$S.defaultProps={status:"off",textSemantics:"info"};const KS=$S;function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JS=(0,s.$j)((function(){var e=(0,to.vN)();return(0,We.createSelector)($t.KI,go.G5,(function(t,r){var n=r.id;return e(t,n)}),(function(e,t){return t}),(function(e,t,r,n){var o=n.hint,a=n.id,i=n.label,c=n.variant,l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XS(Object(r),!0).forEach((function(t){QS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({batteryFormatter:e},r);return o||i&&i!==a||!(a in t)||(l.hint=(0,qn.Bq)(t[a])),"full"!==c&&(delete l.batteryStatus,delete l.text,delete l.details),l}))}))(KS);JS.propTypes={id:i().string,variant:i().oneOf(["full","minimal"])},JS.defaultProps={variant:"full"};const eO=JS;var tO=r(82940),rO=new(r.n(tO)()),nO=function(e){return function(t){return rO.dispatch(e,t)}};const oO=rO;function aO(e){var t="string"==typeof e?document.querySelector(e):t.scrollIntoView?t:null;t&&window.requestAnimationFrame((function(){t.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}))}function iO(e){return function(e){if(Array.isArray(e))return cO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lO="up",uO="down",sO="left",fO="right",pO="previousPage",dO="nextPage";function hO(e){var t=e.dispatch,r=e.activateId,n=e.activateIds,o=e.getNavigationDeltaInDirection,a=e.getVisibleIds,i=e.getSelectedIds,c=e.setFocusToId,l=e.setSelectedIds,u=r||n?function(){return function(e,t){var o=t(),a=i(o);a&&a.length>0&&e(n?n(a):r(a[a.length-1]))}}:void 0,s=function(e,t,r,n){var o=n(),u=a(o);if(0!==u.length){var s=i(o),f=0;if(Number.isFinite(t)){if(s.length>0){var p=s.map((function(e){return u.indexOf(e)})).filter((function(e){return e>=0}));f=t<0?Math.min.apply(Math,[u.length-1].concat(iO(p)))+t:Math.max.apply(Math,[0].concat(iO(p)))+t}f=Math.min(Math.max(f,0),u.length-1)}else f=t<0?0:u.length-1;var d=u[f],h=e.shiftKey?s.includes(d)?null:[].concat(iO(s),[d]):[d];if(c&&!(0,Be.default)(d)){var y=c(d);"string"==typeof y&&aO(y)}null!==h&&r(l(h))}},f=function(e){return function(t){return function(r,n){var o=s(t,e,r,n);o&&r(o)}}},p=function(e){return function(t){return function(r,n){t.preventDefault();var a=n(),i=o(a,e);if(0!==i){var c=s(t,i,r,n);c&&r(c)}}}};return(0,Hv.DE)({ACTIVATE_SELECTION:u,PAGE_DOWN:p(dO),PAGE_UP:p(pO),SELECT_FIRST:f(Number.NEGATIVE_INFINITY),SELECT_LAST:f(Number.POSITIVE_INFINITY),SELECT_DOWN:p(uO),SELECT_UP:p(lO),SELECT_LEFT:p(sO),SELECT_RIGHT:p(fO)},t)}r(70189);var yO=r(48392),mO=r(34156),vO=r.n(mO);function gO(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return bO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bO(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function bO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wO(){return!0}var EO=vO()((function(e){var t=(0,HE._J)(e);return t?function(e){return function(r){return t(e[r[0]])}}:function(){return wO}})),SO=vO()((function(e){var t=(0,qE.Vl)(e);return t?function(e){return function(r){return t(e[r[0]])}}:function(){return Wu.default}}));function OO(e,t,r){var n,o=e||{},a=o.key,i=o.reverse;if(r){var c=SO(a);return(0,yO.Z)(t,(function(e){return(0,Mn.X)(e,[c(r)],[i?"desc":"asc"])}))}return i?(n=t,(0,yO.Z)(n,(function(e){return e.concat().reverse()}))):t}function xO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||kO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AO(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=kO(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function kO(e,t){if(e){if("string"==typeof e)return jO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jO(e,t):void 0}}function jO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CO=[void 0,void 0,c.createElement(Rf.Z,{key:"__delete"})],PO=(0,We.createSelector)(go.eP,go.rT,to.lI,$t.BN,(function(e,t,r,n){var o,a=[],i=[],c=[],l=new Set,u=AO(e.entries());try{for(u.s();!(o=u.n()).done;){var s=xO(o.value,2),f=s[0],p=s[1];(0,Be.default)(p)?(n||t)&&a.push([void 0,f]):(a.push([p,f]),l.add(p))}}catch(e){u.e(e)}finally{u.f()}var d,h=AO(r);try{for(h.s();!(d=h.n()).done;){var y=d.value;l.has(y)||i.push([y,void 0])}}catch(e){h.e(e)}finally{h.f()}return t&&c.push(CO),{mainUAVIds:a,spareUAVIds:i,extraSlots:c}})),IO=(0,We.createSelector)(to.lI,go.G5,(function(e,t){return{mainUAVIds:e.map((function(e){return[e,t[e]]})),spareUAVIds:[],extraSlots:[]}})),TO=(0,We.createSelector)($t.Rf,$t.UP,(function(e){return(0,$t.QW)(e)?PO(e):IO(e)}),(function(e){var t=(0,$t.UP)(e).key,r=(0,$t.Rf)(e);return t===qE.$O.DEFAULT&&0===r.length?null:(0,to.L8)(e)}),(function(e,t,r,n){var o=function(e,t,r){if(0===e.length)return t;var n,o=gO(e);try{var a=function(){var e=n.value,o=EO(e)(r);t=(0,yO.Z)(t,(function(e){return e.filter(o)}))};for(o.s();!(n=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return t}(e,r,n);return OO(t,o,n)})),LO=(0,We.createSelector)(TO,(function(e){var t,r=e.mainUAVIds,n=e.spareUAVIds,o=[],a=AO(r);try{for(a.s();!(t=a.n()).done;){var i=t.value;(0,Be.default)(i[0])||o.push(i[0])}}catch(e){a.e(e)}finally{a.f()}var c,l=AO(n);try{for(l.s();!(c=l.n()).done;){var u=c.value;o.push(u[0])}}catch(e){l.e(e)}finally{l.f()}return o})),_O=(0,We.createSelector)(TO,to.yi,(function(e,t){return(0,yO.Z)(e,(function(e){var r=e.filter((function(e){return!(0,Be.default)(e[0])})),n=function(e){return t.includes(e[0])};if(r.length>0){if(n(r[0])){var o=r.every(n);return{checked:o,indeterminate:!o}}return{checked:!1,indeterminate:r.some(n)}}return{checked:!1,indeterminate:!1,disabled:!0}}))})),ZO=["forceVisible","ids","itemFactory","itemFactoryOptions","layout"];function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function DO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RO(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function FO(){return FO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FO.apply(this,arguments)}function MO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||UO(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UO(e,t){if(e){if("string"==typeof e)return GO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?GO(e,t):void 0}}function GO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var VO=(0,_w.Z)((function(e){return{appBar:{backgroundColor:(0,Ct.isThemeDark)(e)?"#424242":e.palette.background.paper,height:48},toolbar:{position:"absolute",left:0,right:0,top:0}}}),{name:"UAVList"}),BO=(0,_w.Z)((function(e){return{grid:{display:"flex",flexDirection:"row",flexWrap:"wrap","&>div":{padding:e.spacing(1)}},list:{display:"flex",alignItems:"stretch",flexDirection:"column",fontSize:"12px","&>div":{padding:e.spacing(.5),borderBottom:"1px solid ".concat(e.palette.divider)},"&>div:first-child":{borderTop:"1px solid ".concat(e.palette.divider)}}}}),{name:"UAVListSection"}),WO=function(e,t){var r=t.draggable,n=t.isInEditMode,o=t.mappingSlotBeingEdited,a=t.onDropped,i=t.onSelectedMissionSlot,l=t.onSelectedUAV,u=t.onStartEditing,s=t.selectedMissionIndices,f=t.selectedUAVIds,p=t.showMissionIds;return e.map((function(e){var t=MO(e,3),d=t[0],h=t[1],y=t[2],m=void 0!==o&&h===o,v=f.includes(d)||s.includes("".concat(h)),g={onClick:n?function(e){return u(h)}:d?function(e){return l(e,d)}:h?function(e){return i(e,h)}:void 0,onDrop:a?a(h):void 0,editing:m,selected:v};e===CO&&(g.fill=!0);var b=y||(p?void 0===h||n&&void 0!==d?d:(0,qn.Bq)(h):d),w=void 0===d?"placeholder-".concat(b||"null"):d;return void 0===d?c.createElement(Hw,FO({key:w,onDrop:a?a(h):void 0},g),m&&c.createElement(IE,null),c.createElement(Hn,{editing:m,label:m?"":b,status:void 0===h?"error":"off"})):c.createElement(Hw,FO({key:w,draggable:r,uavId:d},g),m&&c.createElement(IE,null),c.createElement(eO,{id:d,editing:m,label:m?"":b,selected:v}))}))},zO=function(e,t){var r=t.isInEditMode,n=t.mappingSlotBeingEdited,o=t.onDropped,a=t.onSelectedUAV,i=t.onSelectedMissionSlot,l=t.onStartEditing,u=t.selectedUAVIds,s=t.selectedMissionIndices,f=t.showMissionIds;return e.map((function(e){if(e===CO)return null;var t=MO(e,3),p=t[0],d=t[1],h=t[2],y=r&&d===n,m=u.includes(p)||s.includes("".concat(d)),v={onClick:r?function(e){return l(d)}:p?function(e){return a(e,p)}:d?function(e){return i(e,d)}:void 0,onDrop:o?o(d):void 0,editing:y,selected:r?y:m},g=void 0!==d,b=g?(0,qn.Bq)(d):"",w=h||(f&&g?b:p),E=y||f&&!g?"":f?p:b,S=void 0===p?"placeholder-".concat(w||"null"):p;return c.createElement(Hw,FO({key:S,stretch:!0,uavId:p},v),y&&c.createElement(_E,null),c.createElement(hE,{id:p,label:w,secondaryLabel:E}))}))},HO=function(e){var t=e.forceVisible,r=e.ids,n=e.itemFactory,o=e.itemFactoryOptions,a=e.layout,i=RO(e,ZO),l=BO();return r.length<=0&&!t?null:c.createElement(c.Fragment,null,c.createElement(dS,i),c.createElement(O.Z,{className:"grid"===a?l.grid:l.list},n(r,o)))};HO.propTypes={forceVisible:i().bool,ids:i().array,itemFactory:i().func,itemFactoryOptions:i().object,layout:i().oneOf(["grid","list"])};var qO=function(e){var t,r,n=e.containerDOMNodeId,o=e.editingMapping,a=e.keyboardNav,i=e.layout,l=e.mappingSlotBeingEdited,u=e.onEditMappingSlot,s=e.onMappingAdjusted,f=e.onSelectUAV,p=e.onSelectMissionSlot,d=e.onSelectSection,h=e.selectedUAVIds,y=e.selectedMissionIndices,m=e.selectionInfo,v=e.showMissionIds,g=e.uavIds,b=VO();t=a,r=(0,c.useCallback)((function(e,r){var n=t[e];n&&n(r)}),[t]),Hb(oO,r);var w,E,S,x=(0,c.useCallback)((function(e){return function(t){return s({uavId:t,to:e})}}),[s]),A=MO((w=(0,c.useRef)(null),E=(0,c.useRef)(0),S=(0,c.useCallback)((function(e){E.current=e.target.scrollTop}),[E]),(0,c.useLayoutEffect)((function(){w.current.scrollTop=E.current})),[w,S]),2),k=A[0],j=A[1],C=g.mainUAVIds,P=g.spareUAVIds,I=g.extraSlots,T="grid"===i?WO:zO,L={draggable:o,isInEditMode:o,mappingSlotBeingEdited:l,onDropped:o&&x,onSelectedUAV:f,onSelectedMissionSlot:p,onStartEditing:u,selectedUAVIds:h,selectedMissionIndices:y,showMissionIds:v},_=c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(Lw.Z,{color:"default",position:"static",className:b.appBar},c.createElement(bh,{mountOnEnter:!0,unmountOnExit:!0,in:!o},c.createElement(VS,{className:b.toolbar,selectedUAVIds:h})),c.createElement(bh,{mountOnEnter:!0,unmountOnExit:!0,in:o&&l<0},c.createElement(kE,{className:b.toolbar})),c.createElement(bh,{mountOnEnter:!0,unmountOnExit:!0,in:o&&l>=0},c.createElement(GE,{className:b.toolbar}))),c.createElement(O.Z,{ref:k,flex:1,overflow:"auto",id:n,onScroll:j},c.createElement(lS,{layout:i}),c.createElement(HO,FO({ids:C,itemFactory:T,itemFactoryOptions:L,label:v?"Assigned UAVs":"All UAVs",layout:i,value:"mainUAVIds",onSelect:d},m.mainUAVIds)),c.createElement(HO,FO({ids:P,itemFactory:T,itemFactoryOptions:L,label:"Spare UAVs",layout:i,value:"spareUAVIds",forceVisible:o,onSelect:d},m.spareUAVIds))),I.length>0&&"grid"===i?c.createElement(O.Z,{className:"bottom-bar"},c.createElement(O.Z,{display:"flex",flexDirection:"row",flexWrap:"wrap"},WO(I,L))):null);return o?c.createElement(bg.W,{backend:Eg.PD},_):_};qO.propTypes={containerDOMNodeId:i().string,editingMapping:i().bool,keyboardNav:i().object,mappingSlotBeingEdited:i().number,layout:i().oneOf(["list","grid"]),onEditMappingSlot:i().func,onMappingAdjusted:i().func,onSelectUAV:i().func,onSelectMissionSlot:i().func,onSelectSection:i().func,selectedUAVIds:i().array,selectedMissionIndices:i().array,selectionInfo:i().exact({mainUAVIds:i().exact({checked:i().bool,disabled:i().bool,indeterminate:i().bool}),spareUAVIds:i().exact({checked:i().bool,disabled:i().bool,indeterminate:i().bool}),extraSlots:i().exact({checked:i().bool,disabled:i().bool,indeterminate:i().bool})}),showMissionIds:i().bool,uavIds:i().exact({mainUAVIds:i().arrayOf(i().array).isRequired,spareUAVIds:i().arrayOf(i().array).isRequired,extraSlots:i().arrayOf(i().array).isRequired}).isRequired};var YO=(0,s.$j)((function(e){return{editingMapping:(0,go.rT)(e),mappingSlotBeingEdited:(0,go.mb)(e),layout:(0,$t.WQ)(e),selectedUAVIds:(0,to.yi)(e),selectedMissionIndices:(0,go.bY)(e),selectionInfo:_O(e),showMissionIds:(0,$t.QW)(e),uavIds:TO(e)}}),(function(){var e="__keyboardNav-".concat((0,Tw.x0)()),t=function(){var t=document.querySelector("#".concat(e)),r=((null==t?void 0:t.getBoundingClientRect())||{}).width;return"number"==typeof r&&r>0?Math.max(1,Math.floor(r/80)):1},r=function(e,r){if("vertical"===(0,$t.Qr)(e))switch(r){case uO:return 1;case lO:return-1;case dO:return 10;case pO:return-10;default:return 0}else switch(r){case sO:return-1;case fO:return 1;case lO:case pO:return-t();case uO:case dO:return t();default:return 0}};return function(t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?NO(Object(r),!0).forEach((function(t){DO(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({containerDOMNodeId:e,keyboardNav:hO({dispatch:t,activateId:AS.Um,getNavigationDeltaInDirection:r,getVisibleIds:LO,getSelectedIds:to.yi,getLayout:$t.Qr,setSelectedIds:xS.D0,setFocusToId:function(e){return"#".concat(Nw(e))}})},(0,Hv.DE)({onEditMappingSlot:bo.xG,onMappingAdjusted:bo.QD,onSelectUAV:(0,Zs.cF)({activateItem:AS.Um,getSelection:to.yi,setSelection:xS.D0}),onSelectMissionSlot:(0,Zs.cF)({getSelection:go.bY,setSelection:sm.BM}),onSelectSection:function(e){return function(t,r){var n=e.target.value,o=r(),a=TO(o)[n],i=(0,to.yi)(o),c=_O(o)[n];if(c&&a){var l,u=[],s=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=UO(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(a);try{for(s.s();!(l=s.n()).done;){var f=l.value;(0,Be.default)(f[0])||u.push(f[0])}}catch(e){s.e(e)}finally{s.f()}var p=c.checked?(0,Pw.Z)(i,u):(0,Iw.Z)(i,u);t((0,xS.D0)(p))}}}},t))}}))(qO);const $O=YO;var KO=r(63274),XO=r(86388),QO=r(37155),JO=r(69500),ex=r(57864),tx=function(e){var t=e.mode,r=e.onChange,n=e.onResetZoom,o=e.onRotateCameraTowardsDrones;return c.createElement(c.Fragment,null,c.createElement(_S.Z,{size:"small"},c.createElement(wv,{selected:"walk"===t,value:"walk",onClick:function(){return r("walk")}},"Walk"),c.createElement(wv,{selected:"fly"===t,value:"fly",onClick:function(){return r("fly")}},"Fly")),c.createElement(SS,{orientation:"vertical"}),c.createElement(ht.default,{content:"Reset zoom"},c.createElement(H.Z,{disableRipple:!0,disabled:!n,onClick:n},c.createElement(ex.Z,null))),c.createElement(ht.default,{content:"Rotate camera towards drones"},c.createElement(H.Z,{disableRipple:!0,disabled:!o,onClick:o},c.createElement(JO.Z,null))))};tx.propTypes={mode:i().oneOf(["walk","fly"]),onChange:i().func,onResetZoom:i().func,onRotateCameraTowardsDrones:i().func};const rx=tx;var nx=r(94537);function ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ax(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ox(Object(r),!0).forEach((function(t){ix(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ox(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ix(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cx={display:"inline-block",transform:"translateY(1px)"},lx={whiteSpace:"nowrap"},ux={walk:c.createElement("div",{style:lx},c.createElement("div",{style:cx},c.createElement("kbd",null,"Arrows"),c.createElement("span",null," Walk around "),c.createElement("kbd",null,"E"),c.createElement("kbd",null,"C"),c.createElement("span",null," Altitude "),c.createElement("kbd",null,"Shift"),c.createElement("span",null," Run ")),c.createElement(H.Z,{disabled:!0},c.createElement(vE.Z,null)),c.createElement("div",{style:ax(ax({},cx),{},{marginLeft:-8})},"Look around")),fly:c.createElement("div",{style:lx},c.createElement("div",{style:cx},c.createElement("kbd",null,"\u2191"),c.createElement("kbd",null,"\u2193"),c.createElement("span",null," Fly forward / backward "),c.createElement("kbd",null,"\u2190"),c.createElement("kbd",null,"\u2192"),c.createElement("span",null," Move sideways "),c.createElement("kbd",null,"E"),c.createElement("kbd",null,"C"),c.createElement("span",null," Altitude ")),c.createElement(H.Z,{disabled:!0},c.createElement(vE.Z,null)),c.createElement("div",{style:ax(ax({},cx),{},{marginLeft:-8})},"Look around"))},sx=function(e){var t=e.mode;return c.createElement(O.Z,{mx:1,flex:1,alignSelf:"stretch",position:"relative"},c.createElement(nx.Z,null,c.createElement(bh,{key:t},c.createElement(O.Z,{position:"absolute",left:0,top:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"center"},ux[t]||"No instructions for this navigation mode"))))};sx.propTypes={mode:i().oneOf(["walk","fly"])};const fx=sx;var px=["children"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dx.apply(this,arguments)}function hx(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var yx=function(e){var t=e.children,r=hx(e,px);return c.createElement(O.Z,dx({position:"absolute",zIndex:1},r),t)};yx.propTypes={children:i().oneOfType([i().node,i().arrayOf(i().node)])};const mx=yx;var vx=r(73521),gx=["onChange","value"];function bx(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var wx=function(e){var t=e.onChange,r=e.value;bx(e,gx);return c.createElement(wv,{value:"dark",selected:r,onChange:t},c.createElement(vx.Z,null))};wx.propTypes={onChange:i().func,value:i().bool};const Ex=wx;var Sx=r(35468),Ox=r(75986),xx=c.createRef();function Ax(){for(var e=xx.current;e&&e.nodeName&&"a-scene"!==e.nodeName.toLowerCase();)e=e.parentNode;if(e&&e.nodeName&&"a-scene"===e.nodeName.toLowerCase())return e}var kx=r(51974);function jx(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Cx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cx(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Cx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Px=Ox.Z.THREE;function Ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ix(Object(r),!0).forEach((function(t){Lx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ix(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _x=(0,d.ZP)((function(){return Promise.all([r.e(529),r.e(797)]).then(r.bind(r,89793))})),Zx=(0,_w.Z)((function(e){return{appBar:{backgroundColor:(0,Ct.isThemeDark)(e)?"#424242":e.palette.background.paper,height:48},toolbar:{position:"absolute",left:e.spacing(1),right:e.spacing(1),top:0}}}),{name:"ThreeDTopLevelView"}),Nx=function(e){var t=e.hasMapCoordinateSystem,r=e.lighting,n=e.navigation,o=e.onResetZoom,a=e.onRotateCameraTowardsDrones,i=e.onSetNavigationMode,l=e.onShowSettings,u=e.onToggleLightingConditions,s=Zx(),f=(0,c.useRef)(null),p=(0,XO.Z)({onResize:function(){f.current&&f.current.resize()}}).ref;return c.createElement(KO.IgnoreKeys,{style:{height:"100%"}},c.createElement(O.Z,{display:"flex",flexDirection:"column",height:"100%"},c.createElement(Lw.Z,{color:"default",position:"static",className:s.appBar},c.createElement(yE.Z,{disableGutters:!0,variant:"dense",className:s.toolbar},c.createElement(rx,{mode:n.mode,parameters:n.parameters,onChange:i,onResetZoom:o,onRotateCameraTowardsDrones:a}),c.createElement(SS,{orientation:"vertical"}),c.createElement(fx,{mode:n.mode}),c.createElement(Ex,{value:"dark"===r,onChange:u}))),c.createElement(O.Z,{ref:p,position:"relative",flex:1},c.createElement(Sx.Z,null,c.createElement(_x,{ref:f,cameraRef:xx})),!t&&c.createElement(mx,{left:8,right:8,top:8},c.createElement(Nb.Z,{severity:"warning",action:c.createElement(H.Z,{color:"inherit",size:"small",onClick:l},c.createElement(ac.Z,null))},c.createElement(QO.Z,null,"No map coordinate system specified"),c.createElement("div",null,"Drones will become visible when a coordinate system is specified in the ",c.createElement("strong",null,"Settings")," dialog."))))))};Nx.propTypes={hasMapCoordinateSystem:i().bool,lighting:i().string,navigation:i().shape({mode:i().string,parameters:i().object}),onResetZoom:i().func,onRotateCameraTowardsDrones:i().func,onSetNavigationMode:i().func,onShowSettings:i().func,onToggleLightingConditions:i().func};const Dx={BeaconList:Ws,ClockDisplayList:df,ConnectionList:xf,DatasetList:Cf,DockList:Df,FeatureList:np,LayerList:up,LCDClockPanel:ed,LightControlPanel:Td,LogPanel:Nh,MessagesPanelView:My,SavedLocationList:Jd,ShowControlPanel:Cw,UAVList:$O,ThreeDTopLevelView:(0,s.$j)((function(e){return Tx(Tx({hasMapCoordinateSystem:(0,Te.H_)(e)},e.threeD),{},{lighting:(0,$t.yI)(e)})}),{onResetZoom:kx.uN,onRotateCameraTowardsDrones:function(){return function(e,t){var r=t(),n=(0,to.Xe)(r);if(0!==n.length){var o,a=(o=Ax())?o.querySelector("a-drone-flock"):void 0,i=null==a?void 0:a.components["drone-flock"];if(i){var c,l=new Px.Vector3,u=0,s=jx(n);try{for(s.s();!(c=s.n()).done;){var f=c.value,p=i.getEntityForUAVById(f),d=null==p?void 0:p.getAttribute("position");d&&(l.add(d),u+=1)}}catch(e){s.e(e)}finally{s.f()}u>0&&(l.divideScalar(u),e((0,kx.S8)(l.toArray())))}}else e((0,Hu.x)("No active UAVs to focus the view on."))}},onSetNavigationMode:kx.oJ,onShowSettings:function(){return function(e){e((0,w.Hy)("display")),e((0,w.jZ)())}},onToggleLightingConditions:P.Ok})(Nx)};function Rx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mx=(0,d.ZP)((function(){return Promise.all([r.e(822),r.e(69)]).then(r.bind(r,33752))})),Ux=(0,d.ZP)((function(){return r.e(842).then(r.bind(r,20617))}));r(20221);var Gx=function(){return c.createElement(Bo.Z,{text:"This component is not available in this version"})},Vx={"beacon-list":{component:Dx.BeaconList,label:"Beacons",detachable:!0,feature:"beacons"},"connection-list":{component:Dx.ConnectionList,label:"Connections"},"dataset-list":{component:Dx.DatasetList,label:"Datasets",detachable:!0},"dock-list":{component:Dx.DockList,label:"Docks",detachable:!0,feature:"docks"},"feature-list":{component:Dx.FeatureList,label:"Features",detachable:!0,feature:"features"},"field-notes":{component:Mx,label:"Field notes"},"ground-control-view":{component:(0,Ps.f1)(Dx.GroundControlView),label:"Ground control"},"layer-list":{component:Dx.LayerList,label:"Layers",detachable:!0},"light-control":{component:Dx.LightControlPanel,label:"Light control",detachable:!0,feature:"showControl"},"lcd-clock-panel":{component:Dx.LCDClockPanel,label:"Clocks",detachable:!0},"log-panel":{component:Dx.LogPanel,label:"Event log",detachable:!0},map:{component:Ux,label:"Map",detachable:!0},messages:{component:Dx.MessagesPanelView,label:"Messages"},placeholder:{component:function(){return null},label:"Placeholder"},"saved-location-list":{component:Dx.SavedLocationList,label:"Locations",detachable:!0},"show-control":{component:Dx.ShowControlPanel,label:"Show control",detachable:!0,feature:"showControl"},"three-d-view":{component:Dx.ThreeDTopLevelView,label:"3D View",feature:"threeDView"},"uav-list":{component:(0,Ps.f1)(Dx.UAVList),label:"UAVs",detachable:!0}};var Bx=function(e){for(var t=new u.Kx,r=function(){var e,r=Rx(o[n],2),a=r[0],i=r[1];t.registerComponent(a,function(e){return i.feature?(t=i.feature,r=e,(0,Ts.U6)(t)?r:Gx):e;var t,r}((e=i.component,i.detachable?bs(a,i.label,e):e)))},n=0,o=Object.entries(Vx);n<o.length;n++)r();var a=t.build(),i=js(Vx,a)((0,Ts.jl)()),c=i.isFixed,l=i.state;return a.restoreState(l),e.dispatch((0,Cs.Gw)(l.settings.hasHeaders)),e.dispatch((0,Cs.Tm)(c)),a.fallback=Gx,a.on("stateChanged",(0,$u.Z)((function(){e.dispatch((0,Cs.Eh)(a))}),1e3)),a}(Is.ZP);Pe.Z.on("languageChanged",(function(){Bx.forEach((function(e){e.isComponent&&e.setTitle(Pe.Z.t("view.".concat(e.config.component)))}))}));var Wx=c.createContext(Bx);const zx=Bx;var Hx=r(63790),qx=function(e){var t=e.id,r=e.label,n=e.onClick,o=e.pillWidth,a=e.status,i=e.uavIds;return c.createElement(st.Z,{key:t,button:!0,disableGutters:!0,onClick:n},c.createElement(O.Z,{width:o},c.createElement(cE.Z,{status:a},r)),c.createElement(O.Z,{width:36,mx:1},c.createElement(cE.Z,{status:ol.q.OFF},i.length)),(0,qn.C_)(i,{maxCount:5}))};qx.propTypes={id:i().string,label:i().string,onClick:i().func,pillWidth:i().number,status:i().oneOf(Object.values(ol.q)),uavIds:i().arrayOf(i().string)},qx.defaultProps={pillWidth:80};const Yx=qx;function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(this,arguments)}function Kx(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Xx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xx(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Xx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qx=(0,We.createSelector)(to.L8,to.lI,(function(e,t){var r,n={},o=Kx(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,i=e[a];if(i){var c=(0,to.d9)(i),l=c.text,u=c.textSemantics,s="".concat(u,":").concat(l);void 0===n[s]?n[s]={id:s,label:l,priority:-(0,ol._)(u),status:u,uavIds:[a]}:n[s].uavIds.push(a)}}}catch(e){o.e(e)}finally{o.f()}for(var f=0,p=Object.values(n);f<p.length;f++){var d=p[f];d.uavIds=(0,Mn.X)(d.uavIds)}return(0,Gr.Z)(n,["priority","label"])})),Jx=(0,Zs.P7)((function(e,t){return c.createElement(Yx,$x({key:e.id},e,{onClick:t.onClick?function(r){r.preventDefault(),r.stopPropagation(),t.onClick(null==e?void 0:e.uavIds,r)}:null}))}),{dataProvider:"items",backgroundHint:c.createElement(Bo.Z,{text:"There are no connected UAVs at the moment"}),listFactory:(0,ja.Z)(c.createElement,Cc.Z)});const eA=(0,s.$j)((function(e){return{items:Qx(e)}}),{onClick:(0,Hx.Z)(xS.D0)})(Jx);var tA=["counts"];function rA(){return rA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rA.apply(this,arguments)}function nA(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function oA(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return aA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aA(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function aA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iA=(0,We.createSelector)(to.L8,to.lI,(function(e,t){var r,n=[0,0,0,0],o=oA(t);try{for(o.s();!(r=o.n()).done;){var a=e[r.value];if(a)switch((0,to.nK)(a)){case ol.q.CRITICAL:case ol.q.ERROR:n[3]+=1;break;case ol.q.GONE:break;case ol.q.SUCCESS:n[0]+=1;break;case ol.q.INFO:n[1]+=1;break;default:n[2]+=1}}}catch(e){o.e(e)}finally{o.f()}return n})),cA=(0,Yu.y)(iA,Wu.default),lA=(0,At.Z)((function(e){return{root:{fontSize:"1rem"},inner:{alignItems:"center",display:"flex",height:"100%",marginRight:e.spacing(-1.5),padding:e.spacing(1)},counter:{padding:e.spacing(0,1.5,0,.5),userSelect:"none"},off:{opacity:.5}}}),{name:"UAVStatusSummary"}),uA=[ol.q.SUCCESS,ol.q.INFO,ol.q.WARNING,ol.q.ERROR],sA=function(e){var t=e.counts,r=nA(e,tA),o=lA();return c.createElement(kc.Z,{interactive:!0,content:c.createElement(eA,null)},c.createElement(O.Z,rA({className:(0,n.default)(o.root,"wb-module")},r),c.createElement("div",{className:o.inner},uA.map((function(e,r){return c.createElement(c.Fragment,{key:e},c.createElement(zu.default,{inline:!0,status:t[r]>0?e:ol.q.OFF}),c.createElement("div",{className:(0,n.default)(o.counter,t[r]<=0&&o.off)},t[r]))})))))};sA.propTypes={counts:i().arrayOf(i().number)};var fA=function(e,t){return function(){e&&(e.bringToFront("uavs")||t((0,Hu.c)({message:"UAVs panel is not added to the workbench yet",semantics:qu.jo.WARNING})))}},pA=(0,s.$j)((function(e){return{counts:cA(e)}}),(function(e,t){return{onClick:fA(t.workbench,e)}}))(sA);var dA=js(Vx,zx),hA=u.kT.fromArray((0,Ts.U6)("perspectives")?o.Z.perspectives.map(dA):[]);hA.isModified=function(){return!1};const yA=hA;function mA(e){return mA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mA(e)}function vA(){vA=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==mA(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function gA(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var bA={color:Bn.ZP.info,offset:[3,3]},wA=function(e){var t=e.switchToPerspective;return c.createElement(u.Ll,{badgeProps:bA,editable:!1,storage:yA,workbench:zx,onChange:function(e){return t(e),!1}})};wA.propTypes={switchToPerspective:i().func.isRequired};const EA=(0,s.$j)((function(){return{}}),{switchToPerspective:function(e){return function(){var t,r=(t=vA().mark((function t(r){var n;return vA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yA.get(e);case 2:n=t.sent,r((0,Cs.Gw)(n.state.settings.hasHeaders)),r((0,Cs.Tm)(n.isFixed));case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){gA(a,n,o,i,c,"next",e)}function c(e){gA(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()}})(wA);function SA(){return SA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SA.apply(this,arguments)}const OA=c.forwardRef((function(e,t){return c.createElement(gc.Z,SA({},e,{ref:t}),c.createElement("g",{transform:"scale(0.11790425)"},c.createElement("path",{d:"M 201.359,137.3 157.528,93.469 168.981,82.017 c 1.407,-1.407 2.197,-3.314 2.197,-5.304 0,-1.989 -0.79,-3.896 -2.197,-5.304 L 132.146,34.575 c -2.929,-2.928 -7.677,-2.928 -10.606,0 L 110.088,46.027 66.253,2.196 c -2.93,-2.928 -7.678,-2.928 -10.606,0 L 18.813,39.03 c -2.929,2.93 -2.929,7.678 0,10.607 L 62.644,93.468 51.191,104.92 c -1.407,1.407 -2.197,3.314 -2.197,5.304 0,1.99 0.79,3.896 2.197,5.304 l 36.837,36.836 c 1.464,1.464 3.384,2.196 5.303,2.196 1.919,0 3.839,-0.732 5.303,-2.196 l 11.453,-11.453 43.83,43.83 c 1.465,1.464 3.384,2.196 5.303,2.196 1.919,0 3.839,-0.732 5.303,-2.196 l 36.835,-36.834 c 1.407,-1.407 2.197,-3.314 2.197,-5.304 0.001,-1.989 -0.789,-3.896 -2.196,-5.303 z M 34.723,44.334 60.95,18.107 99.48,56.633 82.314,73.799 73.251,82.862 Z m 58.608,92.12 -26.23,-26.229 11.448,-11.447 c 0.002,-0.002 0.003,-0.003 0.005,-0.005 L 90.997,86.33 126.842,50.486 153.071,76.714 141.625,88.16 c -0.003,0.003 -0.005,0.005 -0.007,0.007 l -18.417,18.418 z m 65.89,32.377 -38.527,-38.526 26.229,-26.229 38.527,38.527 z"}),c.createElement("path",{d:"M 72.344,188.555 C 57.027,188.556 42.627,182.591 31.796,171.76 20.965,160.929 15,146.528 15,131.211 c 0,-4.143 -3.358,-7.5 -7.5,-7.5 -4.143,0 -7.5,3.358 -7.5,7.5 0,19.324 7.526,37.491 21.189,51.155 13.663,13.664 31.829,21.189 51.152,21.189 0.001,0 0.002,0 0.004,0 4.142,0 7.499,-3.358 7.499,-7.5 0.001,-4.143 -3.358,-7.5 -7.5,-7.5 z"}),c.createElement("path",{d:"m 69.346,174.133 c 4.142,0 7.5,-3.357 7.5,-7.5 0,-4.143 -3.358,-7.5 -7.5,-7.5 -6.658,0 -12.916,-2.593 -17.624,-7.3 -4.707,-4.707 -7.299,-10.965 -7.299,-17.622 0,-4.142 -3.357,-7.5 -7.5,-7.5 v 0 c -4.142,0 -7.5,3.358 -7.5,7.5 -10e-4,10.663 4.152,20.688 11.693,28.229 7.54,7.541 17.566,11.693 28.23,11.693 z"})))}));function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xA.apply(this,arguments)}function AA(e){return function(e){if(Array.isArray(e))return jA(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kA(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kA(e,t){if(e){if("string"==typeof e)return jA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jA(e,t):void 0}}function jA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CA=(0,We.createSelector)(to.L8,to.lI,(function(e,t){var r,n={},o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=kA(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(t);try{for(o.s();!(r=o.n()).done;){var a=r.value,i=e[a];if(i&&i.gpsFix){var c=i.gpsFix.type,l=String(c);if(void 0===n[l]){var u=(0,Jh.nP)(c);n[l]={id:l,label:(0,Jh.b_)(c)||"\u2014",priority:-(0,ol._)(u),status:u,uavIds:[a]}}else n[l].uavIds.push(a)}}}catch(e){o.e(e)}finally{o.f()}for(var s=0,f=Object.values(n);s<f.length;s++){var p=f[s];p.uavIds=(0,Mn.X)(p.uavIds)}return(0,Gy.Z)(n)?[]:[null].concat(AA((0,Gr.Z)(n,["priority","label"])))})),PA=(0,Zs.P7)((function(e,t){return e?c.createElement(Yx,xA({key:e.id},e,{pillWidth:48,onClick:t.onClick?function(r){r.preventDefault(),r.stopPropagation(),t.onClick(null==e?void 0:e.uavIds,r)}:null})):c.createElement(Pc.Z,{key:"__divider"})}),{dataProvider:"items",listFactory:(0,ja.Z)(c.createElement,Cc.Z)});const IA=(0,s.$j)((function(e){return{items:CA(e)}}),{onClick:(0,Hx.Z)(xS.D0)})(PA);r(92087);function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function LA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TA(Object(r),!0).forEach((function(t){_A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return NA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DA=function(e){return"ecef"===e.rtk.dialog.antennaPositionFormat},RA=(0,We.createSelector)((function(e){return e.rtk.stats.antenna}),ro.EQ,DA,(function(e,t,r){if(r){var n=(e||{}).positionECEF;return n&&Array.isArray(n)?"[".concat((n[0]/1e3).toFixed(3),", ").concat((n[1]/1e3).toFixed(3),", ").concat((n[2]/1e3).toFixed(3),"]"):void 0}var o=(e||{}).position;return o?t(o):void 0})),FA=(0,We.createSelector)((function(e){return e.rtk.stats.antenna}),RA,(function(e,t){if(!e)return{position:void 0,description:void 0};var r={position:t},n=String(e.serialNumber||"");return n&&n.length>0?r.description="".concat(e.descriptor||""," / SN: ").concat(n):r.description=String(e.descriptor||""),r})),MA=(0,We.createSelector)((function(e){return e.rtk.stats.messages}),(function(e){return(0,Gr.Z)(Object.entries(e||{}).map((function(e){var t=ZA(e,2);return LA({id:t[0]},t[1])})),"id")})),UA=(0,We.createSelector)((function(e){return e.rtk.stats.satellites}),(function(e){return(0,Gr.Z)(Object.entries(e||{}).map((function(e){var t=ZA(e,2);return LA({id:t[0]},t[1])})),"id")})),GA=(0,We.createSelector)((function(e){return e.rtk.stats.satellites}),(function(e){return Object.keys(e||{})})),VA=function(e){return GA(e).length},BA=(0,We.createSelector)((function(e){return e.rtk.stats.satellites}),(function(e){for(var t=0,r=0,n=Object.values(e||{});r<n.length;r++){n[r].cnr>=40&&t++}return t})),WA=(0,We.createSelector)((function(e){return e.rtk.stats.survey}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accuracy,r=e.flags;return{accuracy:t,supported:Boolean(1&r),active:Boolean(2&r),valid:Boolean(4&r)}})),zA=function(e){return e.rtk.dialog.surveySettingsEditorVisible},HA={"rtcm2/1":"Differential GPS Corrections","rtcm2/2":"Delta Differential GPS Corrections","rtcm2/3":"GNSS Reference Station Parameters","rtcm2/4":"Reference Station Datum","rtcm2/5":"GPS Constellation Health","rtcm2/6":"GPS Null Frame","rtcm2/7":"DGPS Radiobeacon Almanac","rtcm2/8":"Pseudolite Almanac","rtcm2/9":"GPS Partial Correction Set","rtcm2/14":"GPS Time of Week","rtcm2/15":"Ionospheric Delay Message","rtcm2/16":"GPS Special Message","rtcm2/18":"RTK Uncorrected Carrier Phases","rtcm2/19":"RTK Uncorrected Pseudoranges","rtcm2/22":"Extended Reference Station Parameters","rtcm2/23":"Antenna Type Definition Record","rtcm2/24":"Antenna Reference Point (ARP)","rtcm2/36":"GLONASS Special Message","rtcm3/1001":"L1-only GPS RTK","rtcm3/1002":"Extended L1-only GPS RTK","rtcm3/1003":"L1 & L2 GPS RTK","rtcm3/1004":"Extended L1 & L2 GPS RTK","rtcm3/1005":"RTK antenna position","rtcm3/1006":"RTK antenna pos with height","rtcm3/1007":"Antenna descriptor","rtcm3/1008":"Antenna descriptor & serial","rtcm3/1009":"L1-only GLONASS RTK","rtcm3/1010":"Extended L1-only GLONASS RTK","rtcm3/1011":"L1 & L2 GLONASS RTK","rtcm3/1012":"Extended L1 & L2 GLONASS RTK","rtcm3/1013":"System parameters","rtcm3/1014":"Network aux station data","rtcm3/1015":"GPS ionospheric correction","rtcm3/1016":"GPS geometric correction","rtcm3/1017":"GPS ionospheric & geometric correction","rtcm3/1019":"GPS ephemerides","rtcm3/1020":"GLONASS ephemerides","rtcm3/1029":"Unicode text string","rtcm3/1030":"GPS network RTK residual","rtcm3/1031":"GLONASS network RTK residual","rtcm3/1032":"Physical reference station position","rtcm3/1033":"Receiver and antenna descriptors","rtcm3/1034":"GPS FKP gradient","rtcm3/1035":"GLONASS FKP gradient","rtcm3/1037":"GLONASS ionospheric correction","rtcm3/1038":"GLONASS geometric correction","rtcm3/1039":"GLONASS ionospheric & geometric correction","rtcm3/1042":"BDS (BeiDou) ephemerides","rtcm3/1044":"QZSS ephemerides","rtcm3/1045":"GALILEO F/NAV ephemerides","rtcm3/1046":"GALILEO I/NAV ephemerides","rtcm3/1071":"GPS MSM1 (DGNSS pseudorange)","rtcm3/1072":"GPS MSM2 (RTK pseudorange)","rtcm3/1073":"GPS MSM3 (code, carrier)","rtcm3/1074":"GPS MSM4 (code, carrier, CNR)","rtcm3/1075":"GPS MSM5 (code, carrier, doppler, CNR)","rtcm3/1076":"GPS MSM6 (hi-res code, carrier, doppler)","rtcm3/1077":"GPS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1081":"GLONASS MSM1 (DGNSS pseudorange)","rtcm3/1082":"GLONASS MSM2 (RTK pseudorange)","rtcm3/1083":"GLONASS MSM3 (code, carrier)","rtcm3/1084":"GLONASS MSM4 (code, carrier, CNR)","rtcm3/1085":"GLONASS MSM5 (code, carrier, doppler, CNR)","rtcm3/1086":"GLONASS MSM6 (hi-res code, carrier, doppler)","rtcm3/1087":"GLONASS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1091":"Galileo MSM1 (DGNSS pseudorange)","rtcm3/1092":"Galileo MSM2 (RTK pseudorange)","rtcm3/1093":"Galileo MSM3 (code, carrier)","rtcm3/1094":"Galileo MSM4 (code, carrier, CNR)","rtcm3/1095":"Galileo MSM5 (code, carrier, doppler, CNR)","rtcm3/1096":"Galileo MSM6 (hi-res code, carrier, doppler)","rtcm3/1097":"Galileo MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1101":"SBAS MSM1 (DGNSS pseudorange)","rtcm3/1102":"SBAS MSM2 (RTK pseudorange)","rtcm3/1103":"SBAS MSM3 (code, carrier)","rtcm3/1104":"SBAS MSM4 (code, carrier, CNR)","rtcm3/1105":"SBAS MSM5 (code, carrier, doppler, CNR)","rtcm3/1106":"SBAS MSM6 (hi-res code, carrier, doppler)","rtcm3/1107":"SBAS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1111":"QZSS MSM1 (DGNSS pseudorange)","rtcm3/1112":"QZSS MSM2 (RTK pseudorange)","rtcm3/1113":"QZSS MSM3 (code, carrier)","rtcm3/1114":"QZSS MSM4 (code, carrier, CNR)","rtcm3/1115":"QZSS MSM5 (code, carrier, doppler, CNR)","rtcm3/1116":"QZSS MSM6 (hi-res code, carrier, doppler)","rtcm3/1117":"QZSS MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1121":"BeiDou MSM1 (DGNSS pseudorange)","rtcm3/1122":"BeiDou MSM2 (RTK pseudorange)","rtcm3/1123":"BeiDou MSM3 (code, carrier)","rtcm3/1124":"BeiDou MSM4 (code, carrier, CNR)","rtcm3/1125":"BeiDou MSM5 (code, carrier, doppler, CNR)","rtcm3/1126":"BeiDou MSM6 (hi-res code, carrier, doppler)","rtcm3/1127":"BeiDou MSM7 (hi-res code, carrier, doppler, CNR)","rtcm3/1230":"GLONASS L1 and L2 code-phase biases"};function qA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.max,n=void 0===r?20:r,o=t.short,a=void 0!==o&&o;return e>n?"> ".concat(n,"m"):e>=1?e.toFixed(2)+"m":e>=.1?(100*e).toFixed(a?0:1)+"cm":(100*e).toFixed(1)+"cm"}var YA={survey:i().shape({accuracy:i().number,active:i().bool,supported:i().bool,valid:i().bool})};function $A(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return KA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KA(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function KA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XA={minWidth:150},QA={C:{name:"BeiDou",flag:"\u{1f1e8}\u{1f1f3}"},E:{name:"Galileo",flag:"\u{1f1ea}\u{1f1fa}"},G:{name:"GPS",flag:"\u{1f1fa}\u{1f1f8}"},R:{name:"GLONASS",flag:"\u{1f1f7}\u{1f1fa}"},other:{name:"Other",flag:"\u{1f3f3}"}},JA=["G","R","E","C","other"],ek=function(e){var t=e.satelliteIds,r=e.surveyStatus,n=function(e){var t,r={},n=$A(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=o.length>0?o.charAt(0):null;a&&QA[a]||(a="other"),r[a]?r[a]++:r[a]=1}}catch(e){n.e(e)}finally{n.f()}return r}(t);return c.createElement(Cc.Z,{style:XA},r.supported&&c.createElement(Ic.Z,{primaryText:r.valid?"Survey successful":r.active?"Survey in progress...":"No survey in progress",secondaryText:qA(r.accuracy),iconPreset:r.valid?"success":r.active?"connecting":"disconnected"}),c.createElement(Ic.Z,{primaryText:"\xa0\u{1f30d}\xa0\xa0\xa0Satellite count",secondaryText:String(t.length)}),t.length>0&&c.createElement(Pc.Z,null),JA.map((function(e){return n[e]&&c.createElement(Ic.Z,{key:e,primaryText:"\xa0".concat(QA[e].flag,"\xa0\xa0\xa0").concat(QA[e].name),secondaryText:n[e]})})),c.createElement(IA,null))};ek.propTypes={satelliteIds:i().arrayOf(i().string),surveyStatus:YA.survey};const tk=(0,s.$j)((function(e){return{satelliteIds:GA(e),surveyStatus:WA(e)}}),{})(ek);function rk(e){return rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rk(e)}function nk(){nk=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==rk(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function ok(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var ak=function(e){var t=e.onStatusChanged,r=e.period,n=zb();return(0,c.useEffect)((function(){var e={finished:!1,promise:null},o=function(){var o,a=(o=nk().mark((function o(){var a;return nk().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.finished){o.next=15;break}return o.prev=1,o.next=4,n.query.getRTKStatus();case 4:a=o.sent,t(a),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),(0,Fr.ZP)(o.t0,"RTK status query");case 11:return o.next=13,Ur()(r);case 13:o.next=0;break;case 15:case"end":return o.stop()}}),o,null,[[1,8]])})),function(){var e=this,t=arguments;return new Promise((function(r,n){var a=o.apply(e,t);function i(e){ok(a,r,n,i,c,"next",e)}function c(e){ok(a,r,n,i,c,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}();return e.promise=o(),function(){e.finished=!0,e.promise=null}}),[n,t,r]),null};ak.propTypes={onStatusChanged:i().func,period:i().number},ak.defaultProps={period:1e3};const ik=(0,s.$j)(null,(function(e){return{onStatusChanged:function(t){var r,n,o,a=t.antenna,i=void 0===a?{}:a,c=t.messages,l=void 0===c?{}:c,u=t.cnr,s=void 0===u?{}:u,f=t.survey,p=void 0===f?{}:f,d=Date.now();i.position&&(r=[i.position[1]/1e7,i.position[0]/1e7],o=void 0!==i.position[2]?i.position[2]/1e3:void 0),i.positionECEF&&(n=Array.isArray(i.positionECEF)?i.positionECEF.slice(0,3).map((function(e){return Math.round(e)})):void 0),e((0,xm.dx)({antenna:{descriptor:String(i.descriptor||""),serialNumber:String(i.serialNumber||""),stationId:(0,Be.default)(i.stationId)?void 0:Number(i.stationId),position:r,positionECEF:n,height:o},messages:(0,yO.Z)(l,(function(e){return{lastUpdatedAt:d-e[0],bitsPerSecond:e[1]}})),cnr:(0,yO.Z)(s,(function(e){return{lastUpdatedAt:d,cnr:e}})),survey:p,lastUpdatedAt:d}))}}}))(ak);var ck=[24,8],lk={justifyContent:"space-between",textAlign:"right",width:80},uk=function(e){var t=e.isConnected,r=e.numGoodSatellites,n=e.numSatellites,o=e.showRTKSetupDialog,a=e.surveyStatus,i=null;return t&&(i=a.supported?a.valid?Ct.Status.SUCCESS:a.active?Ct.Status.NEXT:Ct.Status.ERROR:n>1?Ct.Status.SUCCESS:null)===Ct.Status.SUCCESS&&r<7&&(i=Ct.Status.WARNING),c.createElement(kc.Z,{interactive:!0,content:c.createElement(tk,null)},c.createElement(Hi.ZP,{disabled:!t,label:t&&n>0?String(n):"\u2014",secondaryLabel:a.supported?qA(a.accuracy,{max:9,short:!0}):null,style:lk,onClick:o},c.createElement(OA,null),c.createElement(qi.Z,{anchor:"topLeft",color:i?(0,Ct.colorForStatus)(i):null,offset:ck,visible:Boolean(i)}),t&&c.createElement(ik,null)))};uk.propTypes={isConnected:i().bool,numGoodSatellites:i().number,numSatellites:i().number,showRTKSetupDialog:i().func,surveyStatus:YA.survey};const sk=(0,s.$j)((function(e){return{isConnected:(0,tn.Mb)(e),numGoodSatellites:BA(e),numSatellites:VA(e),surveyStatus:WA(e)}}),{showRTKSetupDialog:xm.Pw})(uk);function fk(e){return e.sidebar.open}var pk=r(34055);var dk,hk=r(72106);function yk(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mk(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gk=(vk(dk={},Ie.nN.AMSL,(function(e){var t;return null==e||null===(t=e.position)||void 0===t?void 0:t.amsl})),vk(dk,Ie.nN.AHL,(function(e){var t;return null==e||null===(t=e.position)||void 0===t?void 0:t.ahl})),vk(dk,Ie.nN.AGL,(function(e){var t;return null==e||null===(t=e.position)||void 0===t?void 0:t.agl})),vk(dk,Ie.nN.XYZ,(function(e){var t=null==e?void 0:e.localPosition;return Array.isArray(t)?t[2]:null})),vk(dk,"dummy",(function(){return null})),dk),bk=function(e){var t=e.onSetStatus,r=e.type,n=(0,s.oR)(),o=(0,c.useCallback)((function(){t&&t(function(e,t){var r,n=e.getState(),o=gk[t]||gk.dummy,a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,c=yk((0,to.Xe)(n));try{for(c.s();!(r=c.n()).done;){var l=r.value,u=o((0,to.Rk)(n,l));(0,Be.default)(u)||(a=Math.min(a,u),i=Math.max(i,u))}}catch(e){c.e(e)}finally{c.f()}return Number.isFinite(a)?{min:a,max:i}:{min:null,max:null}}(n,r))}),[t,n,r]);return(0,Bi.Z)(o,1e3),(0,c.useEffect)(o,[o,r]),null};bk.propTypes={onSetStatus:i().func,type:i().oneOf(Object.values(Ie.nN))};const wk=bk;function Ek(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ok={justifyContent:"space-between",textAlign:"right",width:95},xk={width:24,marginTop:-10,display:"flex",flexDirection:"column",alignItems:"center",gap:4},Ak={fontSize:11,fontWeight:"bold",textTransform:"uppercase",textAlign:"center",userSelect:"none"},kk={min:null,max:null},jk=function(e){switch(e){case Ie.nN.AMSL:return Ie.nN.AHL;case Ie.nN.AHL:return Ie.nN.AGL;case Ie.nN.AGL:return Ie.nN.XYZ;case Ie.nN.XYZ:default:return Ie.nN.AMSL}},Ck=function(e){return c.createElement("div",null,"Showing maximum and minimum"," ",(0,Ie.bU)(e,{short:!0}),".",c.createElement("br",null),"Click to change to"," ",(0,Ie.bU)(jk(e),{short:!0}),".")},Pk=function(e){var t=e.isConnected,r=e.onRequestTypeChange,n=e.type,o=Ek((0,c.useState)(kk),2),a=o[0],i=a.min,l=a.max,u=o[1];return c.createElement(ht.default,{content:Ck(n)},c.createElement(Hi.ZP,{disabled:!t,label:t&&"number"==typeof l?"".concat(l.toFixed(1),"\xa0m"):"\u2014",secondaryLabel:t&&"number"==typeof i?"".concat(i.toFixed(1),"\xa0m"):"\u2014",style:Ok,onClick:function(){return r(jk(n))}},c.createElement("div",{style:xk},c.createElement(hk.Z,null),c.createElement("div",{style:Ak},n)),t&&c.createElement(wk,{type:n,onSetStatus:u})))};Pk.propTypes={isConnected:i().bool,onRequestTypeChange:i().func,type:i().oneOf(Object.values(Ie.nN))};const Ik=(0,s.$j)((function(e){return{isConnected:(0,tn.Mb)(e),type:(0,$t.AD)(e)}}),{onRequestTypeChange:function(e){return(0,P.IA)("display",{altitudeSummaryType:e})}})(Pk);var Tk=r(72033),Lk=r(4591),_k=r(3729);function Zk(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nk(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Nk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dk=function(e){var t=e.onSetStatus,r=(0,s.oR)();return(0,Bi.Z)((function(){if(t){var e,n=r.getState(),o=[],a=[],i=Zk((0,to.Xe)(n));try{for(i.s();!(e=i.n()).done;){var c=e.value,l=(0,to.Rk)(n,c),u=null==l?void 0:l.battery;u&&((0,Be.default)(u.voltage)||o.push(u.voltage),(0,Be.default)(u.percentage)||a.push(u.percentage))}}catch(e){i.e(e)}finally{i.f()}if(o.length>0){var s=(0,$t.Yg)(n),f=(0,Lk.Z)(o),p=(0,_k.Z)(o);t({avg:{voltage:f,percentage:s.estimatePercentageFromVoltage(f)},min:{voltage:p,percentage:s.estimatePercentageFromVoltage(p)}})}else if(a.length>0){var d=(0,Lk.Z)(a),h=(0,_k.Z)(a);t({avg:{voltage:null,percentage:d},min:{voltage:null,percentage:h}})}else t({avg:null},{min:null})}}),1e3),null};Dk.propTypes={onSetStatus:i().func};const Rk=Dk;function Fk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uk=[24,8],Gk={justifyContent:"space-between",textAlign:"right",width:80},Vk={avg:null,min:null},Bk=function(e){var t=e.formatter,r=e.isConnected,n=Fk((0,c.useState)(Vk),2),o=n[0],a=o.avg,i=o.min,l=n[1],u=a?t.getBatteryStatus(a.voltage,a.percentage):null,s=a?t.getSemanticBatteryStatus(a.voltage,a.percentage):null,f=s&&s!==Ct.Status.OFF;return c.createElement(ht.default,{content:"Showing average and minimum charge levels."},c.createElement(Hi.ZP,{disabled:!r,label:r&&a?t.getBatteryLabel(a.voltage,a.percentage):"\u2014",secondaryLabel:r&&i?t.getBatteryLabel(i.voltage,i.percentage):null,style:Gk},u?t.getLargeBatteryIcon(a.percentage,u):c.createElement(Tk.Z,null),c.createElement(qi.Z,{anchor:"topLeft",color:f?(0,Ct.colorForStatus)(s):null,offset:Uk,visible:f}),r&&c.createElement(Rk,{onSetStatus:l})))};Bk.propTypes={formatter:i().instanceOf(Kw.C).isRequired,isConnected:i().bool};const Wk=(0,s.$j)((function(e){return{formatter:(0,$t.KI)(e),isConnected:(0,tn.Mb)(e)}}),{})(Bk);var zk=r(52699),Hk=r(89211);function qk(){return qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qk.apply(this,arguments)}const Yk=c.forwardRef((function(e,t){return c.createElement(gc.Z,qk({},e,{ref:t}),c.createElement("path",{d:"M3 12h4a5 5 0 0 1 5-5a5 5 0 0 1 5 5h4a1 1 0 0 1 1 1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1a1 1 0 0 1 1-1m12 0a3 3 0 0 0-3-3a3 3 0 0 0-3 3h6M12 2l2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m17.31 0l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-7.94 9.3l3.11 3.11a.996.996 0 1 1-1.41 1.41L12 18.41l-2.41 2.41a.996.996 0 1 1-1.41-1.41l3.11-3.11c.21-.2.45-.3.71-.3c.26 0 .5.1.71.3z"}))}));function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}const Kk=c.forwardRef((function(e,t){return c.createElement(gc.Z,$k({},e,{ref:t}),c.createElement("path",{d:"M3 12h4a5 5 0 0 1 5-5a5 5 0 0 1 5 5h4a1 1 0 0 1 1 1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1a1 1 0 0 1 1-1m12 0a3 3 0 0 0-3-3a3 3 0 0 0-3 3h6M12 2l2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m17.31 0l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-7.94 13.71l3.11-3.11c.39-.39.39-1.03 0-1.42a.996.996 0 0 0-1.41 0L12 18.59l-2.41-2.41a.996.996 0 0 0-1.41 0c-.39.39-.39 1.03 0 1.42l3.11 3.11c.21.19.45.29.71.29c.26 0 .5-.1.71-.29z"}))}));var Xk=r(77349),Qk=r(42699),Jk=r(49842),ej=r.n(Jk);function tj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nj=(0,We.createSelector)(Te.zn,(function(e){return Array.isArray(e)&&e.length>=2?[Number(e[0].toFixed(2)),Number(e[1].toFixed(2))]:null})),oj=(0,Yu.y)(nj,(function(e){for(var t=new Date,r=e?ej().getTimes(t,e[1],e[0]):{},n=0,o=Object.entries(r);n<o.length;n++){var a=tj(o[n],2),i=a[0],c=a[1];c instanceof Date&&Number.isNaN(c.valueOf())&&(r[i]=void 0)}if(e&&r.sunriseEnd&&(0,Qk.Z)(t,r.sunriseEnd)){var l=ej().getTimes((0,Xk.Z)(t,1),e[1],e[0]);r.sunrise=l.sunrise,r.sunriseEnd=l.sunriseEnd}return r}));function aj(e){if("number"==typeof e)return e>=5?Ct.Status.ERROR:e>=4?Ct.Status.WARNING:null}function ij(e){return e.weather.lastUpdatedAt}function cj(e){var t;return aj(null===(t=e.weather.data)||void 0===t?void 0:t.kpIndex)}r(83112);function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lj(Object(r),!0).forEach((function(t){sj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fj(e,t){try{return(0,ki.Z)(e,t)}catch(e){return""}}function pj(e,t){return(e=e?fj(e,"H:mm"):"")===(t=t?fj(t,"H:mm"):"")||e&&!t?e:e&&t?"".concat(e," \u2013 ").concat(t):t}var dj={minWidth:150},hj=function(e){var t,r=e.data,n=e.error,o=e.lastUpdatedAt,a=e.loading,i=e.sunrise,l=e.sunriseEnd,u=e.sunset,s=e.sunsetStart,f=e.timezone,p=e.utcOffset,d=[];if(f&&d.push(c.createElement(Ic.Z,{key:"timezone",primaryText:"Timezone",secondaryText:f})),p){var h=String(Math.abs(p)%60),y=(p<0?"+":p>0?"-":"")+String((Math.abs(p)-h)/60).padStart(2,"0")+":"+h.padStart(2,"0");d.push(c.createElement(Ic.Z,{key:"utcOffset",primaryText:"UTC offset",secondaryText:y}))}if(d.length>0&&d.push(c.createElement(Pc.Z,{key:"sep1"})),t=!1,(u||s)&&(d.push(c.createElement(Ic.Z,{key:"sunset",primaryText:"Sunset",secondaryText:pj(s,u)})),t=!0),i||l){var m=c.createElement(Ic.Z,{key:"sunrise",primaryText:"Sunrise",secondaryText:pj(i,l)});u&&(0,Qk.Z)(u,i)?d.splice(d.length-1,0,m):d.push(m),t=!0}t&&d.push(c.createElement(Pc.Z,{key:"sep2"}));var v=r||{},g=v.kpIndex,b=function(e){return Array.isArray(e)&&3===e.length?(0,dm.Ux)(Math.atan2(e[1],e[0])):null}(v.magneticVector);return(0,Be.default)(g)||d.push(c.createElement(Ic.Z,{key:"kpIndex",primaryText:"Kp index",secondaryText:c.createElement($w.Z,{status:aj(g)},(0,qn.HP)(g,1))})),(0,Be.default)(b)||d.push(c.createElement(Ic.Z,{key:"declination",primaryText:"Compass declination",secondaryText:(0,Be.default)(b)?(0,qn.HP)(b):(0,qn.HP)(Math.abs(b),2,"\xb0")+" "+(b>=0?"E":"W")})),a?d.push(c.createElement(La.Z,{key:"loadingIndicator",label:"Refreshing...",padding:.5})):d.push(c.createElement(Ic.Z,{key:"lastUpdatedAt",primaryText:"Last update",secondaryText:n?c.createElement("span",{style:{color:(0,Bn.oM)(Jh.zb.ERROR),fontWeight:"bold"}},"failed"):o?c.createElement(jc.Z,{formatter:qn.zu,date:o}):"\u2014"})),d.length>0?c.createElement(Cc.Z,{style:dj},d):"No weather information on this day"};hj.propTypes={error:i().any,sunrise:i().instanceOf(Date),sunriseEnd:i().instanceOf(Date),sunsetStart:i().instanceOf(Date),sunset:i().instanceOf(Date),timezone:i().string,utcOffset:i().number};const yj=(0,s.$j)((function(e){return uj(uj({},oj(e)),{},{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,utcOffset:(new Date).getTimezoneOffset()},e.weather)}),{})(hj);function mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mj(Object(r),!0).forEach((function(t){gj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ej=[24,8],Sj={justifyContent:"space-between",textAlign:"right",width:90},Oj=function(e){var t=e.badgeStatus,r=e.sunrise,n=e.sunset,o=new Date,a=bj((0,Hk.Z)(),2),i=a[0],l=a[1],u=!r||n&&Math.abs((0,zk.Z)(r,o))>Math.abs((0,zk.Z)(n,o));i&&(u=!u);var s=u?n:r;return Wb(3e4),c.createElement(kc.Z,{content:c.createElement(yj,null)},c.createElement(Hi.ZP,{label:s?(0,ki.Z)(s,"H:mm"):"\u2014",secondaryLabel:s?c.createElement(jc.Z,{formatter:qn.zu,date:s}):null,style:Sj,onClick:function(){return l()}},u?c.createElement(Kk,null):c.createElement(Yk,null),c.createElement(qi.Z,{anchor:"topLeft",color:t?(0,Ct.colorForStatus)(t):null,offset:Ej,visible:Boolean(t)})))};Oj.propTypes={badgeStatus:i().oneOf(Object.values(Ct.Status)),sunrise:i().instanceOf(Date),sunset:i().instanceOf(Date)};const xj=(0,s.$j)((function(e){return vj(vj({},oj(e)),{},{badgeStatus:cj(e)})}),{})(Oj);var Aj=function(e){return Boolean(e.workbench.isFixed)},kj=(0,We.createSelector)((function(e){return Boolean(e.workbench.hideHeaders)}),Aj,(function(e,t){return!e&&!t}));function jj(e){return function(e){if(Array.isArray(e))return Cj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Cj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ij(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pj(Object(r),!0).forEach((function(t){Tj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lj={backgroundColor:"#333",flexGrow:0,minHeight:48},_j={display:"flex",flexFlow:"row nowrap"},Zj={"alert-button":oc,"altitude-summary-header-button":Ik,"app-settings-button":sc,"authentication-button":yc,"battery-status-header-button":Wk,"broadcast-button":function(){return c.createElement(xc,{timeoutLength:5})},"connection-status-button":Yc,"full-screen-button":nl,"geofence-settings-button":sl,"help-button":function(){return o.Z.urls.help?c.createElement(dl,null):null},"rtk-status-header-button":function(){return(0,Ts.U6)("toolboxMenu")&&c.createElement(sk,null)},"server-connection-settings-button":kl,"session-expiry-box":Pl,"toolbox-button":function(){return(0,Ts.U6)("toolboxMenu")&&c.createElement(Bu,null)},"uav-status-summary":function(){return c.createElement(Wx.Consumer,null,(function(e){return c.createElement(pA,{workbench:e})}))},"weather-header-button":xj},Nj=function(e){var t=e.isSidebarOpen,r=e.showSidebar,n=e.toggleSidebar;return c.createElement("div",{id:"header",style:Ij(Ij({},Lj),{},{overflow:"hidden"})},c.createElement("div",{id:"header-inner",style:_j},r&&c.createElement(Ui.ZP,{color:"#999",style:{cursor:"pointer"},shape:t?"close":"menu",onClick:n}),c.createElement(EA,null),c.createElement(O.Z,{pr:.5}),o.Z.headerComponents.flatMap((function(e){return[c.createElement("hr",{key:"header-group:".concat(e.join(","))})].concat(jj(e.map((function(e){var t=Zj[e];return c.createElement(t,{key:e})}))))})).slice(1)))};Nj.propTypes={isSidebarOpen:i().bool.isRequired,showSidebar:i().bool,toggleSidebar:i().func.isRequired};const Dj=(0,s.$j)((function(e){return{sessionExpiresAt:e.session.expiresAt,isSidebarOpen:fk(e),showSidebar:kj(e)}}),{toggleSidebar:function(){return function(e,t){var r=fk(t());e((0,pk.l)(!r))}}})(Nj);var Rj=r(93379),Fj=r.n(Rj),Mj=r(7795),Uj=r.n(Mj),Gj=r(90569),Vj=r.n(Gj),Bj=r(3565),Wj=r.n(Bj),zj=r(19216),Hj=r.n(zj),qj=r(44589),Yj=r.n(qj),$j=r(79324),Kj={};Kj.styleTagTransform=Yj(),Kj.setAttributes=Wj(),Kj.insert=Vj().bind(null,"head"),Kj.domAPI=Uj(),Kj.insertStyleElement=Hj();Fj()($j.Z,Kj);$j.Z&&$j.Z.locals&&$j.Z.locals;var Xj={topLeft:"left-top",topRight:"right-top",bottomLeft:"left-bottom",bottomRight:"right-bottom"},Qj=function(e){var t=e.label,r=e.position;return c.createElement("div",{className:(0,n.default)("corner-ribbon",Xj[r]),"data-ribbon":t})};Qj.propTypes={label:i().string,position:i().oneOf(Object.keys(Xj))},Qj.defaultProps={position:"topRight"};const Jj=Qj;r(4723),r(4129);var eC=r(5440),tC=r(42198),rC=r(16050),nC=r(32655),oC=r(76527),aC=r(13277),iC=r(72237),cC=r(38377),lC=r(70354),uC=r(17758);function sC(e){return sC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sC(e)}function fC(){fC=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==sC(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pC(Object(r),!0).forEach((function(t){PC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hC(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function yC(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){hC(a,n,o,i,c,"next",e)}function c(e){hC(a,n,o,i,c,"throw",e)}i(void 0)}))}}function mC(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function vC(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,bC(e,t,"get"))}function gC(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,bC(e,t,"set"),r),r}function bC(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function wC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SC(e,t,r){return t&&EC(e.prototype,t),r&&EC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xC(e,t)}function xC(e,t){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xC(e,t)}function AC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=CC(e);if(t){var o=CC(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kC(this,r)}}function kC(e,t){if(t&&("object"===sC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jC(e)}function jC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CC(e){return CC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CC(e)}function PC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var IC=function(e){return(0,Be.default)(e)?"an unknown amount":Math.abs(e)<1e3?"".concat(e.toFixed(0),"ms"):Math.abs(e)<=3e4?"".concat((e/1e3).toFixed(1),"s"):"more than 30s"},TC=function(e){OC(r,e);var t=AC(r);function r(){var e;return wC(this,r),(e=t.call(this))._disposer=void 0,e._processIsRunning=!1,e._onLogMessageReceived=e._onLogMessageReceived.bind(jC(e)),e._onProcessExited=e._onProcessExited.bind(jC(e)),e._onProcessStartFailed=e._onProcessStartFailed.bind(jC(e)),e}return SC(r,[{key:"componentDidMount",value:function(){var e=this;window.bridge.localServer.ensureRunning({args:(0,eC.Q)(this.props.args),port:this.props.port,callbacks:{error:this._onProcessStartFailed,exit:this._onProcessExited,log:this._onLogMessageReceived}}).then((function(t){e._processIsRunning=!0,e._setDisposer(t),e.props.onStarted&&e.props.onStarted()}),this._onProcessStartFailed)}},{key:"componentDidUpdate",value:function(e){this.props.port!==e.port||(this.props.args,e.args)}},{key:"componentWillUnmount",value:function(){this._setDisposer(null),this._processIsRunning=!1,window.bridge.localServer.terminate()}},{key:"render",value:function(){return null}},{key:"_setDisposer",value:function(e){this._disposer!==e&&(this._disposer&&this._disposer(),this._disposer=e)}},{key:"_onLogMessageReceived",value:function(e){var t=this.props.onLogMessage;t&&t(e)}},{key:"_onProcessExited",value:function(e,t){this.props.onError&&this.props.onError(t?"exited with ".concat(t):"exited with code ".concat(e),this._processIsRunning),this._setDisposer(null),this._processIsRunning=!1}},{key:"_onProcessStartFailed",value:function(e){this.props.onError&&this.props.onError(e.message,e),this._setDisposer(null),this._processIsRunning=!1}}]),r}(c.Component);PC(TC,"propTypes",{args:i().string,onError:i().func,onLogMessage:i().func,onStarted:i().func,port:i().number});var LC={bindSocketToHub:i().func,connectTimeout:i().number,onConnected:i().func,onConnecting:i().func,onConnectionError:i().func,onConnectionTimeout:i().func,onDisconnected:i().func,onMessage:i().func,pingInterval:i().number,pingTimeout:i().number,url:i().string},_C={connectTimeout:5e3,pingInterval:5e3,pingTimeout:5e3},ZC=function(e){OC(r,e);var t=AC(r);function r(){return wC(this,r),t.apply(this,arguments)}return SC(r,[{key:"render",value:function(){var e=this.props,t=e.bindSocketToHub,r=e.connectTimeout,n=e.onConnected,o=e.onConnecting,a=e.onConnectionError,i=e.onConnectionTimeout,l=e.onDisconnected,u=e.onMessage,s=e.pingInterval,f=e.pingTimeout,p=e.url;return c.createElement(c.Fragment,null,c.createElement(tC.Z.Socket,{ref:t,name:"serverSocket",url:p,options:{connectTimeout:r,pingInterval:s,pingTimeout:f,transports:["websocket"]}}),c.createElement(tC.Z.Listener,{socket:"serverSocket",event:"connect",callback:function(){return n({url:p})}}),c.createElement(tC.Z.Listener,{socket:"serverSocket",event:"connect_error",callback:function(){return a({url:p,willReconnect:!0})}}),c.createElement(tC.Z.Listener,{socket:"serverSocket",event:"connect_timeout",callback:function(){return i({url:p,willReconnect:!0})}}),c.createElement(tC.Z.Listener,{socket:"serverSocket",event:"disconnect",callback:function(e){l({url:p,reason:e,willReconnect:"ping timeout"===e||"transport close"===e})}}),c.createElement(tC.Z.Listener,{socket:"serverSocket",event:"fw",callback:u}),c.createElement(tC.Z.Listener,{socket:"serverSocket",event:"reconnecting",callback:function(){return o({url:p})}}),c.createElement(tC.Z.Listener,{socket:"serverSocket",event:"reconnect_attempt",callback:function(){return o({url:p})}}))}}]),r}(c.Component);PC(ZC,"propTypes",LC),PC(ZC,"defaultProps",_C);var NC=new WeakMap,DC=new WeakMap,RC=function(e){OC(r,e);var t=AC(r);function r(){var e;wC(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return mC(jC(e=t.call.apply(t,[this].concat(o))),NC,{writable:!0,value:void 0}),mC(jC(e),DC,{writable:!0,value:void 0}),e}return SC(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.bindSocketToHub,n=t.connectTimeout,o=t.onConnected,a=t.onConnecting,i=t.onConnectionError,c=t.onConnectionTimeout,l=t.onDisconnected,u=t.onMessage,s=t.pingInterval,f=t.pingTimeout,p=t.url;gC(this,DC,window.bridge.createTCPSocket(this.props.url.match(".*://(?<address>.*):(?<port>.*)").groups,{connectTimeout:n,reconnecting:!0,url:p},{onConnected:o,onConnecting:a,onConnectionError:i,onConnectionTimeout:c,onDisconnected:l,onMessage:u})),r({socket:vC(this,DC)});var d=function(){Rr()(bn.Z.sendMessage("SYS-PING"),f).then((function(){vC(e,DC)&&vC(e,DC).notifyPing()})).catch((function(){vC(e,DC)&&vC(e,DC).notifyPing(!1)}))};d(),gC(this,NC,setInterval(d,s))}},{key:"componentWillUnmount",value:function(){vC(this,DC)&&vC(this,DC).end(),vC(this,NC)&&clearInterval(vC(this,NC))}},{key:"render",value:function(){return null}}]),r}(c.Component);PC(RC,"propTypes",LC),PC(RC,"defaultProps",_C);var FC=function(e){OC(r,e);var t=AC(r);function r(){var e;wC(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return PC(jC(e=t.call.apply(t,[this].concat(o))),"_bindSocketToHub",(function(t){var r=t?t.socket:null;bn.Z.emitter=r?r.emit.bind(r):void 0,e.props.onConnecting&&t&&e.props.onConnecting(e.props.url)})),e}return SC(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.active,n=t.onDisconnected;e.active&&!r&&n&&n(e.url,{reason:"io client disconnect"})}},{key:"render",value:function(){var e,t=this.props,r=t.active,n=t.cliArguments,o=t.needsLocalServer,a=t.port,i=t.protocol,l=t.onConnected,u=t.onConnecting,s=t.onConnectionError,f=t.onConnectionTimeout,p=t.onDisconnected,d=t.onLocalServerError,h=t.onLocalServerStarted,y=t.onLogMessageReceivedFromLocalServer,m=t.onMessage,v=t.url,g=(e={},PC(e,en.b$.TCP,RC),PC(e,en.b$.WS,ZC),e)[i];return v&&r?c.createElement("div",{key:v},o?c.createElement(TC,{args:n,port:a,onError:d,onLogMessage:y,onStarted:h}):null,c.createElement(g,{bindSocketToHub:this._bindSocketToHub,url:v,onConnected:l,onConnecting:u,onConnectionError:s,onConnectionTimeout:f,onDisconnected:p,onMessage:m})):c.createElement("div",null)}}]),r}(c.Component);function MC(e,t){return UC.apply(this,arguments)}function UC(){return UC=yC(fC().mark((function e(t,r){var n,o,a,i,c,l,u,s,f,p,d,h,y;return fC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bn.Z.sendMessage("SYS-VER");case 3:return o=e.sent,a=o.body.version,t((0,_n.HD)(a)),e.next=8,bn.Z.sendMessage("CONN-LIST");case 8:return n=e.sent,i=n.body.ids||[],e.next=12,bn.Z.sendMessage({type:"CONN-INF",ids:i});case 12:return n=e.sent,(0,Rc.vg)(n.body,t),e.next=16,bn.Z.sendMessage("CLK-LIST");case 16:return n=e.sent,c=n.body.ids||[],e.next=20,bn.Z.sendMessage({type:"CLK-INF",ids:c});case 20:return n=e.sent,(0,lC.D)(n.body,t),e.next=24,bn.Z.sendMessage({type:"OBJ-LIST",filter:["dock"]});case 24:if(n=e.sent,!((l=n.body.ids||[]).length>0)){e.next=31;break}return e.next=29,bn.Z.sendMessage({type:"DOCK-INF",ids:l});case 29:n=e.sent,(0,uC.D)(n.body,t);case 31:return e.next=33,bn.Z.sendMessage({type:"OBJ-LIST",filter:["beacon"]});case 33:if(n=e.sent,!((u=n.body.ids||[]).length>0)){e.next=44;break}return e.next=38,bn.Z.sendMessage({type:"BCN-INF",ids:u});case 38:return n=e.sent,(0,cC.AP)(n.body,t),e.next=42,bn.Z.sendMessage({type:"BCN-PROPS",ids:u});case 42:n=e.sent,(0,cC.nC)(n.body,t);case 44:s=[],f=0,p=["virtual_uavs","map_cache"];case 46:if(!(f<p.length)){e.next=55;break}return d=p[f],e.next=50,bn.Z.query.isExtensionLoaded(d);case 50:e.sent&&s.push(d);case 52:f++,e.next=46;break;case 55:return s.length>0&&t((0,_n._p)(s)),e.t0=t,e.t1=_n.hn,e.next=60,bn.Z.query.getLicenseInformation();case 60:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=65,bn.Z.query.isExtensionLoaded("show");case 65:return e.sent&&t((0,Uy.B8)("fromServer")),bn.Z._deviceTreeSubscriptionManager.requestSubscriptionUpdates(),e.next=70,t(mn(bn.Z,{method:"threshold"}));case 70:(0,tn.Lm)(r())&&!(0,tn.Q7)(r())&&(h=(0,tn.B_)(r()),y=IC(Math.abs(h)),t((0,Hu.c)({message:"Server clock is ".concat(h>0?"ahead":"behind"," by ").concat(y),buttons:[{label:"Show details",action:(0,_n.fv)()}],semantics:qu.jo.WARNING,permanent:!0}))),e.next=77;break;case 73:e.prev=73,e.t4=e.catch(0),(0,Fr.ZP)(e.t4);case 77:case"end":return e.stop()}}),e,null,[[0,73]])}))),UC.apply(this,arguments)}function GC(e){return VC.apply(this,arguments)}function VC(){return(VC=yC(fC().mark((function e(t){return fC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((0,rC.IH)()),t((0,nC.EJ)()),t((0,oC.XM)()),t((0,aC.iP)()),t((0,_n._1)()),t((0,_n.DV)()),t((0,Uy.x5)()),t((0,_n.fc)()),t((0,iC.Hk)());case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}PC(FC,"propTypes",{active:i().bool,cliArguments:i().string,needsLocalServer:i().bool,port:i().number,protocol:i().oneOf(Object.values(en.b$)),onConnected:i().func,onConnecting:i().func,onConnectionError:i().func,onConnectionTimeout:i().func,onDisconnected:i().func,onLocalServerError:i().func,onLocalServerStarted:i().func,onLogMessageReceivedFromLocalServer:i().func,onMessage:i().func,url:i().string});var BC=function(e){return function(t,r){var n=e.url,o=e.reason,a=e.wasConnected,i=e.willReconnect;switch(t((0,_n.fR)(Rc.em.DISCONNECTED)),o){case"connection error":i||t((0,Hu.x)("Error while connecting to Skybrush server"));break;case"connection timeout":i||t((0,Hu.x)("Timeout while connecting to Skybrush server"));break;case"io client disconnect":t((0,Hu.c)("Disconnected from Skybrush server"));break;case"io server disconnect":default:break;case"transport close":t((0,Hu.x)("Skybrush server closed connection unexpectedly"));break;case"ping timeout":t((0,Hu.x)("Connection to Skybrush server lost"))}i||(n!==(0,tn.RU)(r())||t(cn()));a&&t(GC)}},WC=(0,s.$j)((function(e){return{active:e.dialogs.serverSettings.active&&!e.session.isExpired,cliArguments:e.settings.localServer.cliArguments,needsLocalServer:wt(e),port:(0,tn.WL)(e),protocol:(0,tn.cV)(e),url:(0,tn.RU)(e)}}),(function(e){return{onConnecting:function(){e((0,_n.fR)(Rc.em.CONNECTING))},onConnected:function(){e((0,Hu.c)({message:Pe.Z.t("notifications.connectedToSkybrushServer"),semantics:"info"})),e((0,_n.fR)(Rc.em.CONNECTED)),e(MC)},onConnectionError:function(t){e(BC(dC(dC({},t),{},{reason:"connection error"})))},onConnectionTimeout:function(t){e(BC(dC(dC({},t),{},{reason:"connection timeout"})))},onDisconnected:function(t){e(BC(dC(dC({},t),{},{wasConnected:!0})))},onLocalServerError:function(t,r){var n=r?"Skybrush server died unexpectedly":"Failed to launch local Skybrush server";e((0,_n.fR)(Rc.em.DISCONNECTED)),e((0,Hu.x)(t?"".concat(n,": ").concat(t):n))},onLocalServerStarted:function(){e((0,_n.fR)(Rc.em.CONNECTING))},onLogMessageReceivedFromLocalServer:function(t){var r=t.id,n=t.levelname,o=t.name,a=t.message,i=(o="string"==typeof o?o:"").lastIndexOf("."),c=i>=0?o.slice(i+1):o,l={level:(0,Eh.PL)(n),module:c,message:a};(0,Be.default)(r)||(l.auxiliaryId=r),e((0,th.Hj)(l))},onMessage:function(e){bn.Z.processIncomingMessage(e)}}}))(FC);const zC=WC;const HC=function(e){var t=e.filename,r=e.onChanged,n=e.onRemoved,o=(0,c.useCallback)((function(e,t){"update"===e?r&&r():"remove"===e&&n&&n()}),[r,n]);return(0,c.useEffect)((function(){if(window.bridge&&t)return window.bridge.watchFile(t,o)}),[t,o]),null};var qC=function(e){var t=e.filename,r=e.onShowFileChangedExternally;return c.createElement(HC,{filename:t,onChanged:r})};qC.propTypes={filename:i().string,onShowFileChangedExternally:i().func};const YC=(0,s.$j)((function(e){return{filename:(0,Eo.C2)(e)}}),{onShowFileChangedExternally:Uy.rR})(qC);r(51532);function $C(e){return $C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$C(e)}function KC(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return XC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XC(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function XC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JC(e,t){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JC(e,t)}function eP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=rP(e);if(t){var o=rP(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tP(this,r)}}function tP(e,t){if(t&&("object"===$C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rP(e){return rP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rP(e)}function nP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JC(e,t)}(a,e);var t,r,n,o=eP(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=o.call(this))._container=document.createElement("div"),e._externalWindow=null,e._mutationObserver=null,e._styleRegistry=new Map,e}return t=a,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.height,r=e.left,n=e.top,o=e.width;this._externalWindow=window.open("about:blank#".concat(this.props.title),"","width=".concat(o,",height=").concat(t,",left=").concat(r,",top=").concat(n)),this._externalWindow.document.title=this.props.title,this._copyAndFollowStyles(),this._externalWindow.document.body.append(this._container),this._externalWindow.addEventListener("unload",this.props.onClose),window.addEventListener("unload",this.componentWillUnmount.bind(this))}},{key:"componentWillUnmount",value:function(){this._externalWindow.closed||this._externalWindow.close(),this._mutationObserver.disconnect()}},{key:"render",value:function(){return Ku.createPortal(c.createElement(Vf.Xl.Provider,{value:this._container},this.props.children),this._container)}},{key:"_copyAndFollowStyles",value:function(){var e,t=this,r=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return t._externalWindow.document.head.append(e)},n=t._externalWindow.document.importNode(e,!0);r(n);var o,a=KC(e.sheet.cssRules);try{for(a.s();!(o=a.n()).done;){var i=o.value;n.sheet.insertRule(i.cssText)}}catch(e){a.e(e)}finally{a.f()}return n},n=function e(r){if(null!==r)return t._styleRegistry.has(r)?function(e){return t._styleRegistry.get(r).before(e)}:e(r.nextElementSibling)},o=KC(document.styleSheets);try{for(o.s();!(e=o.n()).done;){var a=e.value;this._styleRegistry.set(a.ownerNode,r(a.ownerNode))}}catch(e){o.e(e)}finally{o.f()}this._mutationObserver=new MutationObserver((function(e,o){var a,i=KC(e);try{for(i.s();!(a=i.n()).done;){var c,l=a.value,u=KC(l.removedNodes);try{for(u.s();!(c=u.n()).done;){var s=c.value;t._styleRegistry.has(s)&&(t._styleRegistry.get(s).remove(),t._styleRegistry.delete(s))}}catch(e){u.e(e)}finally{u.f()}var f,p=n(l.nextSibling),d=KC(l.addedNodes);try{for(d.s();!(f=d.n()).done;){var h=f.value;h instanceof HTMLStyleElement&&h.sheet&&t._styleRegistry.set(h,r(h,p))}}catch(e){d.e(e)}finally{d.f()}}}catch(e){i.e(e)}finally{i.f()}})),this._mutationObserver.observe(document.head,{childList:!0})}}],r&&QC(t.prototype,r),n&&QC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c.Component);nP(oP,"propTypes",{children:i().node.isRequired,height:i().number,left:i().number,onClose:i().func,title:i().string,top:i().number,width:i().number}),nP(oP,"defaultProps",{height:400,left:100,title:"Untitled",top:100,width:600});var aP=function(e){var t=e.attachPanel;return e.detachedPanels.map((function(e){var r=Vx[e],n=r.component,o=r.label;return c.createElement(oP,{key:e,title:o,onClose:function(){return t(e)}},c.createElement(n,null))}))};aP.propTypes={attachPanel:i().func.isRequired,detachedPanels:i().arrayOf(i().string)};const iP=(0,s.$j)((function(e){return{detachedPanels:Ju(e)}}),{attachPanel:ts.ht})(aP);var cP=r(59535),lP=function(e){e.dockId;switch(e.selectedTab){case"status":return c.createElement(ut.Z,null,c.createElement(st.Z,{button:!0},c.createElement(zu.default,{status:"success"}),c.createElement(pt.Z,{primary:"Door closed"})),c.createElement(st.Z,{button:!0},c.createElement(zu.default,{status:"success"}),c.createElement(pt.Z,{primary:"Tilt angle: 0.7\xb0"})),c.createElement(ev.Z,null,"Landing pad 1"),c.createElement(st.Z,{button:!0},c.createElement(zu.default,{status:"success"}),c.createElement(pt.Z,{primary:"Landing pad is at the bottom"})),c.createElement(st.Z,{button:!0},c.createElement(zu.default,{status:"success"}),c.createElement(pt.Z,{primary:"Tweezers touching drone leg (left, right)"})),c.createElement(st.Z,{button:!0},c.createElement(zu.default,{status:"info"}),c.createElement(pt.Z,{primary:"Drone is charging",secondary:"11.6V \u2022 Time until full: 17m 12s"})));case"schedule":return c.createElement(ut.Z,{dense:!0},c.createElement(ev.Z,null,"Upcoming missions"),c.createElement(st.Z,null,c.createElement(zu.default,{status:"next",size:"small"}),c.createElement(pt.Z,{primary:"Takeoff + landing test",secondary:"Scheduled: 2021-07-26 18:10 UTC"})),c.createElement(st.Z,null,c.createElement(zu.default,{status:"off",size:"small"}),c.createElement(pt.Z,{primary:"Takeoff + landing test",secondary:"Scheduled: 2021-07-26 19:10 UTC"})),c.createElement(ev.Z,null,"Past missions"),c.createElement(st.Z,null,c.createElement(zu.default,{status:"success",size:"small"}),c.createElement(pt.Z,{primary:"Takeoff + landing test",secondary:"2021-07-26 17:10 UTC \u2022 0m 57s"})),c.createElement(st.Z,null,c.createElement(zu.default,{status:"success",size:"small"}),c.createElement(pt.Z,{primary:"Takeoff + landing test",secondary:"2021-07-26 16:10 UTC \u2022 0m 57s"})),c.createElement(st.Z,null,c.createElement(zu.default,{status:"error",size:"small"}),c.createElement(pt.Z,{primary:"Takeoff + landing test",secondary:"2021-07-26 15:10 UTC \u2022 Prearm checks failed"})));case"storage":return c.createElement(c.Fragment,null,c.createElement(ut.Z,null,c.createElement(st.Z,null,c.createElement(zu.default,{status:"success"}),c.createElement(pt.Z,{primary:"/dev/mmcblk0p1 \u2022 System",secondary:"4.0 GB used \u2022 9.8 GB free \u2022 29%"})),c.createElement(st.Z,null,c.createElement(zu.default,{status:"success"}),c.createElement(pt.Z,{primary:"/dev/mmcblk0p5 \u2022 Data storage",secondary:"0.5 GB used \u2022 63.1 GB free \u2022 0.8%"}),c.createElement(Ls.Z,null,c.createElement(H.Z,null,c.createElement(cP.Z,null)))),c.createElement(or.Z,null)),c.createElement(ut.Z,null,c.createElement(ev.Z,null,"Synchronization log"),c.createElement(st.Z,null,c.createElement(zu.default,{status:"info"}),c.createElement(pt.Z,{primary:"Click on a sync button to start"}))));case"liveCam":return c.createElement("video",{autoPlay:!0,loop:!0,muted:!0,poster:"//cam.idokep.hu/cam/schonherz1/thumbnail.jpg",width:"380",height:"284"},c.createElement("source",{src:"//cam.idokep.hu/cam/schonherz1/animation.webm"}),c.createElement("source",{src:"//cam.idokep.hu/cam/schonherz1/animation.mp4"}),c.createElement("img",{src:"//cam.idokep.hu/cam/schonherz1/thumbnail.jpg",width:"380",height:"284",id:"schonherz1"}));default:return null}};lP.propTypes={dockId:i().string,selectedTab:i().oneOf(["status","schedule","storage","liveCam"])};const uP=(0,s.$j)((function(e){return{dockId:(0,Pf.zr)(e),selectedTab:(0,Pf.XZ)(e)}}))(lP);var sP=r(1550),fP=r(45679),pP=(0,At.Z)((function(e){return{root:{lineHeight:"normal",fontSize:"small",width:"100%","& .muted":{color:e.palette.text.disabled}},header:{textTransform:"uppercase",color:e.palette.text.secondary},value:{textAlign:"right"},separator:{}}}),{name:"MiniTable"}),dP=c.createElement("span",{className:"muted"},"\u2014"),hP=function(e){var t=e.items,r=pP();return c.createElement("table",{className:r.root},c.createElement("tbody",null,t.map((function(e){return Array.isArray(e)?c.createElement("tr",{key:e[0]},c.createElement("td",{className:r.header},e[0]),c.createElement("td",{className:r.value},(0,Be.default)(e[1])?dP:e[1])):c.createElement("tr",{key:e},c.createElement("td",{className:r.separator,colSpan:2}))}))))};hP.propTypes={items:i().arrayOf(i().oneOfType([i().string,i().arrayOf(i().node)]))};const yP=hP;function mP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gP=(0,At.Z)((function(e){return{root:{padding:e.spacing(2),minWidth:185,flex:1,display:"flex",flexDirection:"column"},avatar:{display:"flex",flexDirection:"column"},summary:{paddingLeft:e.spacing(2)},toolbar:{justifyContent:"center",padding:e.spacing(1,0)},toolbarInner:{display:"flex",flexDirection:"row",flexWrap:"wrap",maxWidth:144,"& > button":{padding:8}}}}),{name:"DockDetailsDialogSidebar"}),bP=function(e){var t=e.dockId,r=mP((0,Hk.Z)(!1),2),n=r[0],o=r[1],a=gP();return c.createElement(O.Z,{className:a.root},c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"center"},c.createElement(O.Z,{className:a.avatar},c.createElement(KS,{label:"OK",status:"success"})),c.createElement(O.Z,{className:a.summary},c.createElement(x.Z,{variant:"body1"},t),n?c.createElement($w.Z,{key:"status",status:"success"},"Automatic mode"):c.createElement($w.Z,{key:"status",status:"warning"},"Manual mode"))),c.createElement(yE.Z,{disableGutters:!0,variant:"dense",className:a.toolbar},c.createElement(O.Z,{className:a.toolbarInner},c.createElement(ht.default,{content:"Open door"},c.createElement(H.Z,{size:"small"},c.createElement(sP.Z,{fontSize:"small"}))),c.createElement(ht.default,{content:"Close door"},c.createElement(H.Z,{size:"small"},c.createElement(fP.Z,{fontSize:"small"}))),c.createElement(ht.default,{content:"Reboot"},c.createElement(H.Z,{size:"small"},c.createElement(vg.Z,{htmlColor:Bn.ZP.error,fontSize:"small"}))),c.createElement(ht.default,{content:"Power off"},c.createElement(H.Z,{size:"small"},c.createElement(Kv.Z,{htmlColor:Bn.ZP.error,fontSize:"small"}))))),c.createElement(yP,{items:[["Location","ELTE kert"],"sep1",["Latitude",47.474223],["Longitude",19.06188],"sep2",["Door",c.createElement($w.Z,{status:"success"},"closed")],["Temperature","31.3 \xb0C"],"sep3",["Landing pad 1",c.createElement($w.Z,{status:"next"},"charging")]]}),c.createElement(O.Z,{flex:1}),c.createElement(R.Z,{control:c.createElement(dt.Z,{color:"primary"}),label:"Automatic mode",style:{margin:"0 !important"},checked:n,onChange:function(){return o()}}))};bP.propTypes={dockId:i().string};const wP=(0,s.$j)((function(e){return{dockId:(0,Pf.zr)(e)}}),{})(bP);var EP=["dragHandleId"];function SP(){return SP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SP.apply(this,arguments)}function OP(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var xP=function(e){var t=e.dragHandleId,r=OP(e,EP);return c.createElement(b.Z,SP({alignment:"left",dragHandle:t},r),c.createElement(g.Z,{label:"Status",value:"status"}),c.createElement(g.Z,{label:"Schedule",value:"schedule"}),c.createElement(g.Z,{label:"Storage",value:"storage"}),c.createElement(g.Z,{label:"Live cam",value:"liveCam"}))};xP.propTypes={dragHandleId:i().string,value:i().string},xP.defaultProps={value:"status"};const AP=(0,s.$j)((function(e){return{value:(0,Pf.XZ)(e)}}),{onChange:function(e,t){return(0,Pf.BC)(t)}})(xP);var kP=function(e){var t=e.onClose,r=e.open;return c.createElement(Zr.Z,{fullWidth:!0,open:r,maxWidth:"sm",sidebarComponents:c.createElement(wP,null),toolbarComponent:function(e){return c.createElement(AP,{dragHandle:e})},onClose:t},c.createElement(O.Z,{position:"relative",height:448,overflow:"auto"},c.createElement(uP,null)))};kP.propTypes={open:i().bool,onClose:i().func};const jP=(0,s.$j)((function(e){return{open:e.dialogs.dockDetails.open,selectedTab:(0,Pf.XZ)(e)}}),{onClose:Pf.RN})(kP);r(52262),r(24506);var CP=function(){return function(e,t){var r=t();e((0,mc.pW)(!(0,vc.d)(r)))}},PP=r(20640),IP=r.n(PP);function TP(e){return e.hotkeys.pendingUAVId}function LP(e){return e.hotkeys.dialogVisible}function _P(e){return e.hotkeys.pendingUAVId.length>0}var ZP=r(20453);function NP(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return DP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DP(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function DP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RP=["","0","00","000","0000"];function FP(e,t){var r=t(),n=TP(r);if(n&&"string"==typeof n&&n.length>0){var o=[],a=(0,go.eP)(r);if("s"===n.charAt(0)){var i=Number(n.slice(1));if(Number.isFinite(i)){var c=a[i-1];(0,Be.default)(c)||o.push(c)}}else{var l,u=NP(/^\d+$/.test(n)?RP:[""]);try{for(u.s();!(l=u.n()).done;){var s=l.value+n;if((0,to.Rk)(r,s)||a.includes(s)){o.push(s);break}}}catch(e){u.e(e)}finally{u.f()}}return e((0,xS.D0)(o)),e(GP()),o.length>0&&function(e){var t=Nw(e);if(t)aO("#".concat(t))}(o[0]),!0}return!1}function MP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.executeOnlyWithoutPendingUAVId;return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(t,o){if(!FP(t,o)||!r)return t(e.apply(void 0,n))}}}function UP(e){return function(t,r){if("s"===e)return t((0,ZP.Jg)("s")),void t((0,ZP.E9)());if("number"==typeof e&&(e=String(e)),"string"==typeof e&&1===e.length&&e>="0"&&e<="9"){var n=TP(r());n.length<10&&t((0,ZP.Jg)(n+e)),t((0,ZP.E9)())}}}function GP(){return(0,ZP.Jg)("")}function VP(){return function(e,t){var r=t();_P(r)?e(GP()):!function(e){return!e.alert.muted&&e.alert.count>0}(r)?e((0,Ns.MO)()):e((0,Yi.W9)())}}var BP=function(){return function(e){var t,r,n,o;t=document.querySelectorAll(".ol-mouse-position"),r=t&&t.length>0?t[0]:void 0,n=r?Array.from(r.childNodes).filter((function(e){return e.nodeType===Node.TEXT_NODE})):[],(o=n&&n.length>0?n[0].textContent:void 0)&&(IP()(o.split("\n")[0]),1)?e((0,yd.c)("Coordinates copied to clipboard.")):e((0,yd.c)({message:"Failed to copy coordinates; are you hovering over the map?",semantics:"error"}))}};function WP(){return function(e,t){var r=TP(t());r.length>0&&(e((0,ZP.Jg)(r.slice(0,-1))),e((0,ZP.E9)()))}}for(var zP=r(88689),HP="_hidden",qP={ACTIVATE_SELECTION:{name:"Show properties dialog for selection",sequence:"enter"},CLEAR_SELECTION:{name:"Clear selection",sequence:"esc"},CLEAR_STORED_SETTINGS:{name:"Clear stored settings and reload",sequence:"mod+alt+c"},COPY_COORDINATES:{name:"Copy coordinates to clipboard",sequence:"mod+shift+c"},PAGE_DOWN:{name:"Page down",sequence:"pagedown",group:HP},PAGE_UP:{name:"Page up",sequence:"pageup",group:HP},REMOVE_SELECTION:{name:"Remove selected drones and features",sequence:"del"},SELECT_ALL_DRONES:{name:"Select all drones",sequence:"mod+a"},SELECT_FIRST:{name:"Select first drone",sequence:"home",group:HP},SELECT_LAST:{name:"Select last drone",sequence:"end",group:HP},SELECT_DOWN:{name:"Select next drone (vertically)",sequence:"down",group:HP},SELECT_UP:{name:"Select previous drone (vertically)",sequence:"up",group:HP},SELECT_LEFT:{name:"Select previous drone (horizontally)",sequence:"left",group:HP},SELECT_RIGHT:{name:"Select next drone (horizontally)",sequence:"right",group:HP},TOGGLE_BROADCAST_MODE:{name:"Toggle the broadcast mode switch",sequence:"mod+b"},SEND_FLASH_LIGHTS_COMMAND:{name:"Flash lights on selected UAVs",sequence:"w"},SEND_TAKEOFF_COMMAND:{name:"Send takeoff command to selection",sequence:"mod+alt+t"},SEND_LANDING_COMMAND:{name:"Send landing command to selection",sequence:"mod+alt+l"},SEND_POSITION_HOLD_COMMAND:{name:"Send position hold command to selection",sequence:"mod+alt+p"},SEND_RTH_COMMAND:{name:"Send return to home command to selection",sequence:"mod+alt+r"},SHOW_HOTKEY_DIALOG:{name:"Show hotkeys",sequence:"?",group:HP},TOGGLE_SORT_BY_MISSION_ID:{name:"Toggle sorting UAVs by mission IDs",sequence:"mod+s"},TYPE_S:{name:"Prepend S to the pending UAV ID",sequence:"s",group:HP},DELETE_LAST_CHARACTER:{name:"Delete last character of pending UAV ID",sequence:"backspace",group:HP}},YP=0,$P=[0,1,2,3,4,5,6,7,8,9];YP<$P.length;YP++){var KP=$P[YP];qP["TYPE_".concat(KP)]={name:"Append ".concat(KP," to the pending UAV ID"),sequence:String(KP),group:HP}}var XP=zP.Ag?"meta+":"ctrl+",QP=function(e){return e.replace("mod+",XP)};!function(e){for(var t=0,r=Object.values(e);t<r.length;t++){var n=r[t];n.sequence?n.sequence=QP(n.sequence):Array.isArray(n.sequences)&&(n.sequences=n.sequences.map(QP))}}(qP);const JP=qP;function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(r),!0).forEach((function(t){rI(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(0,KO.configure)({allowCombinationSubmatches:!0,ignoreRepeatedEventsWhenKeyHeldDown:!1});var nI=function(e){var t=e.handlers;return c.createElement(KO.GlobalHotKeys,{keyMap:JP,handlers:t})},oI=function(e,t,r){return tI(tI({},t),(0,yO.Z)(e,(function(e){return function(t){t.preventDefault(),r(e())}})))};nI.propTypes={handlers:i().object};var aI=(0,Xv.Fj)({getTargetedUAVIds:function(e){return(0,vc.d)(e)?(0,to.lI)(e):(0,to.yi)(e)},getTransportOptions:function(e){return{broadcast:(0,vc.d)(e),channel:(0,go.ML)(e)||0}}}),iI=function(e){return function(){var t=aI[e];return t&&"function"==typeof t?t():function(){}}};const cI=(0,s.$j)(null,(function(e){return{handlers:oI({ACTIVATE_SELECTION:MP((function(){return function(e,t){if(rO.handlers().length>0)nO("ACTIVATE_SELECTION")();else{var r=(0,to.yi)(t());r&&r.length>0&&e((0,AS.Um)(r.at(-1)))}}}),{executeOnlyWithoutPendingUAVId:!0}),CLEAR_SELECTION:VP,COPY_COORDINATES:BP,DELETE_LAST_CHARACTER:WP,REMOVE_SELECTION:MP((function(){return function(e){e((0,xS.pH)()),e((0,gr.rn)())}})),SELECT_ALL_DRONES:Ns.i3,SEND_FLASH_LIGHTS_COMMAND:MP(iI("flashLight")),SEND_TAKEOFF_COMMAND:iI("takeOff"),SEND_LANDING_COMMAND:iI("land"),SEND_POSITION_HOLD_COMMAND:iI("holdPosition"),SEND_RTH_COMMAND:iI("returnToHome"),SHOW_HOTKEY_DIALOG:ZP.j6,TOGGLE_BROADCAST_MODE:CP,TOGGLE_SORT_BY_MISSION_ID:P.Uy,TYPE_0:function(){return UP(0)},TYPE_1:function(){return UP(1)},TYPE_2:function(){return UP(2)},TYPE_3:function(){return UP(3)},TYPE_4:function(){return UP(4)},TYPE_5:function(){return UP(5)},TYPE_6:function(){return UP(6)},TYPE_7:function(){return UP(7)},TYPE_8:function(){return UP(8)},TYPE_9:function(){return UP(9)},TYPE_S:function(){return UP("s")}},{CLEAR_STORED_SETTINGS:Is.iG,PAGE_DOWN:nO("PAGE_DOWN"),PAGE_UP:nO("PAGE_UP"),SELECT_FIRST:nO("SELECT_FIRST"),SELECT_LAST:nO("SELECT_LAST"),SELECT_DOWN:nO("SELECT_DOWN"),SELECT_UP:nO("SELECT_UP"),SELECT_LEFT:nO("SELECT_LEFT"),SELECT_RIGHT:nO("SELECT_RIGHT")},e)}}))(nI);var lI=r(82302),uI=r(99613),sI=r(88222),fI=r(57394);function pI(){return pI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pI.apply(this,arguments)}function dI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yI={width:120},mI={maxWidth:"99%"},vI=function(e){var t=e.name,r=e.sequences;return c.createElement(fI.Z,null,c.createElement(sI.Z,{style:yI,padding:"none"},r.map((function(e){var t,r=e.sequence;return"string"!=typeof(t=r)?null:t.split("+").map((function(e){var t=e.trim().toLowerCase().replace(/^mod$/,zP.a5).replace(/^cmd$/,"\u2318").replace(/^meta$/,"\u2318").replace(/^alt$/,zP.Ag?"\u2325":"Alt").replace(/^shift/,"\u21e7").replace(/^del$/,zP.Ag?"\u2326":"Delete");return c.createElement("kbd",{key:e},t.charAt(0).toUpperCase()+t.slice(1))}))}))),c.createElement(sI.Z,{style:mI},t))};vI.propTypes={name:i().string,sequences:i().arrayOf(i().shape({sequence:i().string}))};var gI=function(e){var t=e.onClose,r=e.open,n=dI((0,c.useState)((function(){return(0,KO.getApplicationKeyMap)()})),2),o=n[0],a=n[1];return(0,c.useEffect)((function(){a((0,KO.getApplicationKeyMap)())}),[r]),c.createElement(Zr.Z,{title:"Hotkeys",open:r,onClose:t},c.createElement(v.Z,null,c.createElement(lI.Z,{size:"small"},c.createElement(uI.Z,null,Object.keys(o||{}).map((function(e){return o[e].group!==HP&&c.createElement(vI,pI({key:e},o[e]))}))))),c.createElement(vr.Z,null,c.createElement(A.Z,{color:"primary",onClick:t},"Close")))};gI.propTypes={onClose:i().func,open:i().bool};const bI=(0,s.$j)((function(e){return{open:LP(e)}}),{onClose:ZP.hE})(gI);var wI=r(38755);const EI=(0,s.$j)((function(e){var t=TP(e);return{text:t,open:t.length>0}}),{})(wI.Z);var SI=r(85901),OI=r(72063),xI=r(97480),AI=r(44080),kI=r(81019),jI=r(95043),CI=r(4283);function PI(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return II(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return II(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function II(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var TI=function(e){var t=e.expiryDate,r=e.features,n=e.id,o=e.licensee,a=e.restrictions,i=[],l=[];if(Array.isArray(r)){var u,s=PI(r);try{for(s.s();!(u=s.n()).done;){var f=u.value;i.push(c.createElement(st.Z,{key:"".concat(f.type,"_").concat(f.label),disableGutters:!0},c.createElement(ft.Z,null,c.createElement(jI.Z,null)),c.createElement(pt.Z,{primary:f.label,secondary:f.secondaryLabel})))}}catch(e){s.e(e)}finally{s.f()}}if(Array.isArray(a)){var p,d=PI(a);try{for(d.s();!(p=d.n()).done;){var h=p.value;l.push(c.createElement(st.Z,{key:"".concat(h.type,"_").concat(h.label),disableGutters:!0},c.createElement(ft.Z,null,c.createElement(AI.Z,null)),c.createElement(pt.Z,{primary:h.label,secondary:h.secondaryLabel})))}}catch(e){d.e(e)}finally{d.f()}}return c.createElement(ut.Z,{dense:!0,disablePadding:!0},c.createElement(st.Z,{disableGutters:!0},c.createElement(ft.Z,null,c.createElement(kI.Z,null)),c.createElement(pt.Z,{primary:"License ID",secondary:n||"No license activated"})),o&&c.createElement(st.Z,{disableGutters:!0},c.createElement(ft.Z,null,c.createElement(fc.Z,null)),c.createElement(pt.Z,{primary:"Name of license holder",secondary:o})),n&&c.createElement(st.Z,{disableGutters:!0},c.createElement(ft.Z,null,c.createElement(xI.Z,null)),c.createElement(pt.Z,{primary:"Expiry date",secondary:t||"This license never expires"})),i.length>0&&c.createElement(or.Z,null),i,l.length>0&&c.createElement(or.Z,null),l)};TI.propTypes={id:i().string,licensee:i().string,expiryDate:i().string,features:i().arrayOf(i().shape({type:i().string,label:i().string,secondaryLabel:i().string})),restrictions:i().arrayOf(i().shape({type:i().string,label:i().string,secondaryLabel:i().string}))};const LI=function(){var e=zb(),t=(0,SI.Z)(e.query.getLicenseInformation,[e]);return t.error&&!t.loading?c.createElement(Bo.Z,{icon:c.createElement(OI.Z,null),text:"Error while loading license information",button:c.createElement(A.Z,{onClick:t.retry},"Try again")}):t.value?c.createElement(TI,t.value):c.createElement(CI.Z,{fullHeight:!0,label:"Retrieving license information..."})};var _I=function(e){var t=e.onClose,r=e.open;return c.createElement(Zr.Z,{fullWidth:!0,open:r,maxWidth:"xs",title:"License information",onClose:t},c.createElement(v.Z,null,c.createElement(LI,null)),c.createElement(vr.Z,null,c.createElement(A.Z,{onClick:t},"Close")))};_I.propTypes={open:i().bool,onClose:i().func};const ZI=(0,s.$j)((function(e){return{open:e.licenseInfo.dialog.open}}),{onClose:Ll.KA})(_I);var NI=r(88469),DI=function(e){var t=e.onClearCache,r=e.onClose,n=e.isConnected,o=e.isMapCachingEnabled,a=e.isMapCachingSupported,i=e.setMapCachingEnabled;return c.createElement(c.Fragment,null,c.createElement(Lt,null,a?Tt.success:Tt.warning,c.createElement(pt.Z,{primary:a?"Server supports offline map caching":n?"Server does not support offline map caching":"Connect to a server with offline map support"})),c.createElement(st.Z,{button:!0,disableRipple:!0,onClick:function(){return i(!o)}},c.createElement(ft.Z,{style:{margin:"0 17px 0 2px"}},c.createElement(dt.Z,{checked:o})),c.createElement(pt.Z,{primary:"Use cached map tiles from server"})),c.createElement(vr.Z,null,c.createElement(A.Z,{disabled:!a||!t,onClick:t},"Clear cache"),c.createElement(O.Z,{flex:1}),c.createElement(A.Z,{onClick:r},"Close")))};DI.propTypes={isConnected:i().bool,isMapCachingEnabled:i().bool,isMapCachingSupported:i().bool,setMapCachingEnabled:i().func,onClearCache:i().func,onClose:i().func};const RI=(0,s.$j)((function(e){return{isConnected:(0,tn.Mb)(e),isMapCachingEnabled:(0,NI.x)(e),isMapCachingSupported:(0,tn.eJ)(e)}}),{setMapCachingEnabled:_l.ey})(DI);var FI=function(e){var t=e.onClose,r=e.open;return c.createElement(Zr.Z,{fullWidth:!0,open:r,maxWidth:"xs",title:"Offline maps",onClose:t},c.createElement(RI,{onClose:t}))};FI.propTypes={open:i().bool,onClose:i().func};const MI=(0,s.$j)((function(e){return{open:e.mapCaching.dialog.open}}),{onClose:_l.it})(FI);var UI=r(97580),GI=(0,We.createSelector)(Vl,Ul,(function(e,t){if(2===e.length){var r=t[e[0]],n=t[e[1]];if(r&&n)return e}})),VI=(0,We.createSelector)(GI,Ul,(function(e,t){if(e&&2===e.length){var r=t[e[0]],n=t[e[1]];return[[r.mean.lon,r.mean.lat],[n.mean.lon,n.mean.lat]]}})),BI=function(e){var t=e.coordinates,r=e.hasEnoughMeasurements,n=e.selectedUAVIdPair;if(n){var o=(0,$.Y3)(t[0],t[1]).toFixed(1),a=(0,$.Tk)(t[0],t[1]).toFixed(1);return c.createElement(c.Fragment,null,c.createElement(x.Z,{color:"textSecondary",variant:"body2",component:"span"},n[0]," \u2192 ",n[1],":"," "),c.createElement(x.Z,{variant:"body2",component:"span"},(0,qn.Bb)((0,UI.Sp)(t[0],t[1]))),o===a?c.createElement(c.Fragment,null,c.createElement(x.Z,{color:"textSecondary",variant:"body2",component:"span"},", bearing: "),c.createElement(x.Z,{variant:"body2",component:"span"},o,"\xb0")):c.createElement(c.Fragment,null,c.createElement(x.Z,{color:"textSecondary",variant:"body2",component:"span"},", initial bearing: "),c.createElement(x.Z,{variant:"body2",component:"span"},o,"\xb0"),c.createElement(x.Z,{color:"textSecondary",variant:"body2",component:"span"},", final bearing: "),c.createElement(x.Z,{variant:"body2",component:"span"},a,"\xb0")))}return c.createElement(x.Z,{color:"textSecondary",variant:"body2",align:"center"},r?"Select exactly two items to calculate the bearing and distance between them":"Add at least two items to calculate the bearing and distance between them")};BI.propTypes={coordinates:i().arrayOf(i().arrayOf(i().number)),hasEnoughMeasurements:i().bool,selectedUAVIdPair:i().arrayOf(i().string)};const WI=(0,s.$j)((function(e){return{coordinates:VI(e),selectedUAVIdPair:GI(e),hasEnoughMeasurements:Fl(e).length>=2}}))(BI);var zI=r(63957),HI=r(73770),qI=r(88543),YI=r(10064),$I=r(428),KI=r(85585),XI=["children"];function QI(){return QI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QI.apply(this,arguments)}function JI(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function eT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rT=(0,At.Z)((function(e){return{content:{marginRight:-10,width:200+6*e.spacing(1)+10,maxHeight:200+6*e.spacing(1),padding:e.spacing(1),display:"flex",flexWrap:"wrap",gap:e.spacing(1),overflow:"hidden auto"},paper:{overflow:"visible","&::before":{content:'""',display:"block",width:16,height:16,position:"absolute",top:-8,left:"calc(50% - 8px)",transform:"rotate(45deg)",backgroundColor:e.palette.background.paper}}}}),{name:"UAVSelector"}),nT=function(e){var t=e.anchorEl,r=e.filterable,n=e.onClose,o=e.onFocus,a=e.onSelect,i=e.open,l=e.reverseMissionMapping,u=e.uavIds,s=rT(),f=eT((0,c.useState)(""),2),p=f[0],d=f[1];(0,c.useEffect)((function(){i&&d("")}),[i]);var h=u.filter((function(e){return e.startsWith(p)||e in l&&(0,qn.Bq)(l[e]).startsWith(p)}));return c.createElement(Vf.Uw,{open:i,anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{className:s.paper,onKeyDown:r?function(e){switch(e.key){case"Enter":h.length>0&&(a(h[0]),n(),e.stopPropagation(),e.preventDefault());break;case"Backspace":d(p.slice(0,-1));break;case"s":p.startsWith("s")?d(p.slice(1)):d("s"+p),e.stopPropagation();break;default:/^\d$/.test(e.key)&&(d(p+e.key),e.stopPropagation())}}:void 0},onClose:n,onFocus:o},c.createElement("div",{className:s.content,tabIndex:0},h.length>0?h.map((function(e){return c.createElement("div",{key:e},c.createElement(eO,{variant:"minimal",id:e,AvatarProps:{style:{cursor:"pointer"},onClick:function(){a(e),n()}}}))})):c.createElement(Bo.Z,{text:'No matching UAVs for: "'.concat(p,'"')})))};nT.propTypes={anchorEl:i().object,filterable:i().bool,onClose:i().func,onFocus:i().func,onSelect:i().func,open:i().bool,reverseMissionMapping:i().object,uavIds:i().arrayOf(i().string)};var oT=(0,s.$j)((function(e,t){var r=t.sortedByError;return{reverseMissionMapping:(0,go.G5)(e),uavIds:r?(0,to.T8)(e):(0,to.lI)(e)}}))(nT),aT=function(e){var t=e.children,r=JI(e,XI),n=eT((0,c.useState)(null),2),o=n[0],a=n[1],i=eT((0,c.useState)(null),2),l=i[0],u=i[1];return c.createElement(c.Fragment,null,t((function(e){a(e.currentTarget)})),c.createElement(oT,QI({anchorEl:o,open:Boolean(o),onClose:function(){a(null),l&&setTimeout((function(){return l.focus()}),0)},onFocus:function(e){var t;null!=e&&null!==(t=e.relatedTarget)&&void 0!==t&&t.focusRestorationTarget&&u(e.relatedTarget.focusRestorationTarget)}},r)))};function iT(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=lT(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function cT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||lT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lT(e,t){if(e){if("string"==typeof e)return uT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uT(e,t):void 0}}function uT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}aT.propTypes={children:i().func,sortedByError:i().bool};var sT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.whenEmpty,n=void 0===r?"nop":r;return function(){return function(t,r){var o=r(),a=Vl(o);a&&0!==a.length||"useAll"!==n||(a=Fl(o)),a&&a.length>0&&t(e(a))}}},fT=sT(Hl.a_,{whenEmpty:"useAll"}),pT=sT(Hl.e5),dT=sT(Hl.Fg,{whenEmpty:"useAll"}),hT=sT(Hl.vA),yT=function(e){return function(t,r){for(var n=r(),o=["lat","lon","amsl","ahl"],a={},i=0,c=Object.entries(e);i<c.length;i++){var l=cT(c[i],2),u=l[0],s=l[1],f=n.measurement.averagingResults.byId[u],p=f.numSamples+1;if(f){a[u]={lastSampleAt:Date.now(),numSamples:p,mean:{},sqDiff:{}};var d,h=iT(o);try{for(h.s();!(d=h.n()).done;){var y=d.value;if(!(0,Be.default)(s[y])){var m=s[y]-f.mean[y],v=f.mean[y]+m/p,g=(s[y]-v)*m,b=f.sqDiff[y]+g;a[u].mean[y]=v,a[u].sqDiff[y]=b}}}catch(e){h.e(e)}finally{h.f()}}}t((0,Hl.Ar)(a))}},mT=function(e){return function(t,r){var n=r(),o=Gl(n,e);if(o){var a=(0,ro.EQ)(n)(o);IP()(a),1===e.length?t((0,yd.c)("Coordinates copied to clipboard.")):t((0,yd.c)("Coordinates of centroid copied to clipboard."))}}},vT=sT(mT,{whenEmpty:"useAll"}),gT=sT((function(e){return function(t,r){var n=Gl(r(),e);n&&(t((0,Ce.ZG)(n)),1===e.length?t((0,yd.c)("Map origin set to the coordinates of the selected UAV.")):t((0,yd.c)("Map origin set to centroid of selection.")))}}),{whenEmpty:"useAll"});function bT(){return bT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bT.apply(this,arguments)}const wT=c.forwardRef((function(e,t){return c.createElement(gc.Z,bT({},e,{ref:t}),c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}))}));var ET=function(e){var t=e.hasMeasurements,r=e.hasSelection,n=e.onCopyCentroidOfSelection,o=e.onPauseSelected,a=e.onRemoveSelected,i=e.onRestartSelected,l=e.onResumeSelected,u=e.onSetCentroidOfSelectionAsMapOrigin,s=e.onUAVIdAdded;return c.createElement(KI.default,{disableGutters:!0},c.createElement(O.Z,{position:"absolute",display:"flex"},c.createElement(aT,{filterable:!0,onSelect:s},(function(e){return c.createElement(ht.default,{content:"Add new drone"},c.createElement(H.Z,{color:"inherit",onClick:e},c.createElement(zI.Z,null)))})),c.createElement(ht.default,{content:"Remove selected"},c.createElement(H.Z,{disabled:!r,color:"inherit",onClick:a},c.createElement(YI.Z,null))),c.createElement(SS,{orientation:"vertical"}),c.createElement(ht.default,{content:"Pause measurement"},c.createElement(H.Z,{disabled:!t,color:"inherit",onClick:o},c.createElement(HI.Z,null))),c.createElement(ht.default,{content:"Resume measurement"},c.createElement(H.Z,{disabled:!t,color:"inherit",onClick:l},c.createElement(zs.Z,null))),c.createElement(ht.default,{content:"Reset measurement"},c.createElement(H.Z,{disabled:!t||!r,color:"inherit",onClick:i},c.createElement($I.Z,null))),c.createElement(SS,{orientation:"vertical"}),c.createElement(ht.default,{content:"Copy centroid"},c.createElement(H.Z,{disabled:!t,color:"inherit",onClick:n},c.createElement(wT,null))),c.createElement(ht.default,{content:"Set centroid as map origin"},c.createElement(H.Z,{disabled:!t,color:"inherit",onClick:u},c.createElement(qI.Z,null)))))};ET.propTypes={hasMeasurements:i().bool,hasSelection:i().bool,onCopyCentroidOfSelection:i().func,onPauseSelected:i().func,onRemoveSelected:i().func,onResumeSelected:i().func,onRestartSelected:i().func,onSetCentroidOfSelectionAsMapOrigin:i().func,onUAVIdAdded:i().func};const ST=(0,s.$j)((function(e){return{hasMeasurements:Bl(e),hasSelection:zl(e)}}),{onCopyCentroidOfSelection:vT,onPauseSelected:fT,onRemoveSelected:hT,onResumeSelected:dT,onRestartSelected:pT,onSetCentroidOfSelectionAsMapOrigin:gT,onUAVIdAdded:Hl.X8})(ET);var OT=r(96353),xT=["coordinateFormatter","measurement","onCopy"];function AT(){return AT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AT.apply(this,arguments)}function kT(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var jT=function(e,t,r){return t>0&&r>1?"".concat(e.toFixed(1)," \xb1 ").concat(Math.sqrt(t/(r-1)).toFixed(1)):e.toFixed(1)},CT=(0,At.Z)((function(e){return{root:{fontVariantNumeric:"lining-nums tabular-nums","&>div:first-child>div:first-child":{maxWidth:44}},dim:{color:e.palette.text.secondary},avatar:{transition:e.transitions.create(["background-color","color"],{duration:e.transitions.duration.short})},sampling:{backgroundColor:Bn.ZP.success,color:e.palette.getContrastText(Bn.ZP.success),position:"relative"},primaryContainer:{display:"flex"},secondaryContainer:{display:"flex"},latLonCoordinatesColumn:{minWidth:180},amslColumn:{minWidth:140},ahlColumn:{minWidth:80,flex:1}}}),{name:"MeasurementListItem"}),PT=function(e){var t,r,o=e.coordinateFormatter,a=e.measurement,i=e.onCopy,l=kT(e,xT),u=CT(),s=a||{},f=s.extraSamplingTime,p=s.id,d=s.lastSampleAt,h=s.startedAt,y=s.mean,m=s.numSamples,v=s.sampling,g=s.sqDiff,b=o||Wu.default,w=[y.lon,y.lat];return m<=0?(t="Waiting for samples\u2026",r=c.createElement("div",{className:(0,n.default)(u.dim,u.secondaryContainer)},"No samples yet")):(t=c.createElement("div",{className:u.primaryContainer},c.createElement("div",{className:u.latLonCoordinatesColumn},b(w)),c.createElement("div",{className:u.amslColumn},jT(y.amsl,g.amsl,m),"m ",c.createElement("span",{className:u.dim},"AMSL")),c.createElement("div",{className:u.ahlColumn},jT(y.ahl,g.ahl,m),"m ",c.createElement("span",{className:u.dim},"AHL"))),r=c.createElement("div",{className:u.secondaryContainer},c.createElement("div",{className:u.latLonCoordinatesColumn},function(e,t,r){if(r<2)return"0";var n=Math.sqrt(t.lat/(r-1)),o=Math.sqrt(t.lon/(r-1)),a=(0,UI.Sp)([e.lon-o,e.lat-n],[e.lon+o,e.lat+n])/2;return(0,qn.Bb)(a,1)}(y,g,m)," ",c.createElement("span",{className:u.dim},"std.dev. in XY")),c.createElement("div",{className:(0,n.default)(u.dim,u.amslColumn)},m," samples"),c.createElement("div",{className:(0,n.default)(u.dim,u.ahlColumn)},"Duration:"," ",function(e,t,r){return(0,qn.LU)((((0,Be.default)(t)||(0,Be.default)(e)?0:t-e)+(r||0))/1e3)}(h,d,f)))),c.createElement(st.Z,AT({button:!0},l,{className:u.root}),c.createElement(OT.Z,null,c.createElement(eO,{id:p,variant:"minimal",crossed:!v})),c.createElement(pt.Z,{disableTypography:!0,primary:t,secondary:r}),m>0&&c.createElement(Ls.Z,null,c.createElement(ht.default,{content:"Copy to clipboard"},c.createElement(H.Z,{edge:"end","aria-label":"copy",onClick:function(){return i(p)}},c.createElement(wT,null)))))};PT.propTypes={coordinateFormatter:i().func,measurement:i().shape({id:i().string,numSamples:i().number,sampling:i().bool}).isRequired,onCopy:i().func};var IT=(0,Zs.l0)((function(e,t,r){return c.createElement(PT,{key:e.id,coordinateFormatter:t.coordinateFormatter,measurement:e,selected:r,onClick:t.onItemSelected,onCopy:t.onCopy})}),{dataProvider:"measurements",backgroundHint:c.createElement(Bo.Z,{style:{padding:16},text:"Add a drone to measure with the + button in the toolbar"})});const TT=(0,s.$j)((function(e){return{coordinateFormatter:(0,ro.EQ)(e),dense:!0,fullWidth:!0,measurements:Ml(e),value:Vl(e)}}),{onChange:Hl.Aq,onCopy:function(e){return function(t){return t(mT([e]))}}})(IT);var LT=function(e){var t=e.onClose,r=e.open;return c.createElement(m.Z,{fullWidth:!0,open:r,maxWidth:"sm",onClose:t},c.createElement(ST,null),c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"stretch",minHeight:240},c.createElement(O.Z,{flex:1},c.createElement(TT,null))),c.createElement(O.Z,{className:"bottom-bar",textAlign:"center",py:1},c.createElement(WI,null)))};LT.propTypes={open:i().bool,onClose:i().func};const _T=(0,s.$j)((function(e){return{open:e.measurement.averagingDialog.open}}),{onClose:Hl.pM})(LT);var ZT=r(81472),NT=r(98121),DT=r(18604),RT=["y"];function FT(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MT(Object(r),!0).forEach((function(t){GT(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VT=(0,At.Z)((function(e){return{root:{display:"flex",flexDirection:"column",minWidth:240},header:{display:"flex",minHeight:e.spacing(6),alignItems:"center",padding:e.spacing(0,0,0,2)},title:{textTransform:"uppercase",flex:1},list:{position:"relative",flex:1,overflow:"auto"},footer:{display:"flex",flexDirection:"row",justifyContent:"space-between",padding:e.spacing(1),textAlign:"center"}}}),{name:"ParameterListSidebar"}),BT=function(e){var t=e.canUpload,r=e.manifest,n=e.onImportItems,o=e.onRemoveItem,a=e.onRemoveAllItems,i=e.onStart,l=VT(),u=(0,ZT.useTransition)(r.map((function(e,t){return UT(UT({},e),{},{y:28*t})})),{from:{position:"absolute",opacity:0},leave:{height:0,opacity:0},enter:function(e){return{y:e.y,opacity:1}},update:function(e){return{y:e.y}},key:function(e){return e.name}});return c.createElement(O.Z,{className:l.root},c.createElement(O.Z,{className:l.header},c.createElement(O.Z,{className:l.title},"Manifest"),c.createElement(ht.default,{content:"Remove all items from manifest"},c.createElement(H.Z,{disabled:!r||0===r.length,onClick:a},c.createElement(Rf.Z,null)))),c.createElement(Cc.Z,{className:l.list},u((function(e,t){var r=e.y,n=FT(e,RT),a=t.name,i=t.value;return c.createElement(ZT.animated.div,{style:UT({transform:r.to((function(e){return"translate3d(0,".concat(e,"px,0)")})),width:"100%"},n)},c.createElement(st.Z,{button:!0,onClick:function(){return o(a)}},c.createElement(O.Z,{display:"flex",flexDirection:"row",flexGrow:1},c.createElement(O.Z,{flexGrow:1},a),c.createElement(O.Z,{color:"text.secondary",ml:1},i))))}))),c.createElement(O.Z,{className:l.footer},c.createElement(DT.Z,{startIcon:c.createElement(lt.Z,null),onSelected:n},"Import..."),c.createElement(A.Z,{disabled:!t,endIcon:c.createElement(NT.Z,null),onClick:i},"Next step")))};BT.propTypes={canUpload:i().bool,manifest:i().arrayOf(i().shape({name:i().string,value:i().string})),onImportItems:i().func,onRemoveAllItems:i().func,onRemoveItem:i().func,onStart:i().func};const WT=(0,s.$j)((function(e){return{canUpload:!ju(e),manifest:Pu(e)}}),{onImportItems:function(e){return function(){var t=Nu(_u().mark((function t(r){var n,o;return _u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(!(e.size>131072)){t.next=5;break}return r(Fo("File too large; maximum allowed size is ".concat(128," KB"))),t.abrupt("return");case 5:return t.prev=5,t.next=8,e.text();case 8:o=t.sent,n=Au(o),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),r(Fo("Error while parsing parameters from file",t.t0));case 15:Array.isArray(n)&&n.length>0&&r((0,Tu.$e)(n));case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e){return t.apply(this,arguments)}}()},onRemoveAllItems:Tu.I2,onRemoveItem:Tu.VF,onStart:function(){return function(){var e=Nu(_u().mark((function e(t,r){var n;return _u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Iu(r()),t((0,Tu.Ld)()),e.next=4,Ur()(150);case 4:t((0,wu.OK)({job:{type:Eu,payload:n},options:{backAction:(0,Tu.on)()}}));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}})(BT);function zT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return HT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qT=function(e){var t=e.onChange,r=e.optimizeUIForTouch,n=zT((0,c.useState)(""),2),o=n[0],a=n[1],i=zT((0,c.useState)(null),2),l=i[0],u=i[1],s=function(e){var r,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r=Au(e)}catch(e){return u(e.message||String(e)),t&&t({valid:!1}),!1}return u(""),t&&(t({value:r,valid:!0,commit:n}),a(xu(r))),!0};return c.createElement(q.Z,{fullWidth:!0,multiline:!0,autoFocus:!r,error:Boolean(l),label:"Parameter names and values",variant:"filled",minRows:7,helperText:l||"Specify entries as name=value, one parameter per row.",value:o,onBlur:function(e){s(e.target.value)},onChange:function(e){a(e.target.value)},onKeyPress:function(e){e.shiftKey&&"Enter"===e.key&&(s(e.target.value,!0)&&a(""),e.preventDefault())}})};qT.propTypes={onChange:i().func,optimizeUIForTouch:i().bool};var YT=(0,s.$j)((function(e){return{optimizeUIForTouch:(0,$t.f8)(e)}}))(qT);const $T=function(){var e=(0,s.v9)(ku),t=(0,s.I0)();return c.createElement(O.Z,{pt:1},c.createElement(YT,{onChange:function(e){var r=e.value,n=e.valid,o=e.commit;n&&o&&r.length>0&&t((0,Tu.$e)(r))}}),c.createElement(O.Z,{pt:1},c.createElement(x.Z,{variant:"body1"},"Press ",c.createElement("kbd",null,"\u21e7")," + ",c.createElement("kbd",null,"Enter")," to add the parameter to the manifest. Click on a parameter in the sidebar to remove it from the manifest.")),c.createElement(O.Z,{pt:1},c.createElement(R.Z,{style:{margin:"0"},control:c.createElement(dt.Z,{checked:e,color:"primary",onChange:function(e,r){t((0,Tu.JR)(r))}}),label:"Reboot after upload"})))};var KT=(0,At.Z)({root:{"& div.MuiDialog-paper > div > div:first-child":{order:100,boxShadow:"2px 0 6px -2px inset rgba(0, 0, 0, 0.54)"}}},{name:"ParameterUploadSetupDialog"}),XT=function(e){var t=e.onClose,r=e.open,n=KT();return c.createElement(Zr.Z,{fullWidth:!0,className:n.root,open:r,maxWidth:"md",sidebarComponents:c.createElement(WT,null),title:"Upload parameters",onClose:t},c.createElement(v.Z,null,c.createElement($T,null)),c.createElement(vr.Z,null,c.createElement(A.Z,{onClick:t},"Close")))};XT.propTypes={open:i().bool,onClose:i().func};const QT=(0,s.$j)((function(e){return{open:Cu(e)}}),{onClose:Tu.Ld})(XT);function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JT(Object(r),!0).forEach((function(t){tL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rL=c.forwardRef((function(e,t){var r=e.initialValues,n=e.onSubmit,o=e.optimizeUIForTouch;return c.createElement(S.l0,{initialValues:r,onSubmit:n},(function(e){var r=e.form,n=e.handleSubmit;return t.current=r,c.createElement("form",{id:"SavedLocationEditor",style:{marginTop:8,marginBottom:0},onSubmit:n},c.createElement(ir.nv,{autoFocus:!o,fullWidth:!0,margin:"dense",name:"name",label:"Name",fieldProps:{validate:So.C1}}),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(ir.LT,{fullWidth:!0,margin:"dense",name:"center.lat",label:"Latitude"}),c.createElement(O.Z,{p:.75}),c.createElement(ir.vL,{fullWidth:!0,margin:"dense",name:"center.lon",label:"Longitude"})),c.createElement(O.Z,{display:"flex",flexDirection:"row"},c.createElement(ir.g7,{fullWidth:!0,margin:"dense",name:"rotation",label:"Rotation"}),c.createElement(O.Z,{p:.75}),c.createElement(ir.nv,{fullWidth:!0,type:"number",margin:"dense",name:"zoom",label:"Zoom level",fieldProps:{validate:(0,So.v_)([So.C1,So._L,(0,So.vX)(1,30)])},inputProps:{min:1,max:30}})),c.createElement(ir.nv,{fullWidth:!0,multiline:!0,margin:"dense",name:"notes",label:"Notes",minRows:3,maxRows:3}),c.createElement("input",{hidden:!0,type:"submit"}))}))}));rL.propTypes={initialValues:i().object,onSubmit:i().func,optimizeUIForTouch:i().bool};var nL=(0,s.$j)((function(e){var t=Zd(e);return{initialValues:t!==Me.$U&&t in e.savedLocations.byId?e.savedLocations.byId[t]:_d(e),optimizeUIForTouch:(0,$t.f8)(e)}}),null,null,{forwardRef:!0})(rL),oL=function(e){var t=e.currentMapViewAsSavedLocation,r=e.editedLocationId,n=e.onClose,o=e.onDelete,a=e.onSubmit,i=e.open,l=(0,c.useRef)(null),u=(0,c.useCallback)((function(){l.current.initialize(eL(eL({},l.current.getState().values),t))}),[t]),s=(0,c.useCallback)((function(){l.current.submit()}),[]),f=r===Me.$U,p=f?"Create new location":"Edit saved location",d=[];return f||d.push(c.createElement(A.Z,{key:"copy-from-map-view",style:{marginRight:"auto"},onClick:u},"Copy from map view")),d.push(c.createElement(A.Z,{key:"save",color:"primary",onClick:s},"Save")),f?d.push(c.createElement(A.Z,{key:"discard",onClick:o(r)},"Discard")):d.push(c.createElement(A.Z,{key:"delete",color:"secondary",onClick:o(r)},"Delete"),c.createElement(A.Z,{key:"cancel",onClick:n},"Cancel")),c.createElement(Zr.Z,{fullWidth:!0,title:p,open:i,maxWidth:"xs",onClose:n},c.createElement(v.Z,null,c.createElement(nL,{ref:l,onSubmit:a})),c.createElement(vr.Z,null,d))};oL.propTypes={currentMapViewAsSavedLocation:i().object,editedLocationId:i().string,onClose:i().func.isRequired,onDelete:i().func.isRequired,onSubmit:i().func.isRequired,open:i().bool.isRequired};const aL=(0,s.$j)((function(e){return{currentMapViewAsSavedLocation:_d(e),editedLocationId:Zd(e),open:Nd(e)}}),(function(e){return{onClose:function(){e(qd())},onDelete:function(t){return function(){e(qd()),e(Vd(t))}},onSubmit:function(t){var r=structuredClone(t);r.center.lon=Number(r.center.lon),r.center.lat=Number(r.center.lat),r.rotation=Number(r.rotation),r.zoom=Number(r.zoom),e(Bd(r)),e(qd())}}}))(oL);var iL=function(e){var t,r=e.bitsPerSecond,n=e.id,o=e.lastUpdatedAt;return c.createElement(O.Z,{key:n,display:"flex"},c.createElement(O.Z,{width:80,color:"text.secondary"},n),c.createElement(O.Z,{flex:1},HA[t=n]||(t&&t.startsWith("rtcm2/")?"RTCMv2 message, type ".concat(t.slice(6)):t&&t.startsWith("rtcm3/")?"RTCMv3 message, type ".concat(t.slice(6)):"Unknown message, type ".concat(t))),c.createElement(O.Z,{width:80,ml:1,color:"text.secondary",textAlign:"right"},r?"".concat(r.toFixed(1)," bps"):""),c.createElement(O.Z,{color:"text.secondary",width:32,textAlign:"right"},c.createElement(jc.Z,{formatter:qn.$s,date:o})))};iL.propTypes={bitsPerSecond:i().number,id:i().string,lastUpdatedAt:i().number};var cL=(0,Zs.P7)(iL,{dataProvider:"items",backgroundHint:c.createElement(Bo.Z,{text:"No RTK messages have been received yet"})});const lL=(0,s.$j)((function(e){return{dense:!0,disablePadding:!0,items:MA(e)}}),{})(cL);function uL(e){return uL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uL(e)}function sL(){sL=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==uL(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function fL(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var pL=function(e){return function(){var t,r=(t=sL().mark((function t(r){return sL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bn.Z.execute.startRTKSurvey(e);case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t.catch(0),r((0,yd.c)({message:"Failed to start RTK survey on the server.",semantics:qu.jo.ERROR})),t.abrupt("return");case 9:r((0,xm.tP)());case 10:case"end":return t.stop()}}),t,null,[[0,5]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){fL(a,n,o,i,c,"next",e)}function c(e){fL(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()},dL=function(e){var t=e.onCopyAntennaPositionToClipboard,r=e.onClick,n=e.position,o=Boolean(n);return c.createElement(c.Fragment,null,c.createElement(ht.default,{content:"Click to toggle between lon/lat and ECEF format"},c.createElement(x.Z,{variant:"body2",component:"div",color:o?"textPrimary":"textSecondary",style:{cursor:"pointer",textAlign:"right"},onClick:r},n||"Antenna position not known")),t&&c.createElement(ht.default,{content:"Copy to clipboard"},c.createElement(H.Z,{disabled:!o,onClick:t},c.createElement(wT,null))))};dL.propTypes={position:i().string,onClick:i().func,onCopyAntennaPositionToClipboard:i().func};const hL=(0,s.$j)(FA,{onClick:function(){return function(e,t){e((0,xm.O1)(DA(t())?"lonLat":"ecef"))}},onCopyAntennaPositionToClipboard:function(){return function(e,t){IP()(RA(t())),e((0,yd.c)("Coordinates copied to clipboard."))}}})(dL);function yL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yL(Object(r),!0).forEach((function(t){vL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gL=Object.freeze({datasets:Object.freeze([])});function bL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alpha,r=void 0===t?.8:t,n=e.color,o=e.canvas,a=e.height,i=void 0===a?170:a,c=e.reverse,l=e.ctx;if(Array.isArray(n))return n.map((function(t){return bL(mL(mL({},e),{},{color:t}))}));l||(l=o.getContext("2d"));var u=l.createLinearGradient(0,i,0,50);return u.addColorStop(0,Gn()(n).alpha(c?r:0).string()),u.addColorStop(1,Gn()(n).alpha(c?0:r).string()),u}function wL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return EL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EL(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SL=(0,d.ZP)((function(){return Promise.all([r.e(376),r.e(482)]).then(r.bind(r,51101))}),{resolveComponent:function(e){return e.default}}),OL=[30,40],xL=["#424242",Bn.ZP.error,Bn.ZP.warning,Bn.ZP.success],AL=(0,We.createSelector)((function(e){return e}),(function(e){return xL.map((function(t){return bL({ctx:e,color:t})}))})),kL=function(e,t){var r=AL(t),n=Date.now(),o=e.map((function(e){var t=n-e.lastUpdatedAt;if(t>=6e4)return null;var o,a=t>=5e3?0:(o=e.cnr)<=0||(0,Be.default)(o)?0:o<OL[0]?1:o<OL[1]?2:3;return{label:e.id,value:e.cnr,backgroundColor:r[a],borderColor:xL[a]}})).filter(Boolean);return{labels:o.map((function(e){return e.label})),datasets:[{backgroundColor:o.map((function(e){return e.backgroundColor})),borderColor:o.map((function(e){return e.borderColor})),borderWidth:2,label:"CNR",data:o.map((function(e){return e.value}))}]}},jL=function(e){return{plugins:{legend:{display:!1},tooltip:{titleFont:{family:Ct.defaultFont},bodyFont:{family:Ct.defaultFont},footerFont:{family:Ct.defaultFont},callbacks:{label:function(e){return" ".concat(e.formattedValue," dB-Hz")}}}},scales:{x:{grid:{display:!1},ticks:{font:{color:e?"rgba(255, 255, 255, 0.54)":"rgba(0, 0, 0, 0.54)",family:Ct.defaultFont,size:14}}},y:{grid:{borderColor:e?function(e){var t=e.index;return"rgba(255, 255, 255, ".concat(t?.17:.34,")")}:function(e){var t=e.index;return"rgba(0, 0, 0, ".concat(t?.17:.34,")")},color:e?function(e){var t=e.index;return"rgba(255, 255, 255, ".concat(t?.17:.34,")")}:function(e){var t=e.index;return"rgba(0, 0, 0, ".concat(t?.17:.34,")")}},suggestedMin:0,suggestedMax:60,ticks:{font:{color:e?"rgba(255, 255, 255, 0.54)":"rgba(0, 0, 0, 0.54)",family:Ct.defaultFont,size:14},maxTicksLimit:7}}},maintainAspectRatio:!1}},CL={dark:jL(!0),light:jL(!1)},PL=function(e){var t=e.height,r=e.items,n=(0,ar.Z)(),o=(0,ji.Z)(),a=(0,c.useRef)(null),i=wL((0,c.useState)(gL),2),l=i[0],u=i[1];return(0,Ci.Z)(o,1e3),(0,c.useEffect)((function(){var e=a.current;e&&u(r?kL(r,e.ctx):gL)}),[a.current,r]),c.createElement(O.Z,{height:t},c.createElement(SL,{ref:a,data:l,options:(0,Ct.isThemeDark)(n)?CL.dark:CL.light}))};PL.propTypes={height:i().number,items:i().arrayOf(i().shape({cnr:i().number,lastUpdatedAt:i().number}))},PL.defaultProps={height:160};const IL=(0,s.$j)((function(e){return{items:UA(e)}}),{})(PL);var TL=r(93508);function LL(e){return LL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LL(e)}var _L=["onClose","onSubmit"];function ZL(){return ZL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZL.apply(this,arguments)}function NL(){NL=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==LL(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function DL(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function RL(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){DL(a,n,o,i,c,"next",e)}function c(e){DL(a,n,o,i,c,"throw",e)}i(void 0)}))}}function FL(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ML=function(e){var t=e.onClose,r=e.onSubmit,n=FL(e,_L),o=(0,Om.Z)(RL(NL().mark((function e(){var t;return NL().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn.Z.query.getRTKSurveySettings();case 2:return t=e.sent,e.abrupt("return",t?{accuracy:t.accuracy,duration:t.duration}:{accuracy:100,duration:60});case 4:case"end":return e.stop()}}),e)}))),[]);return c.createElement(O.Z,ZL({display:"flex",flexDirection:"row",alignItems:"center"},n),c.createElement(H.Z,{onClick:t},c.createElement(TL.Z,null)),o.loading?c.createElement(La.Z,{text:"Loading..."}):o.error?c.createElement("div",null,"Failed to load survey settings from server."):c.createElement(S.l0,{initialValues:o.value,onSubmit:r},(function(e){var t=e.handleSubmit;return c.createElement(c.Fragment,null,c.createElement(O.Z,{p:.5}),c.createElement(em.vy,{name:"accuracy",label:"Desired accuracy",min:.01,max:100,step:.01,size:"small",unit:"m",style:{flex:1}}),c.createElement(O.Z,{p:1}),c.createElement(em.US,{name:"duration",label:"Minimum duration",min:1,max:3600,step:1,size:"small",style:{flex:1}}),c.createElement(O.Z,{p:.5}),c.createElement(A.Z,{onClick:t},"Start survey"))})))};ML.propTypes={onClose:i().func,onSubmit:i().func};const UL=(0,s.$j)(null,{onClose:xm.$m,onSubmit:function(e){var t=e.accuracy,r=e.duration;return pL({accuracy:Number(t),duration:Number(r)})}})(ML);var GL=r(73637),VL=["accuracy","active","supported","valid"];function BL(){return BL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BL.apply(this,arguments)}function WL(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function zL(e,t){if("number"!=typeof t||t<=0)return e;var r=qA(t);return e&&0!==e.length?r&&">"===r.charAt(0)?"".concat(e,", accuracy ").concat(r):"".concat(e,", accuracy: ").concat(r):r&&">"===r.charAt(0)?"Accuracy ".concat(r):"Accuracy: ".concat(r)}var HL=function(e){var t=e.accuracy,r=e.active,n=e.supported,o=e.valid,a=WL(e,VL);return c.createElement(GL.Z,{in:n||!0},c.createElement(O.Z,BL({alignItems:"center",flex:1,display:"flex",flexDirection:"row"},a),c.createElement(k.Z,{size:"small",status:o?"success":r?"next":n?"error":"off",color:"textSecondary"},r?zL("Surveying",t):o?zL("",t):n?"Survey not started yet":"No survey information")))};HL.propTypes={accuracy:i().number,active:i().bool,supported:i().bool,valid:i().bool};const qL=HL;function YL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YL(Object(r),!0).forEach((function(t){KL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function KL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XL=(0,At.Z)((function(e){return{root:$L({},(0,Ct.createSecondaryAreaStyle)(e)),inset:{border:"1px solid ".concat((0,Ct.isThemeDark)(e)?"rgba(0, 0, 0, 0.54)":"rgba(255, 255, 255, 0.54)"),boxShadow:"0 0 4px 2px inset rgba(0, 0, 0, 0.54)",padding:e.spacing(1)},nonInset:{borderTop:"1px solid ".concat((0,Ct.isThemeDark)(e)?"rgba(0, 0, 0, 0.54)":"rgba(255, 255, 255, 0.54)"),boxShadow:"0 2px 6px -2px inset rgba(0, 0, 0, 0.54)",padding:e.spacing(2,3)}}}),{name:"ChartContainer"}),QL=function(e){var t=e.chartHeight,r=e.inset,o=e.onToggleSurveySettings,a=e.surveySettingsVisible,i=e.surveyStatus,l=XL();return c.createElement(O.Z,{className:(0,n.default)(l.root,r?l.inset:l.nonInset)},c.createElement(IL,{height:t}),c.createElement(O.Z,{position:"relative",height:48},c.createElement(bh,{in:!a},c.createElement(O.Z,{display:"flex",flexDirection:"row",alignItems:"center",left:0,top:0,right:0,bottom:0},o&&c.createElement(ht.default,{content:"Start new survey"},c.createElement(H.Z,{disabled:!i||!i.supported,onClick:o},c.createElement(qI.Z,null))),c.createElement(qL,i),c.createElement(O.Z,{flex:"1"}),c.createElement(hL,null))),c.createElement(bh,{in:a},c.createElement(UL,{position:"absolute",left:0,top:0,right:0,bottom:0}))))};QL.propTypes={chartHeight:i().number,inset:i().bool,onToggleSurveySettings:i().func,surveySettingsVisible:i().bool,surveyStatus:i().object},QL.defaultProps={chartHeight:160};const JL=(0,s.$j)((function(e){return{surveyStatus:WA(e),surveySettingsVisible:zA(e)}}),{onToggleSurveySettings:xm.$m})(QL);var e_=function(e){var t=e.onClose,r=e.open;return c.createElement(m.Z,{fullWidth:!0,open:r,maxWidth:"sm",onClose:t},c.createElement(ik,null),c.createElement(O.Z,null,c.createElement(O.Z,{mx:3,mt:3},c.createElement(Dm,null),c.createElement(O.Z,{height:100,my:2,boxSizing:"content-box",overflow:"auto"},c.createElement(lL,null))),c.createElement(JL,null)))};e_.propTypes={open:i().bool,onClose:i().func};const t_=(0,s.$j)((function(e){return{open:e.rtk.dialog.open}}),{onClose:xm.Dp})(e_);var r_=r(29509),n_=r(99476),o_=r(63847),a_=r(31195),i_=r(12595),c_=r(90442),l_=r(91213);const u_=(0,s.$j)((function(e,t){var r=e.log.highestUnseenMessageLevel;return{color:(0,Eh.Jz)(r),visible:r>=(t.level||Eh.in.WARNING)}}),{})(qi.Z);var s_=r(78094);function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(this,arguments)}const p_=c.forwardRef((function(e,t){return c.createElement(gc.Z,f_({},e,{ref:t}),c.createElement("path",{d:"M6,11c2.76,0,5-2.24,5-5S8.76,1,6,1S1,3.24,1,6S3.24,11,6,11z M6,3c1.65,0,3,1.35,3,3c0,1.65-1.35,3-3,3S3,7.65,3,6 C3,4.35,4.35,3,6,3z"}),c.createElement("path",{d:"M21,14h-5c-1.1,0-2,0.9-2,2v5c0,1.1,0.9,2,2,2h5c1.1,0,2-0.9,2-2v-5C23,14.9,22.1,14,21,14z M21,21h-5v-5h5V21z"}),c.createElement("path",{d:"M17.71,7.7C18.11,7.89,18.54,8,19,8c1.65,0,3-1.35,3-3s-1.35-3-3-3s-3,1.35-3,3c0,0.46,0.11,0.89,0.3,1.29L6.29,16.3 C5.89,16.11,5.46,16,5,16c-1.65,0-3,1.35-3,3s1.35,3,3,3s3-1.35,3-3c0-0.46-0.11-0.89-0.3-1.29L17.71,7.7z"}))}));function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d_(Object(r),!0).forEach((function(t){y_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m_={backgroundColor:"#333",boxShadow:"rgba(0, 0, 0, 0.3) -9px -3px 6px -6px inset",display:"flex",flexFlow:"column nowrap",height:"calc(100vh - 48px)",overflow:"hidden"},v_={display:"flex",flexFlow:"column nowrap",flexGrow:1,overflow:"auto",width:180},g_=(0,Ts.U6)("showControl"),b_=function(e){var t=e.experimentalFeaturesEnabled,r=e.isOpen,n=e.t,o=e.workbench;return c.createElement("div",{id:"sidebar",style:h_(h_({},m_),{},{width:r?180:48})},c.createElement("div",{style:v_},c.createElement(u.yF,{allowMultipleSelection:!0,vertical:!0,workbench:o},c.createElement(u.Yl,{id:"map",icon:c.createElement(i_.Z,null),label:n("view.map"),component:"map"}),c.createElement(u.Yl,{id:"threeDView",icon:c.createElement(l_.Z,null),label:n("view.three-d-view"),component:"three-d-view",reorderEnabled:!1}),c.createElement(u.Yl,{id:"layers",icon:c.createElement(a_.Z,null),label:n("view.layer-list"),component:"layer-list"}),(0,Ts.U6)("mapFeatures")&&c.createElement(u.Yl,{id:"features",icon:c.createElement(p_,null),label:n("view.feature-list"),component:"feature-list"}),c.createElement("hr",null),c.createElement(u.Yl,{id:"uavs",icon:c.createElement(r_.Z,null),label:n("view.uav-list"),component:"uav-list"}),(0,Ts.U6)("beacons")&&c.createElement(u.Yl,{id:"beacons",icon:c.createElement(s_.Z,null),label:n("view.beacon-list"),component:"beacon-list"}),(0,Ts.U6)("docks")&&t&&c.createElement(u.Yl,{id:"docks",icon:c.createElement(n_.Z,null),label:n("view.dock-list"),component:"dock-list"}),c.createElement("hr",null),g_&&c.createElement(u.Yl,{id:"show",icon:c.createElement(o_.Z,null),label:n("view.show-control"),component:"show-control"}),g_&&c.createElement(u.Yl,{id:"lights",icon:c.createElement(bS.Z,null),label:n("view.light-control"),component:"light-control"}),g_&&c.createElement("hr",null),c.createElement(u.Yl,{id:"clocks",icon:c.createElement(Qv.Z,null),label:n("view.lcd-clock-panel"),component:"lcd-clock-panel"}),c.createElement(u.Yl,{id:"locations",icon:c.createElement(qI.Z,null),label:n("view.saved-location-list"),component:"saved-location-list"}),c.createElement("hr",null),c.createElement(u.Yl,{id:"notes",icon:c.createElement(vS.Z,null),label:n("view.field-notes"),component:"field-notes"}),c.createElement(u.Yl,{id:"log",badge:c.createElement(u_,null),icon:c.createElement(c_.Z,null),label:n("view.log-panel"),component:"log-panel"}))),r&&c.createElement(O.Z,{py:.5,px:1,style:{color:"#fff",opacity:.3,width:180}},c.createElement(x.Z,{align:"center",variant:"caption",component:"footer"},"v2.7.2-100-ga66a8381")))};b_.propTypes={experimentalFeaturesEnabled:i().bool,isOpen:i().bool,t:i().func,workbench:i().instanceOf(u.Lq).isRequired};const w_=(0,s.$j)((function(e,t){var r=t.workbench;return{experimentalFeaturesEnabled:(0,$t.Em)(e),isOpen:fk(e),workbench:r}}))((0,y.Zh)()(b_));var E_,S_=function(e){return e.snackbar.notification};function O_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x_=(O_(E_={},qu.jo.INFO,"info"),O_(E_,qu.jo.SUCCESS,"success"),O_(E_,qu.jo.WARNING,"warning"),O_(E_,qu.jo.ERROR,"error"),E_),A_=(0,gv.Z)(A.Z)({border:"1px solid currentColor",color:"inherit"}),k_=function(e){var t=e.dispatch,r=e.notification,n=(0,f.e1)().addToast;return(0,c.useEffect)((function(){var e=r.semantics,o=r.permanent,a=function(e,t){var r=e.buttons,n=e.message,o=e.header,a=n;if(Array.isArray(r)&&r.length>0){var i=r.map((function(e,r){var n=e.label,o=e.action;return c.createElement(A_,{key:r,size:"small",variant:"outlined",onClick:function(){return t(o)}},n)}));a=c.createElement("div",null,a,c.createElement(O.Z,{display:"flex",flexDirection:"row",justifyContent:"space-around",mt:2},i))}return o&&o.length>0&&(a=c.createElement("div",null,c.createElement("div",null,c.createElement("strong",null,o)),a)),a}(r,t);a&&n(a,{appearance:x_[e]||"info",autoDismiss:!o})}),[n,t,r]),null};k_.propTypes={dispatch:i().func.isRequired,notification:i().shape({message:i().string.isRequired,permanent:i().bool,semantics:i().oneOf(Object.values(qu.jo)).isRequired})};const j_=(0,s.$j)((function(e){return{notification:S_(e)}}))(k_);var C_=r(35173),P_=r(16934),I_=r(78234),T_=r(77823),L_=function(e){var t=(e.errorCodes||[]).filter((function(e){return e!==mv.X.PREARM_CHECK_IN_PROGRESS&&e!==mv.X.PREARM_CHECK_FAILURE}));return 0===t.length?null:c.createElement(c.Fragment,null,c.createElement(ut.Z,{dense:!0},t.map((function(e){return c.createElement(st.Z,{key:e},c.createElement(zu.default,{status:(0,mv.qp)(e)}),c.createElement(pt.Z,{primary:mv.X.describe(e)}))}))),c.createElement(or.Z,null))};L_.propTypes={errorCodes:i().arrayOf(i().number)};var __=function(e){var t=e.message,r=e.result,n=e.items;return c.createElement(c.Fragment,null,c.createElement(ut.Z,{dense:!0},c.createElement(st.Z,null,c.createElement(zu.default,{status:(0,Jh.gk)(r)}),c.createElement(pt.Z,{primary:(0,Jh.mO)(r),secondary:t}))),n&&n.length>0?c.createElement(c.Fragment,null,c.createElement(or.Z,null),c.createElement(V.Z,{ml:2},"Details"),c.createElement(ut.Z,{dense:!0},n.map((function(e){return c.createElement(st.Z,{key:e.id},c.createElement(zu.default,{status:(0,Jh.gk)(e.result)}),c.createElement(pt.Z,{primary:t||(e.result===Jh.uZ.PASS?e.label:"".concat(e.label," \u2014 ").concat((0,Jh.c2)(e.result)))}))})))):null)};__.propTypes={items:i().arrayOf(i().shape({id:i().string,label:i().string,message:i().string,result:ey.Z.preflightCheckResult})),message:i().string,result:ey.Z.preflightCheckResult};var Z_=(0,c.memo)((function(e){var t=e.uavId,r=zb(),n=(0,SI.Z)((function(){return t?r.query.getPreflightStatus(t):{}}),[r,t]),o=(0,c.useRef)();return(0,c.useEffect)((function(){t&&!n.loading&&!n.error&&Boolean(n.value)&&!o.current&&(o.current=setTimeout((function(){o.current=void 0,n.retry()}),1e3))}),[n,t]),(0,T_.Z)((function(){o.current&&clearTimeout(o.current)})),n.error&&!n.loading?c.createElement(Bo.Z,{icon:c.createElement(OI.Z,null),text:"Error while loading preflight status report",button:c.createElement(A.Z,{onClick:n.retry},"Try again")}):n.value?c.createElement(__,{message:n.value.message,result:n.value.result,items:n.value.items}):n.loading?c.createElement(CI.Z,{fullHeight:!0,label:"Retrieving status report..."}):c.createElement(Bo.Z,{text:"Preflight status report not loaded yet",button:c.createElement(A.Z,{onClick:n.retry},"Try again")})}));Z_.propTypes={uavId:i().string};var N_=function(e){var t=e.errorCodes,r=e.uavId;return c.createElement(c.Fragment,null,c.createElement(L_,{errorCodes:t}),c.createElement(Z_,{uavId:r}))};N_.propTypes={errorCodes:i().arrayOf(i().number),uavId:i().string};const D_=(0,s.$j)((function(e,t){var r;return{errorCodes:t.uavId?null===(r=(0,to.Rk)(e,t.uavId))||void 0===r?void 0:r.errors:null}}),{})(N_);r(84633);var R_,F_=r(54748);function M_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U_(e){var t,r=e.kind,n=e.body;if(r===Jh.k_.TEXT)t=new Blob([n],{type:"text/plain;charset=utf-8"});else t=new Blob([Nr.DS.toUint8Array(n)],{type:"application/octet-stream"});return{filename:V_(e),blob:t}}var G_=(M_(R_={},Jh.k_.TEXT,".txt"),M_(R_,Jh.k_.ARDUPILOT,".bin"),M_(R_,Jh.k_.ULOG,".ulg"),M_(R_,Jh.k_.UNKNOWN,".log"),M_(R_,Jh.k_.FLOCKCTRL,".log"),R_);function V_(e){var t=e.id,r=e.kind,n=e.timestamp,o=G_[r]||G_[Jh.k_.UNKNOWN],a=(0,Be.default)(n)?void 0:(0,ki.Z)((0,jb.Z)(n),"yyyyMMdd_HHmmss");return(0,Be.default)(t)&&(0,Be.default)(a)?"flight_log".concat(o):(0,Be.default)(t)?"".concat(a).concat(o):(0,Be.default)(a)?"".concat(t).concat(o):"".concat(t,"_").concat(a).concat(o)}var B_=r(43447),W_=function(e){var t=(e.progress||{}).percentage;return(0,Be.default)(t)?c.createElement(yg.Z,{value:null,variant:"indeterminate"}):"number"==typeof t&&t>=0&&t<100?c.createElement(yg.Z,{value:t,variant:"determinate"}):null};W_.propTypes={progress:i().shape({percentage:i().number,message:i().string})};const z_=W_;function H_(e){return H_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H_(e)}function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q_.apply(this,arguments)}function Y_(){Y_=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==H_(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function $_(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function K_(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){$_(a,n,o,i,c,"next",e)}function c(e){$_(a,n,o,i,c,"throw",e)}i(void 0)}))}}function X_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var J_=(0,At.Z)((function(e){return{progress:{padding:e.spacing(1,0)}}}),{name:"UAVLogListItem"}),eZ=function(e){var t=e.id,r=e.kind,n=e.size,o=e.timestamp,a=e.uavId,i=[],l=[],u=J_(),s=X_((0,c.useState)(null),2),f=s[0],p=s[1],d=zb(),h=(0,c.useCallback)((function(e){var t=e.progress;p(t)}),[]),y=X_((0,Sm.Z)(K_(Y_().mark((function e(){var r;return Y_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query.getFlightLog(a,t,{onProgress:h});case 2:return r=e.sent,setImmediate((function(){var e=U_(r),t=e.filename,n=e.blob;(0,B_.cP)(n,t)})),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),[d,a,t]),2),m=y[0],v=y[1];(0,Be.default)(t)||i.push(t),i.push((0,Be.default)(o)?"Date unknown":(0,qn.w5)(o)),m.error?l.push(m.error):(l.push((0,Jh.ZK)(r)),(0,Be.default)(n)||l.push((0,F_.Z)(n)));var g=m.loading?c.createElement("div",{className:u.progress},c.createElement(z_,{progress:f})):c.createElement(x.Z,{variant:"body2",color:"textSecondary"},l.join(" \xb7 "));return c.createElement(st.Z,{button:!0,onClick:function(){return v()}},c.createElement(zu.default,{status:m.loading?"next":m.error?"error":(0,Be.default)(m.value)?"off":m.value?"success":"error"}),c.createElement(pt.Z,{disableTypography:!0,primary:c.createElement(x.Z,{variant:"body2"},i.join(" \xb7 ")),secondary:g}))};eZ.propTypes={id:i().string,kind:i().string,size:i().number,timestamp:i().number,uavId:i().string};var tZ=(0,Zs.P7)((function(e,t){return c.createElement(eZ,q_({key:e.id,uavId:t.uavId},e))}),{dataProvider:"items",backgroundHint:c.createElement(Bo.Z,{text:"No logs found"})}),rZ=(0,c.memo)((function(e){var t=e.uavId,r=zb(),n=(0,SI.Z)((function(){return t?r.query.getFlightLogList(t):{}}),[r,t]);return n.error&&!n.loading?c.createElement(Bo.Z,{icon:c.createElement(OI.Z,null),text:"Error while loading log list",button:c.createElement(A.Z,{onClick:n.retry},"Try again")}):n.loading?c.createElement(CI.Z,{fullHeight:!0,label:"Retrieving log list..."}):Array.isArray(n.value)?c.createElement(tZ,{dense:!0,uavId:t,items:n.value}):c.createElement(Bo.Z,{text:"Log list not loaded yet",button:c.createElement(A.Z,{onClick:n.retry},"Try again")})}));rZ.propTypes={uavId:i().string};const nZ=rZ;var oZ=r(76211);function aZ(e){return aZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aZ(e)}var iZ=["component"];function cZ(){return cZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cZ.apply(this,arguments)}function lZ(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function uZ(){uZ=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==aZ(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function sZ(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function fZ(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){sZ(a,n,o,i,c,"next",e)}function c(e){sZ(a,n,o,i,c,"throw",e)}i(void 0)}))}}function pZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dZ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var hZ=[{component:"compass",label:"Calibrate compass",type:"calib",timeout:90},{component:"accel",label:"Calibrate accelerometer",type:"calib",timeout:90},{component:"baro",label:"Calibrate ground pressure",type:"calib",timeout:10},{component:"gyro",label:"Calibrate gyroscope",type:"calib",timeout:10},{component:"level",label:"Calibrate level position",type:"calib",timeout:10},{component:"led",label:"Execute LED test",type:"test"},{component:"motor",label:"Execute motor test",needsConfirmation:!0,type:"test"}],yZ=function(e){var t=e.component,r=e.label,n=e.needsConfirmation,o=e.timeout,a=e.type,i=e.uavId,l=zb(),u=pZ((0,c.useState)(null),2),s=u[0],f=u[1],p=pZ((0,c.useState)(null),2),d=p[0],h=p[1],y=pZ((0,c.useState)(!1),2),m=y[0],v=y[1],g=(0,c.useRef)(null),b=(0,c.useCallback)((function(){clearTimeout(s),f(null)}),[s,f]),w=(0,c.useCallback)((function(){b(),f(setTimeout(b,3e3))}),[b,f]),E=(0,c.useCallback)((function(){b(),m?j():k()}),[b,k,j,m]),S=(0,c.useCallback)((function(e){var t=e.progress,r=e.resume,n=e.suspended;h(t),v(Boolean(n)),g.current=r}),[]),O=pZ((0,Sm.Z)(fZ(uZ().mark((function e(){return uZ().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.sendCommandRequest({uavId:i,command:"test"===a?"test":"calib",args:[String(t)]},{onProgress:S,timeout:o});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)}))),[l,S]),2),x=O[0],k=O[1],j=pZ((0,Sm.Z)(fZ(uZ().mark((function e(){return uZ().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.current){e.next=4;break}return e.abrupt("return",g.current());case 4:throw new Error("No resume callback has been provided");case 5:case"end":return e.stop()}}),e)}))),[]),2)[1];return c.createElement(st.Z,{button:!0,onClick:n?w:E},c.createElement(zu.default,{status:m?"warning":x.loading?"next":x.error?"error":(0,Be.default)(x.value)?"off":x.value?"success":"error"}),c.createElement(pt.Z,{primary:m?"".concat(d.message||"Operation suspended",". Click to resume."):!d||x.error&&!x.loading?r:"".concat(d.message||r),secondary:!x.loading&&x.error?(0,Fr.VK)(x.error):d?c.createElement(z_,{progress:d}):m?c.createElement(z_,null):null}),c.createElement(Ls.Z,null,c.createElement(oZ.Z,{in:Boolean(s)},c.createElement(A.Z,{style:{color:Bn.ZP.seriousWarning},onClick:E},"Confirm"))))};yZ.propTypes={component:i().string,label:i().string,needsConfirmation:i().bool,uavId:i().string,timeout:i().number,type:i().oneOf(["calib","test"])},yZ.defaultProps={needsConfirmation:!1};var mZ=function(e){var t=e.uavId;return c.createElement(ut.Z,{dense:!0},hZ.map((function(e){var r=e.component,n=lZ(e,iZ);return c.createElement(yZ,cZ({key:r,component:r,uavId:t},n))})))};mZ.propTypes={uavId:i().string};const vZ=mZ;var gZ=function(e){var t=e.selectedTab,r=e.uavId;switch(t){case"messages":return c.createElement(Fy,{uavId:r});case"preflight":return c.createElement(D_,{uavId:r});case"tests":return c.createElement(vZ,{uavId:r});case"logs":return c.createElement(nZ,{uavId:r});default:return null}};gZ.propTypes={selectedTab:i().oneOf(["messages","preflight","tests","logs"]),uavId:i().string};const bZ=(0,s.$j)((function(e){return{selectedTab:(0,AS.Or)(e),uavId:(0,AS.PM)(e)}}))(gZ);var wZ=c.createElement("span",{className:"muted"},"\u2014"),EZ=function(e){var t=e.gpsFix,r=e.heading,n=e.lastUpdated,o=e.localPosition,a=e.mode,i=e.position||{},l=i.lat,u=i.lon,s=i.amsl,f=i.ahl,p=i.agl,d=o&&Array.isArray(o),h=a?c.createElement($w.Z,{status:(0,Jh.d_)(a)},(0,Jh.G)(a)):wZ,y=null==t?void 0:t.type,m=[["Mode",h],"sep0"];if(!d||y){var v=y?c.createElement(c.Fragment,null,c.createElement($w.Z,{status:(0,Jh.nP)(y)},(0,Jh.b_)(y)),(null==t?void 0:t.numSatellites)&&" (".concat(null==t?void 0:t.numSatellites," sats)")):wZ,g=t||{},b=g.horizontalAccuracy,w=g.verticalAccuracy;b="number"==typeof b&&b>50?"50+":(0,qn.HP)(b,2,"",wZ),w="number"==typeof w&&w>50?"50+":(0,qn.HP)(w,2,"",wZ);var E=c.createElement(c.Fragment,null,b," / ",w," m");m.push(["GPS fix",v],["GPS acc",E],"sep1",["Lat",(0,qn.HP)(l,7,"\xb0",wZ)],["Lon",(0,qn.HP)(u,7,"\xb0",wZ)],["AMSL",(0,qn.HP)(s,2," m",wZ)],["AHL",(0,qn.HP)(f,2," m",wZ)],["AGL",(0,qn.HP)(p,2," m",wZ)],"sep2")}return d&&m.push(["X",(0,qn.HP)(o[0],2," m",wZ)],["Y",(0,qn.HP)(o[1],2," m",wZ)],["Z",(0,qn.HP)(o[2],2," m",wZ)]),m.push(["Heading",(0,qn.HP)(r,1,"\xb0",wZ)],"sep3",["Last seen",n?c.createElement(jc.Z,{formatter:qn.$s,date:n}):wZ]),c.createElement(yP,{items:m})};EZ.propTypes={gpsFix:i().shape({type:i().number,numSatellites:i().number,horizontalAccuracy:i().number,verticalAccuracy:i().number}),heading:i().number,lastUpdated:i().number,localPosition:i().arrayOf(i().number),mode:i().string,position:i().shape({lat:i().number,lon:i().number,amsl:i().number,ahl:i().number,agl:i().number})};const SZ=(0,s.$j)((function(e,t){return(0,to.Rk)(e,t.uavId)}),{})(EZ);var OZ=(0,At.Z)((function(e){return{root:{padding:e.spacing(2),minWidth:I_.gw},toolbar:{justifyContent:"center",padding:e.spacing(1,0)},toolbarInner:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",maxWidth:144,"& > button":{padding:8}}}}),{name:"UAVDetailsDialogSidebar"}),xZ=function(e){var t=e.uavId,r=e.setUAVId,n=OZ();return c.createElement(O.Z,{className:n.root},c.createElement(aT,{sortedByError:!0,onSelect:r},(function(e){return c.createElement(eO,{id:t,AvatarProps:{onClick:e,style:{cursor:"pointer"}}})})),c.createElement(yE.Z,{disableGutters:!0,variant:"dense",className:n.toolbar},c.createElement(O.Z,{className:n.toolbarInner},c.createElement(IS,{hideSeparators:!0,selectedUAVIds:[t],size:"small"}))),c.createElement(SZ,{uavId:t}))};xZ.propTypes={setUAVId:i().func,uavId:i().string};const AZ=(0,s.$j)((function(e){return{uavId:(0,AS.PM)(e)}}),{setUAVId:AS.hy})(xZ);var kZ=["dragHandleId"];function jZ(){return jZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jZ.apply(this,arguments)}function CZ(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var PZ=function(e){var t=e.dragHandleId,r=CZ(e,kZ);return c.createElement(b.Z,jZ({alignment:"left",dragHandle:t},r),c.createElement(g.Z,{label:"Preflight",value:"preflight"}),c.createElement(g.Z,{label:"Tests",value:"tests"}),c.createElement(g.Z,{label:"Messages",value:"messages"}),c.createElement(g.Z,{label:"Logs",value:"logs"}))};PZ.propTypes={dragHandleId:i().string,value:i().string},PZ.defaultProps={value:"preflight"};const IZ=(0,s.$j)((function(e){return{value:(0,AS.Or)(e)}}),{onChange:function(e,t){return(0,AS.KF)(t)}})(PZ);var TZ=function(e){var t=e.initialPosition,r=e.initialWidth,n=e.onClose,o=e.onDragStop,a=e.onResizeStop,i=e.open,l=(window.innerWidth-r)/2,u=(window.innerHeight-I_.g_)/2,s={x:(0,C_.Z)(t.x,-l,l),y:(0,C_.Z)(t.y,-u,u)};return c.createElement(Zr.Z,{DraggableProps:{bounds:"parent",defaultPosition:s,onStop:o},open:i,maxWidth:!1,sidebarComponents:c.createElement(AZ,null),toolbarComponent:function(e){return c.createElement(IZ,{dragHandle:e})},onClose:n},c.createElement(P_.Z,{axis:"x",resizeHandles:["e"],initialSize:{width:r-I_.gw,height:I_.x_},minConstraints:[I_.yN,I_.x_],boxProps:{maxWidth:"100%"},onResizeStop:a},c.createElement(bZ,null)))};TZ.propTypes={initialPosition:i().shape({x:i().number,y:i().number}),initialWidth:i().number,onClose:i().func,onDragStop:i().func,onResizeStop:i().func,open:i().bool};const LZ=(0,s.$j)((function(e){return{initialPosition:(0,AS.qJ)(e),initialWidth:(0,AS.Xf)(e),open:(0,AS.Xn)(e)}}),{onClose:function(){return function(e,t){_P(t())?e(GP()):e((0,AS.DU)())}},onDragStop:function(e,t){var r=t.x,n=t.y;return function(e){e((0,AS.bd)({x:r,y:n}))}},onResizeStop:function(e,t){var r=t.size;return function(e){e((0,AS.M2)(r.width+I_.gw))}}})(TZ);function _Z(e){return _Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_Z(e)}function ZZ(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return NZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NZ(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function NZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DZ(){DZ=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==_Z(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function RZ(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function FZ(e){return function(t,r){var n,o=r(),a=[],i=[],c=ZZ(e);try{for(c.s();!(n=c.n()).done;){var l=n.value;(0,Be.default)(l)||(cu(o,l)?a.push(l):i.push(l))}}catch(e){c.e(e)}finally{c.f()}i.length>0?t((0,wu.YP)(i)):a.length>0&&t((0,wu.xx)(a))}}var MZ=r(22074),UZ=function(){var e=(0,s.I0)();return c.createElement(Bo.Z,{icon:c.createElement(MZ.Z,null),header:"Another task is in progress",text:"Wait for the other task to finish or cancel it to start a new upload",button:c.createElement(A.Z,{onClick:function(){e((0,wu.m1)())}},"Cancel upload")})};UZ.propTypes={};const GZ=UZ;var VZ=r(18042),BZ=["hasQueuedItems"];function WZ(){return WZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WZ.apply(this,arguments)}function zZ(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var HZ=function(e){var t=e.hasQueuedItems,r=zZ(e,BZ);return c.createElement(A.Z,WZ({startIcon:c.createElement(zs.Z,null)},r),t?"Start selected":"Start")};HZ.propTypes={hasQueuedItems:i().bool};const qZ=HZ;var YZ=["counter","label","onClick","status","tooltip"];function $Z(){return $Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$Z.apply(this,arguments)}function KZ(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var XZ=(0,At.Z)((function(e){return{root:{display:"flex",alignItems:"center",padding:e.spacing(1),fontFamily:e.typography.fontFamily,fontSize:e.typography.fontSize,"& span.counter":{margin:e.spacing(0,.5,0,1)},"& span.label":{opacity:.5}},selectable:{"&:hover":{backgroundColor:e.palette.action.hover,borderRadius:e.spacing(.5)}}}}),{name:"UploadStatusLegendButton"}),QZ=function(e){var t=e.counter,r=e.label,o=e.onClick,a=e.status,i=e.tooltip,l=KZ(e,YZ),u=XZ(),s=o&&t>0,f=c.createElement(rd.Z,$Z({className:(0,n.default)(u.root,s&&u.selectable),disabled:!s,onClick:o},l),c.createElement(zu.default,{inline:!0,status:a}),c.createElement("span",{className:"counter"},t),c.createElement("span",{className:"label"},r));return i?c.createElement(ht.default,{content:i},f):f};QZ.propTypes={counter:i().number,label:i().string,status:i().string,tooltip:i().string,onClick:i().func};const JZ=QZ;var eN=function(e){var t=e.failed,r=e.finished,n=e.inProgress,o=e.onClearUploadQueue,a=e.onRestartSuccessfulUploads,i=e.onRetryFailedUploads,l=e.waiting;return c.createElement(O.Z,{display:"flex",justifyContent:"space-around"},c.createElement(JZ,{counter:l,label:"waiting",status:ol.q.INFO,tooltip:"Clear upload queue",onClick:o}),c.createElement(JZ,{counter:n,label:"in progress",status:ol.q.WARNING}),c.createElement(JZ,{counter:r,label:"successful",tooltip:"Restart successful items",status:ol.q.SUCCESS,onClick:a}),c.createElement(JZ,{counter:t,label:"failed",status:ol.q.ERROR,tooltip:"Retry failed items",onClick:i}))};eN.propTypes={failed:i().number,finished:i().number,inProgress:i().number,waiting:i().number,onClearUploadQueue:i().func,onRestartSuccessfulUploads:i().func,onRetryFailedUploads:i().func};const tN=(0,s.$j)(du,{onClearUploadQueue:wu.xq,onRestartSuccessfulUploads:function(){return function(e,t){var r=t().upload.queues.itemsFinished;e((0,wu.mf)(r)),vu(t())||e((0,wu.Bj)())}},onRetryFailedUploads:function(){return function(e,t){var r=t().upload.queues.failedItems;e((0,wu.fS)(r)),vu(t())||e((0,wu.Bj)())}}})(eN);var rN=["children","message","onClick","uavId"];function nN(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var oN=(0,At.Z)((function(e){return{root:{padding:e.spacing(.5)},hover:{backgroundColor:e.palette.action.hover},selectable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}}}})),aN=function(){return{hollow:!0,status:ol.q.OFF}},iN=function(e){var t=e.children,r=e.message,o=e.onClick,a=e.uavId,i=nN(e,rN),l=oN(),u=o&&a?function(){return o(a)}:null,s=c.createElement(O.Z,{className:(0,n.default)(l.root,u&&l.selectable),onClick:u},c.createElement(cE.Z,i,t));return r?c.createElement(ht.default,{content:r},s):s};iN.propTypes={children:i().node,message:i().string,onClick:i().func,uavId:i().string};const cN=(0,s.$j)((function(e,t){return function(e){return(0,Be.default)(e)?aN:function(t){return{status:hu(t)[e]||ol.q.OFF,message:pu(t)[e]||""}}}(t.uavId)}),{onClick:function(e){return FZ([e])}})(iN);var lN=["label","onClick","uavIds"];function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(this,arguments)}function sN(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var fN=(0,At.Z)((function(e){return{root:{textAlign:"right",padding:e.spacing(.5),color:e.palette.text.secondary},hover:{backgroundColor:e.palette.action.hover},selectable:{cursor:"pointer","&:hover":{backgroundColor:e.palette.action.hover}}}})),pN=function(e){var t=e.label,r=e.onClick,o=e.uavIds,a=sN(e,lN),i=fN(),l=r&&o?function(){return r(o)}:null;return c.createElement(O.Z,uN({className:(0,n.default)(i.root,l&&i.selectable),onClick:l},a),t)};pN.propTypes={label:i().node,onClick:i().func,uavIds:i().arrayOf(i().string)};const dN=pN;var hN=(0,At.Z)((function(e){return{root:{display:"grid",gridTemplateColumns:"64px repeat(".concat(10,", 1fr)"),padding:e.spacing(1,0),"& div":{whiteSpace:"nowrap",overflow:"hidden"}},empty:{padding:e.spacing(1,0),height:64}}})),yN=function(e,t,r){return 0===r.length?"\u2014":1===r.length?r[0]:"".concat(String(r[0]),"-").concat(String(r[r.length-1]))},mN=function(e){var t=e.columnCount,r=void 0===t?10:t,n=e.ids,o=e.itemFormatter,a=void 0===o?Wu.default:o,i=e.rowHeaderFormatter,l=void 0===i?yN:i,u=e.onHeaderClick,s=hN(),f=(0,c.useMemo)((function(){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.columnCount,n=t.itemFormatter,o=t.rowHeaderFormatter,a=[],i=e.length,c=0;c<i;c+=r){var l=e.slice(c,c+r),u=l.map(n),s="".concat(o(c,c+l.length,l)," \u25b8");a.push({header:s,items:l,labels:u})}return a}(n,{columnCount:r,itemFormatter:a,rowHeaderFormatter:l})}),[n,r,a,l]);return 0===f.length?c.createElement(O.Z,{className:s.empty},c.createElement(Bo.Z,{text:"There are no available UAVs to upload to."})):c.createElement(O.Z,{className:s.root},f.map((function(e){var t=e.header,r=e.items,n=e.labels;return c.createElement(c.Fragment,{key:t},c.createElement(dN,{label:t,uavIds:r,onClick:u}),r.map((function(e,t){return(0,Be.default)(e)?c.createElement(cN,{key:"__cell".concat(t)},"\u2014"):c.createElement(cN,{key:e,uavId:e},n[t])})))})))};mN.propTypes={columnCount:i().number,itemFormatter:i().func,ids:i().arrayOf(i().string),onHeaderClick:i().func,rowHeaderFormatter:i().func};const vN=(0,s.$j)((function(e){var t=fu(e);return{ids:t?(0,go.eP)(e):(0,to.lI)(e),rowHeaderFormatter:t?qn.bc:yN}}),{onHeaderClick:FZ})(mN);var gN=["result","running"];function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bN(Object(r),!0).forEach((function(t){EN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function EN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SN.apply(this,arguments)}function ON(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var xN=function(e){var t,r,n=e.result,o=e.running,a=ON(e,gN);switch(o&&(t=ol.q.NEXT,r="Upload in progress..."),n){case"success":t=ol.q.SUCCESS,r="Upload finished successfully.";break;case"cancelled":t=ol.q.WARNING,r="Upload cancelled by user.";break;case"error":t=ol.q.ERROR,r="Upload attempt failed.";break;default:t=ol.q.INFO,r="Upload not finished yet."}return c.createElement(k.Z,SN({status:t,size:"small"},a),r)};xN.propTypes={result:i().oneOf(["success","error","cancelled"]),running:i().bool};var AN=(0,At.Z)((function(e){return{actions:{padding:e.spacing(1,3,1,3)},uploadResultIndicator:{flex:1,cursor:"pointer"}}})),kN=function(e){var t=e.autoRetry,r=e.flashFailed,n=e.hasQueuedItems,o=e.lastUploadResult,a=e.onCancelUpload,i=e.onDismissLastUploadResult,l=e.onStartUpload,u=e.onStepBack,s=e.onToggleAutoRetry,f=e.onToggleFlashFailed,p=e.running,d=e.showLastUploadResult,h=AN();return c.createElement(c.Fragment,null,c.createElement(v.Z,null,c.createElement(vN,null),c.createElement(tN,null),c.createElement(O.Z,{mt:1},c.createElement(Qg,null)),c.createElement(O.Z,{mt:1},c.createElement(R.Z,{control:c.createElement(N.Z,{checked:t,onChange:s}),label:"Retry failed attempts automatically"}),c.createElement(R.Z,{control:c.createElement(N.Z,{checked:r,onChange:f}),label:"Flash lights of UAVs where the upload failed"}))),c.createElement(vr.Z,{className:h.actions},u&&c.createElement(H.Z,{size:"small",edge:"start",onClick:u},c.createElement(VZ.Z,null)),c.createElement(GL.Z,{in:o&&d},c.createElement(O.Z,{className:h.uploadResultIndicator,onClick:i},c.createElement(xN,{result:o,running:p}))),p?c.createElement(A.Z,{color:"secondary",startIcon:c.createElement(Y.default,null),onClick:a},"Cancel upload"):c.createElement(qZ,{disabled:!l,hasQueuedItems:n,onClick:l})))};kN.propTypes={autoRetry:i().bool,flashFailed:i().bool,hasQueuedItems:i().bool,lastUploadResult:i().oneOf(["success","error","cancelled"]),onCancelUpload:i().func,onDismissLastUploadResult:i().func,onStartUpload:i().func,onStepBack:i().func,onToggleAutoRetry:i().func,onToggleFlashFailed:i().func,running:i().bool,showLastUploadResult:i().bool},kN.defaultProps={running:!1,showLastUploadResult:!1};const jN=(0,s.$j)((function(e,t){return wN(wN({},uu(e)),{},{autoRetry:gu(e),flashFailed:bu(e),hasQueuedItems:mu(e),lastUploadResult:ou(e,t.jobType),running:vu(e)})}),{onCancelUpload:wu.m1,onClose:wu.Mr,onDismissLastUploadResult:wu.tm,onToggleAutoRetry:function(){return function(e,t){var r=t(),n=gu(r);e((0,wu.cm)(!n))}},onToggleFlashFailed:function(){return function(e,t){var r=t(),n=bu(r);e((0,wu.pK)(!n))}}})(kN);var CN=function(e){var t,r,n,o=e.canGoBack,a=e.canStartUpload,i=e.onClose,l=e.onStartUpload,u=e.onStepBack,s=e.open,f=e.runningJobType,p=e.selectedJobType,d=!f||f===p;return c.createElement(Zr.Z,{fullWidth:!0,open:Boolean(s),maxWidth:"sm",title:(t=p,null!==(r=null===(n=Kl(t))||void 0===n?void 0:n.title)&&void 0!==r?r:"Upload data"),onClose:i},d?c.createElement(jN,{jobType:p,onStepBack:o?u:null,onStartUpload:a?l:null}):c.createElement(O.Z,{height:240},c.createElement(GZ,{type:f})))};CN.propTypes={canGoBack:i().bool,canStartUpload:i().bool,onClose:i().func,onStartUpload:i().func,onStepBack:i().func,open:i().bool,runningJobType:i().string,selectedJobType:i().string};const PN=(0,s.$j)((function(e){var t,r=uu(e),n=r.open,o=r.backAction;return{open:n,canGoBack:!(0,Be.default)(o),canStartUpload:!0,runningJobType:nu(e),selectedJobType:null===(t=su(e))||void 0===t?void 0:t.type}}),{onClose:wu.Mr,onStartUpload:function(){return function(e,t){var r,n=t(),o=su(n),a=o.type,i=o.payload;if(Xl(a)===Yl)r=go.S8;else r=to.lI;var c=function(e){var t=e.upload.queues,r=t.itemsQueued,n=t.itemsWaitingToStart;return r.length>0||n.length>0}(n)?iu(n):r?r(n):null;c&&c.length>0&&(e((0,wu.HU)({targets:c,type:a,payload:i})),e((0,wu.Bj)()))}},onStepBack:function(){return function(){var e,t=(e=DZ().mark((function e(t,r){var n,o;return DZ().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uu(r()),o=n.backAction,t((0,wu.Mr)()),e.next=4,Ur()(150);case 4:o&&t(o);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){RZ(a,n,o,i,c,"next",e)}function c(e){RZ(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()}})(CN);var IN=function(e){e.components,e.height,e.width,(0,c.useCallback)((function(e){return 0===e?64:192}),[]);return null};IN.propTypes={components:i().arrayOf(i().string),height:i().number,width:i().number};const TN=(0,s.$j)((function(){return{components:["Autopilot","Companion computer","Hardware"]}}),{})(IN);var LN=function(e){var t=e.onClose,r=e.open;return c.createElement(m.Z,{fullWidth:!0,open:r,maxWidth:"sm",onClose:t},c.createElement(TN,{height:160,width:400}))};LN.propTypes={open:i().bool,onClose:i().func};const _N=(0,s.$j)((function(e){return{open:e.versionCheck.dialog.open}}),{onClose:Du._7})(LN);var ZN=function(e){var t=e.language,r=(0,y.$G)().i18n;return(0,c.useEffect)((function(){r.changeLanguage(t)}),[r,t]),null};ZN.propTypes={language:i().string};const NN=(0,s.$j)((function(e){return{language:e.settings.display.language}}))(ZN);var DN=r(34857),RN=r(28641);function FN(e){return FN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FN(e)}function MN(){MN=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==FN(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var UN=MN().mark(GN);function GN(){var e,t;return MN().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,DN.gw)(1e3);case 2:return r.next=5,(0,DN.Ys)(Rs.D3);case 5:if(!((e=r.sent).length>0)){r.next=20;break}return t=null,r.prev=8,r.next=11,(0,DN.RE)(bn.Z.query.getBasicBeaconProperties,e);case 11:t=r.sent,r.next=17;break;case 14:r.prev=14,r.t0=r.catch(8),(0,Fr.S3)(r.t0,"Fetching beacon properties");case 17:if(!t||(0,RN.xb)(t)){r.next=20;break}return r.next=20,(0,DN.gz)((0,rC.y3)(t));case 20:return r.next=22,(0,DN.gw)(3e3);case 22:r.next=2;break;case 24:case"end":return r.stop()}}),UN,null,[[8,14]])}function VN(e){return VN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VN(e)}function BN(){BN=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==VN(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var WN=BN().mark(HN),zN=BN().mark(qN);function HN(){return BN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,DN.gw)(5e3);case 2:return e.next=4,(0,DN.gz)(GP());case 4:case"end":return e.stop()}}),WN)}function qN(){return BN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,DN.Fm)(ZP.E9.type,HN);case 2:case"end":return e.stop()}}),zN)}const YN=qN;function $N(e){return $N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$N(e)}var KN=eD().mark(nD),XN=eD().mark(oD);function QN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eD(){eD=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==$N(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function tD(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function rD(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){tD(a,n,o,i,c,"next",e)}function c(e){tD(a,n,o,i,c,"throw",e)}i(void 0)}))}}function nD(e){var t,r,n;return eD().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:r=0,n=eD().mark((function n(){var o,a,i,c,l,u;return eD().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,DN.Ys)(vt);case 2:return o=n.sent,n.next=5,(0,DN.Ys)(gt);case 5:if(void 0!==n.sent&&o===t){n.next=21;break}return n.next=9,(0,DN.gz)((0,_t.n7)());case 9:return n.next=11,(0,DN.$6)([(0,DN.RE)(rD(eD().mark((function t(){return eD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e(o);case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0="";case 6:return t.t1=t.t0,t.t2=void 0,t.abrupt("return",[t.t1,t.t2]);case 11:return t.prev=11,t.t3=t.catch(0),t.abrupt("return",[void 0,String(t.t3)]);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))),(0,DN.gw)(r)]);case 11:if(a=n.sent,i=QN(a[0],2),c=i[0],!(l=i[1])){n.next=18;break}return n.next=16,(0,DN.gz)((0,_t.hg)(l));case 16:n.next=20;break;case 18:return n.next=20,(0,DN.gz)((0,_t.OU)(c));case 20:t=o;case 21:return n.next=23,(0,DN.qn)([P.KI.type,P.IA.type,_t.CB.type]);case 23:if((u=n.sent).type!==P.KI.type&&u.type!==P.IA.type){n.next=27;break}return n.next=27,(0,DN.gw)(1e3);case 27:r=u.type===_t.CB.type?1e3:0;case 28:case"end":return n.stop()}}),n)}));case 2:return o.delegateYield(n(),"t0",4);case 4:o.next=2;break;case 6:case"end":return o.stop()}}),KN)}function oD(e){var t;return eD().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=[],e&&t.push(nD(e)),r.next=4,(0,DN.$6)(t);case 4:case"end":return r.stop()}}),XN)}var aD=r(85389),iD=r(78406);function cD(e){return cD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cD(e)}function lD(){lD=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==cD(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var uD=lD().mark(dD),sD=lD().mark(hD);function fD(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return pD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pD(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function pD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dD(){var e,t,r,n,o,a,i,c;return lD().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=3,(0,DN.qn)(iD.Tw.type);case 3:return e=l.sent,t=e.payload,l.next=7,(0,DN.Ys)(Rl);case 7:r=l.sent,n={},o=fD(r);try{for(o.s();!(a=o.n()).done;)i=a.value,(c=t[i])&&(n[i]=(0,aD.default)(c.position,["lat","lon","amsl","ahl"]))}catch(e){o.e(e)}finally{o.f()}if((0,Gy.Z)(n)){l.next=14;break}return l.next=14,(0,DN.gz)(yT(n));case 14:l.next=0;break;case 16:case"end":return l.stop()}}),uD)}function hD(){var e;return lD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=null;case 1:return t.next=4,(0,DN.Ys)(Wl);case 4:if(!t.sent){t.next=12;break}if(e){t.next=10;break}return t.next=9,(0,DN.rM)(dD);case 9:e=t.sent;case 10:t.next=16;break;case 12:if(!e){t.next=16;break}return t.next=15,(0,DN.al)(e);case 15:e=null;case 16:return t.next=18,(0,DN.qn)([Hl.X8.type,Hl.vA.type,Hl.a_.type,Hl.e5.type,Hl.Fg.type]);case 18:t.next=1;break;case 20:case"end":return t.stop()}}),sD)}var yD,mD=(yD="authentication",function(e){return e.dialogs[yD]&&e.dialogs[yD].open});function vD(e){return vD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vD(e)}var gD=xD().mark(jD),bD=xD().mark(CD),wD=xD().mark(PD),ED=xD().mark(ID),SD=xD().mark(TD),OD=xD().mark(LD);function xD(){xD=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==vD(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function AD(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function kD(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){AD(a,n,o,i,c,"next",e)}function c(e){AD(a,n,o,i,c,"throw",e)}i(void 0)}))}}function jD(){var e,t,r,n;return xD().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,(0,DN.Ys)(tn.Mb);case 3:return e=o.sent,o.next=6,(0,DN.Ys)(tn.a6);case 6:if(t=o.sent,!e||t){o.next=18;break}return o.next=10,(0,DN.RE)(kD(xD().mark((function e(){var t,r;return xD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bn.Z.sendMessage("AUTH-INF");case 3:return t=e.sent,r=t.body,e.abrupt("return",{methods:r.methods||[],required:r.required||!1});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))));case 10:return r=o.sent,o.next=13,(0,DN.RE)(kD(xD().mark((function e(){var t,r;return xD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bn.Z.sendMessage("AUTH-WHOAMI");case 3:return t=e.sent,r=t.body,e.abrupt("return",r.user||"");case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))));case 13:if(n=o.sent,!r){o.next=18;break}return r.user=n,o.next=18,(0,DN.gz)((0,_n.nD)(r));case 18:return o.next=20,(0,DN.qn)(_n.fR.type);case 20:o.next=0;break;case 22:case"end":return o.stop()}}),gD)}function CD(){var e,t,r,n,o;return xD().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,(0,DN.qn)(_n.Fg.type);case 3:if(e=a.sent,t=e.payload,r=t.result,n=t.reason,o=t.user,!r){a.next=13;break}return a.next=9,(0,DN.gz)((0,_n.IF)(o));case 9:return a.next=11,(0,DN.gz)((0,Hu.c)({message:o?"You are now authenticated as ".concat(o):"You are now deauthenticated",semantics:"success"}));case 11:a.next=15;break;case 13:return a.next=15,(0,DN.gz)((0,Hu.x)(n||"Authentication failed"));case 15:a.next=0;break;case 17:case"end":return a.stop()}}),bD)}function PD(){var e;return xD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,DN.Ys)(tn.Mb);case 3:if(t.sent){t.next=6;break}return t.abrupt("break",37);case 6:return t.next=8,(0,DN.Ys)(tn.$8);case 8:if(t.t1=!t.sent,!t.t1){t.next=13;break}return t.next=12,(0,DN.Ys)(tn.xd);case 12:t.t1=!t.sent;case 13:if(t.t0=t.t1,!t.t0){t.next=18;break}return t.next=17,(0,DN.Ys)(mD);case 17:t.t0=!t.sent;case 18:if(!t.t0){t.next=33;break}return e=!1,t.prev=21,t.next=24,(0,DN.RE)(TD);case 24:e=t.sent,t.next=30;break;case 27:t.prev=27,t.t2=t.catch(21);case 30:if(e){t.next=33;break}return t.next=33,(0,DN.gz)(pn());case 33:return t.next=35,(0,DN.gw)(1e3);case 35:t.next=0;break;case 37:case"end":return t.stop()}}),wD,null,[[21,27]])}function ID(){var e,t;return xD().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,DN.Ys)(tn.Mb);case 3:return e=r.sent,r.next=6,(0,DN.Ys)(tn.a6);case 6:if(t=r.sent,!e||!t){r.next=13;break}return r.next=10,(0,DN.Ys)(tn.AV);case 10:if(!r.sent){r.next=13;break}return r.delegateYield(PD(),"t0",13);case 13:return r.next=15,(0,DN.qn)([_n.fR.type,_n.nD.type]);case 15:r.next=0;break;case 17:case"end":return r.stop()}}),ED)}function TD(){var e,t,r;return xD().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,DN.Ys)(tn.Ni);case 2:if(!(e=n.sent)){n.next=11;break}return n.next=6,(0,DN.xN)(yn({method:"jwt",data:e,messageHub:bn.Z}));case 6:if(t=n.sent,!(r=t.value)||!r.result){n.next=10;break}return n.abrupt("return",!0);case 10:case 11:return n.abrupt("return",!1);case 12:case"end":return n.stop()}}),SD)}function LD(){var e;return xD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[jD(),ID(),CD()],t.next=3,(0,DN.$6)(e);case 3:case"end":return t.stop()}}),OD)}var _D=r(290),ZD=r(91238);function ND(e){return ND="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ND(e)}var DD=RD().mark(MD);function RD(){RD=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==ND(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function FD(e){return RD().mark((function t(){var r,n,o,a;return RD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==(r=Object.keys(e)).length){t.next=6;break}return t.next=4,(0,DN.A7)(r[0],e[r[0]]);case 4:t.next=25;break;case 6:if(!(r.length>1)){t.next=25;break}n={};case 8:return t.next=11,(0,DN.qn)(r);case 11:if(o=t.sent,!n[o.type]){t.next=18;break}if(!n[o.type].isRunning()){t.next=17;break}return t.abrupt("continue",8);case 17:delete n[o.type];case 18:if(!(a=e[o.type])){t.next=23;break}return t.next=22,(0,DN.rM)(a,o);case 22:n[o.type]=t.sent;case 23:t.next=8;break;case 25:case"end":return t.stop()}}),t)}))}function MD(e,t){var r,n,o,a=arguments;return RD().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r=a.length>2&&void 0!==a[2]?a[2]:{},n=r.retryDelay,o=void 0===n?50:n;case 1:return i.prev=2,i.next=5,(0,DN.gz)(e,t);case 5:return i.abrupt("break",14);case 8:return i.prev=8,i.t0=i.catch(2),i.next=12,(0,DN.gw)(o);case 12:i.next=1;break;case 14:case"end":return i.stop()}}),DD,null,[[2,8]])}function UD(e){return UD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UD(e)}function GD(){GD=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==UD(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var VD=GD().mark(zD),BD=GD().mark(HD),WD=GD().mark(qD);function zD(){var e,t,r,n,o,a,i;return GD().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,DN.RE)(bn.Z.query.getShowConfiguration);case 2:if(e=c.sent,t=(0,Na.Z)(e,"start"),r=t.authorized,n=t.clock,o=t.time,a=t.method,i=t.uavIds,!(0,_D.Z)(o)&&!(0,Be.default)(o)||!(0,vy.Z)(a)||!Array.isArray(i)){c.next=15;break}return c.next=7,(0,DN.gz)((0,Uy.YN)(Boolean(r)));case 7:return c.next=9,(0,DN.gz)((0,Uy.Ae)(a));case 9:return c.next=11,(0,DN.gz)((0,Uy.qp)((0,ZD.default)(i||[],Be.default)));case 11:return c.next=13,(0,DN.gz)((0,Uy.qv)({clock:n,time:o}));case 13:c.next=16;break;case 15:throw new TypeError("Invalid configuration object received from server");case 16:case"end":return c.stop()}}),VD)}function HD(){var e,t,r,n,o,a,i;return GD().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,DN.Ys)(Eo.ce);case 2:return e=c.sent,c.next=5,(0,DN.Ys)(Eo.R9);case 5:return t=c.sent,c.next=8,(0,DN.Ys)(go.eP);case 8:return r=c.sent,c.next=11,(0,DN.Ys)(Eo.nJ);case 11:return n=c.sent,c.next=14,(0,DN.Ys)(Eo.OF);case 14:return o=c.sent,c.next=17,(0,DN.Ys)(Eo.ei);case 17:return a=c.sent,i="auto"===n?(0,ZD.default)(r||[],Be.default):[],c.next=21,(0,DN.RE)(bn.Z.execute.setShowConfiguration,{start:{authorized:e,clock:t,time:(0,Be.default)(o)?null:o,method:n,uavIds:i},duration:a});case 21:return c.next=23,(0,DN.gz)((0,Uy.qp)(i));case 23:case"end":return c.stop()}}),BD)}function qD(e){var t,r;return GD().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,r=!1,n.next=4,(0,DN.gz)((0,Uy.o6)("inProgress"));case 4:if(n.prev=4,"fromServer"!==t&&"toClient"!==t){n.next=11;break}return n.next=8,zD();case 8:r=!0,n.next=19;break;case 11:if("toServer"!==t&&"fromClient"!==t){n.next=17;break}return n.next=14,HD();case 14:r=!0,n.next=19;break;case 17:return n.next=19,(0,DN.gz)((0,Uy.o6)("syncInProgress"));case 19:n.next=25;break;case 21:n.prev=21,n.t0=n.catch(4),r=!1;case 25:return n.next=27,(0,DN.gz)((0,Uy.o6)(r?"synced":"error"));case 27:case"end":return n.stop()}}),WD,null,[[4,21]])}const YD=FD(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},Uy.B8,qD));var $D=r(49704),KD=r(8774);function XD(e){return XD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XD(e)}function QD(){QD=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==XD(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var JD=QD().mark(eR);function eR(e){var t,r,n,o,a;return QD().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.maxLengthInSeconds,!(r=(0,KD.Q)())){i.next=12;break}if(i.prev=3,!(n=(0,$D.decode)(r))||"number"!=typeof n.exp){i.next=8;break}return i.next=8,(0,DN.gz)((0,mc.us)(1e3*n.exp));case 8:i.next=12;break;case 10:i.prev=10,i.t0=i.catch(3);case 12:if(!("number"==typeof t&&t>0)){i.next=15;break}return i.next=15,(0,DN.gz)((0,mc.c0)(t));case 15:return i.next=17,(0,DN.Ys)((function(e){return e.session.expiresAt}));case 17:if(!((o=i.sent)&&"number"==typeof o&&o>=0)){i.next=27;break}if(!((a=o-Date.now())>0)){i.next=23;break}return i.next=23,(0,DN.gw)(a);case 23:return i.next=25,(0,DN.gz)((0,mc.x2)());case 25:return i.next=27,(0,DN.gz)(cn());case 27:case"end":return i.stop()}}),JD,null,[[3,10]])}r(39714);var tR=r(17310);function rR(e){return rR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rR(e)}function nR(){nR=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==rR(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var oR=nR().mark(aR);function aR(){var e,t,r,n;return nR().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=kx.uN.toString(),t=kx.S8.toString();case 2:return o.next=5,(0,DN.qn)([e,t]);case 5:if(r=o.sent,!(n=iR())){o.next=18;break}o.t0=r.type,o.next=o.t0===e?11:o.t0===t?14:17;break;case 11:return n.resetZoom(),lR(),o.abrupt("break",18);case 14:return cR(n,r.payload),lR(),o.abrupt("break",18);case 17:return o.abrupt("break",18);case 18:o.next=2;break;case 20:case"end":return o.stop()}}),oR)}function iR(){if(xx.current){var e=xx.current.components;return e?e["advanced-camera-controls"]:null}return null}function cR(e,t){var r={lookAt:(0,tR.N)(t)};e.startTransitionTo(r)}function lR(){var e=Ax();e&&e.focus&&e.focus()}var uR=function(e){return!e.tour.seen&&!e.tour.isOpen},sR=r(60942);function fR(e){return fR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fR(e)}function pR(){pR=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==fR(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var dR=pR().mark(hR);function hR(){return pR().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,DN.gw)(3e3);case 2:return e.next=4,(0,DN.Ys)(uR);case 4:if(!e.sent){e.next=8;break}return e.next=8,(0,DN.gz)((0,sR.e_)());case 8:case"end":return e.stop()}}),dR)}r(83753);var yR=r(30797),mR=r(65343),vR=r(31467);function gR(e){return gR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gR(e)}function bR(){bR=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==gR(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var wR=bR().mark(NR),ER=bR().mark(DR),SR=bR().mark(RR);function OR(e){return function(e){if(Array.isArray(e))return IR(e)}(e)||kR(e)||PR(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xR(e,t){return jR(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||PR(e,t)||AR()}function AR(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function kR(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function jR(e){if(Array.isArray(e))return e}function CR(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=PR(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function PR(e,t){if(e){if("string"==typeof e)return IR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?IR(e,t):void 0}}function IR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var TR=function(e){return e.toJSON()},LR=function(e){return(0,yO.Z)(e,TR)};function _R(e,t,r){var n=r.warnThreshold,o=r.goneThreshold,a=e?t-e:6e8;return a>r.forgetThreshold?vR.y.FORGOTTEN:a>o?vR.y.GONE:a>n?vR.y.INACTIVE:vR.y.ACTIVE}function ZR(e){return(0,yR.GG)((function(t){var r=null,n={};function o(){(0,Gy.Z)(n)?r=null:(t(["updated",n]),r=setTimeout(o,500)),n={}}var a={uavsAdded:e.uavsAdded.add((function(e){var r,n={},o=CR(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;void 0!==a.id&&(a.age=vR.y.ACTIVE,n[a.id]=a)}}catch(e){o.e(e)}finally{o.f()}t(["added",n])})),uavsRemoved:e.uavsRemoved.add((function(e){var r,o=[],a=CR(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;void 0!==i.id&&(o.push(i),delete n[i.id])}}catch(e){a.e(e)}finally{a.f()}t(["removed",o])})),uavsUpdated:e.uavsUpdated.add((function(e){var t,a=CR(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n[i.id]=i}}catch(e){a.e(e)}finally{a.f()}null===r&&(o(),r=setTimeout(o,500))}))};return function(){e.uavsAdded.detach(a.uavsAdded),e.uavsRemoved.detach(a.uavsRemoved),e.uavsUpdated.detach(a.uavsUpdated),null!==r&&clearTimeout(r)}}))}function NR(e){var t,r,n,o,a,i,c,l,u,s,f,p,d,h,y,m,v,g,b,w,E,S,O,x,A,k;return bR().wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return t=new Map,r=!1,j.next=4,(0,DN.RE)(ZR,e);case 4:i=j.sent;case 5:return j.next=8,(0,DN.qn)(i);case 8:c=j.sent,l=jR(C=c)||kR(C)||PR(C)||AR(),u=l[0],s=l.slice(1),o=null,a=null,r=t.size>0,n=!1,j.t0=u,j.next="added"===j.t0?19:"removed"===j.t0?23:"updated"===j.t0?28:32;break;case 19:return o=LR(s[0]),j.next=22,(0,DN.gz)((0,iD.UF)(o));case 22:return j.abrupt("break",33);case 23:return a=s[0].map((function(e){return e.id})),j.next=26,(0,DN.gz)((0,iD.cS)(a));case 26:if(r){f=CR(a);try{for(f.s();!(p=f.n()).done;)d=p.value,t.delete(d)}catch(e){f.e(e)}finally{f.f()}}return j.abrupt("break",33);case 28:return o=LR(s[0]),j.next=31,(0,DN.gz)((0,iD.Tw)(o));case 31:return j.abrupt("break",33);case 32:case 33:if(o)if(r)for(w=0,E=Object.entries(o);w<E.length;w++)S=xR(E[w],2),O=S[0],x=S[1],A=x.errors.length>0?Math.max.apply(Math,OR(x.errors)):0,(0,mR.L)(A)?(k=t.get(O),((0,Be.default)(k)||k<A)&&(t.set(O,A),n=!0)):t.has(O)&&t.delete(O);else for(h=0,y=Object.entries(o);h<y.length;h++)m=xR(y[h],2),v=m[0],g=m[1],b=g.errors.length>0?Math.max.apply(Math,OR(g.errors)):0,(0,mR.L)(b)&&(t.set(v,b),n=!0,r=!0);if(!(r&&t.size<=0)){j.next=37;break}return j.next=37,(0,DN.gz)((0,Yi.W9)());case 37:if(!n){j.next=40;break}return j.next=40,(0,DN.gz)((0,Yi.qH)());case 40:j.next=5;break;case 42:case"end":return j.stop()}var C}),wR)}function DR(e){var t,r,n,o,a,i,c,l,u,s,f,p;return bR().wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=3,(0,DN.gw)(1e3);case 3:return d.next=5,(0,DN.Ys)(to.L8);case 5:return t=d.sent,d.next=8,(0,DN.Ys)(to.lI);case 8:return r=d.sent,d.next=11,(0,DN.Ys)(tn.iO);case 11:if(d.t0=d.sent,d.t0){d.next=14;break}d.t0=0;case 14:return n=d.t0,d.next=17,(0,DN.Ys)($t.cT);case 17:o=d.sent,a=Date.now()+n,i={},c=[],l=CR(r);try{for(l.s();!(u=l.n()).done;)s=u.value,(f=t[s])&&((p=_R(f.lastUpdated,a,o))===vR.y.FORGOTTEN?c.push(s):p!==f.age&&(i[s]=p))}catch(e){l.e(e)}finally{l.f()}if((0,Gy.Z)(i)){d.next=26;break}return d.next=26,(0,DN.gz)((0,iD.UR)(i));case 26:c.length>0&&e.removeUAVsByIds(c),d.next=0;break;case 29:case"end":return d.stop()}}),ER)}function RR(e){return bR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,DN.$6)([NR(e),DR(e)]);case 2:case"end":return t.stop()}}),SR)}r(29253);function FR(e){return FR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FR(e)}function MR(){MR=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==FR(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var UR=MR().mark(WR),GR=MR().mark(zR),VR=MR().mark(HR),BR=Symbol("STOP");function WR(e,t){var r,n,o,a,i,c,l,u;return MR().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,(0,DN.qn)(e);case 3:if((o=s.sent)!==BR){s.next=6;break}return s.abrupt("break",54);case 6:return a=o.executor,i=o.payload,c=o.selector,l=o.target,r=void 0,n=void 0,s.prev=9,s.next=12,(0,DN.gz)((0,wu.lS)(l));case 12:if(!c){s.next=18;break}return s.next=15,(0,DN.Ys)(c,l);case 15:s.t0=s.sent,s.next=19;break;case 18:s.t0=void 0;case 19:return u=s.t0,s.next=22,(0,DN.RE)(a,{uavId:l,payload:i,data:u});case 22:r="success",s.next=29;break;case 25:s.prev=25,s.t1=s.catch(9),r="failure",n=s.t1;case 29:return s.prev=29,s.next=32,(0,DN.By)()&&!r;case 32:if(!s.sent){s.next=34;break}r="cancelled";case 34:return s.finish(29);case 35:s.t2=r,s.next="success"===s.t2?38:"failure"===s.t2?41:"cancelled"===s.t2?47:50;break;case 38:return s.next=40,(0,DN.gz)((0,wu.LS)(l));case 40:return s.abrupt("break",52);case 41:return t.push(l),s.next=44,(0,DN.gz)((0,wu.dJ)(l));case 44:return s.next=46,(0,DN.gz)((0,wu.uh)(l,(0,Fr.VK)(n.message||n)));case 46:return s.abrupt("break",52);case 47:return s.next=49,(0,DN.gz)((0,wu.tO)(l));case 49:case 50:return s.abrupt("break",52);case 52:s.next=0;break;case 54:case"end":return s.stop()}}),UR,null,[[9,25,29,35]])}function zR(e,t){var r,n,o,a,i,c,l,u,s,f,p,d,h,y,m,v=arguments;return MR().wrap((function(g){for(;;)switch(g.prev=g.next){case 0:if(r=v.length>2&&void 0!==v[2]?v[2]:{},n=r.workerCount,o=void 0===n?8:n,a=e.executor,i=e.selector,a){g.next=5;break}return g.abrupt("return");case 5:return g.next=7,(0,DN.RE)(yR.CE,yR.Ef.fixed(1));case 7:c=g.sent,l=[],u=[],s=!1,f=!1,p=0;case 13:if(!(p<o)){g.next=21;break}return g.next=16,(0,DN.rM)(WR,c,l);case 16:d=g.sent,u.push(d);case 18:p++,g.next=13;break;case 21:if(s){g.next=58;break}return g.next=24,(0,DN.Ys)(lu);case 24:if(h=g.sent,(0,Be.default)(h)){g.next=32;break}return g.next=28,(0,DN.gz)((0,wu.dB)(h));case 28:return g.next=30,MD(c,{executor:a,payload:t.payload,selector:i,target:h});case 30:g.next=56;break;case 32:return g.next=34,(0,DN.Ys)(bu);case 34:return g.sent&&l.length>0&&(0,Xv.g$)(l),g.next=38,(0,DN.Ys)(gu);case 38:if(!(g.sent&&l.length>0)){g.next=46;break}return y=[].concat(l),l.length=0,g.next=44,(0,DN.gz)((0,wu.fS)(y));case 44:g.next=56;break;case 46:return g.next=48,(0,DN.Ys)(au);case 48:if(!(g.sent.length>0)){g.next=54;break}return g.next=52,(0,DN.gw)(500);case 52:g.next=56;break;case 54:s=!0,f=0===l.length;case 56:g.next=21;break;case 58:m=0;case 59:if(!(m<o)){g.next=65;break}return g.next=62,MD(c,BR);case 62:m++,g.next=59;break;case 65:return g.next=67,(0,DN.v_)(u);case 67:return g.abrupt("return",f);case 68:case"end":return g.stop()}}),GR)}function HR(){var e,t,r,n,o,a,i;return MR().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,DN.Ys)(ru);case 2:if((e=c.sent).type){c.next=6;break}return c.abrupt("return");case 6:if(t=Kl(e.type)){c.next=10;break}return c.abrupt("return");case 10:return c.next=12,(0,DN.gz)((0,wu.a)());case 12:return c.prev=12,r=t.workerManager,n=void 0===r?zR:r,c.next=16,(0,DN.S3)({success:(0,DN.RE)(n,t,e),cancelled:(0,DN.qn)(wu.m1)});case 16:return o=c.sent,a=o.cancelled,i=o.success,c.next=21,(0,DN.gz)((0,wu.U9)({cancelled:Boolean(a),success:Boolean(i)}));case 21:c.next=28;break;case 23:return c.prev=23,c.t0=c.catch(12),(0,Fr.S3)(c.t0,"Upload operation"),c.next=28,(0,DN.gz)((0,wu.U9)({cancelled:!1,success:!1}));case 28:case"end":return c.stop()}}),VR,null,[[12,23]])}const qR=FD(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},wu.Bj,HR));var YR=r(93846),$R=(0,Xr.FZ)("weather/loading",(function(e){return bn.Z.query.getWeatherInformation(e)}),{minDelay:500});function KR(e){return KR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KR(e)}function XR(){XR=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==KR(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var QR=XR().mark(JR);function JR(){var e,t,r,n;return XR().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=void 0,o.next=4,(0,DN.Ys)(tn.Mb);case 4:if(!o.sent){o.next=23;break}return e=!1,o.prev=7,o.next=10,(0,DN.gz)((0,iC.IY)(Date.now()));case 10:return o.next=12,(0,DN.Ys)(Te.zn);case 12:return t=o.sent,o.next=15,(0,DN.xN)($R(t));case 15:e=!0,o.next=20;break;case 18:o.prev=18,o.t0=o.catch(7);case 20:if(!e){o.next=23;break}return o.next=23,(0,DN.gz)((0,iC.cO)(Date.now()));case 23:return o.next=25,(0,DN.Ys)(ij);case 25:return r=o.sent,n=r?r+18e5-Date.now():0,o.next=29,(0,DN.S3)({action:(0,DN.qn)([_n.fR.type,YR.v.type]),refresh:(0,DN.gw)(Math.max(n,6e4))});case 29:o.next=0;break;case 31:case"end":return o.stop()}}),QR,null,[[7,18]])}function eF(e){return eF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eF(e)}function tF(){tF=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==eF(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var rF=tF().mark(aF);function nF(){var e,t;return Boolean(null===(e=window)||void 0===e||null===(t=e.bridge)||void 0===t?void 0:t.isElectron)}function oF(){if(nF())return 5001;var e=new URL(window.location.href);return e.port&&e.port.length>0?e.port:"http:"===e.protocol?80:(e.protocol,443)}function aF(){var e,t,r,n,a,i,c,l;return tF().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,DN.Ys)(tn.uF);case 2:if(e=u.sent,!(0,Be.default)(e)){u.next=22;break}if(t=o.Z.server,r=t.connectAutomatically,n=t.hostName,a=t.isSecure,i=t.port,c=t.protocol,r&&(n||(n=nF()?"localhost":new URL(window.location.href).hostname),!(0,Be.default)(i)&&i||(i=oF())),i=Number.parseInt((0,Be.default)(i)?o.Z.server.port:i,10),Number.isNaN(i)&&(i=en.SW?5001:443),c){u.next=19;break}u.t0=i,u.next=80===u.t0||443===u.t0?12:5e3===u.t0?14:5001===u.t0?16:18;break;case 12:case 14:return c=en.b$.WS,u.abrupt("break",19);case 16:return c=en.b$.TCP,u.abrupt("break",19);case 18:c=en.SW?en.b$.TCP:en.b$.WS;case 19:return l={active:r,protocol:c,hostName:n,port:i,isSecure:a||443===i},u.next=22,(0,DN.gz)(sn(l));case 22:case"end":return u.stop()}}),rF)}function iF(e){return iF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iF(e)}function cF(){cF=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==iF(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var lF=cF().mark(uF);function uF(){var e,t,r;return cF().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(window?window.bridge:null)||{},t=e.localServer,r=[YN(),hD(),aF(),LD(),YD(),aR(),RR(Ps.ZP),qR(),JR()],t&&t.search&&r.push(oD(t.search)),(0,Ts.U6)("beacons")&&r.push(GN()),Ts.Vs&&r.push(eR(o.Z.session)),o.Z.tour&&r.push(hR()),n.next=8,(0,DN.$6)(r);case 8:case"end":return n.stop()}}),lF)}var sF=r(59546),fF=r(40920),pF=r(35442);var dF=(0,Ct.createThemeProvider)({primaryColor:function(e){return e?sF.Z:Qh.Z},secondaryColor:function(e){return e?fF.Z:pF.Z}}),hF=function(){var e=(0,Ct.isThemeDark)((0,ar.Z)());return(0,Ct.useConditionalCSS)('/* dark mode specific stylesheet tweaks */\n\n/* Adjust error panel for dark mode */\n.error-panel {\n  background: #424242 !important;\n  color: white;\n}\n\n/* Change the background color of the workbench and its panels in dark mode */\n.lm_goldenlayout {\n  background: #333;\n}\nbody .lm_content {\n  background-color: #424242;\n  border: 1px solid #777;\n}\n\n/* Fix the background color of the panel bodies and the tabs */\nbody .lm_header .lm_tab {\n  background-color: #3b3b3b;\n  border-color: #777;\n}\nbody .lm_header .lm_tab:hover {\n  color: white;\n}\nbody .lm_header .lm_tab.lm_active {\n  background-color: #424242;\n  color: white;\n}\n\n/* Change the color of splitters */\n.lm_splitter {\n  background: #424242;\n}\n.lm_splitter:hover,\n.lm_splitter.lm_dragging {\n  background: #222;\n}\n\n/* OpenLayers widget customizations */\n.ol-control button,\n.ol-control button:hover,\n.ol-control button:focus {\n  background-color: #424242 !important;\n  color: #fff !important;\n}\n.ol-attribution {\n  background-color: rgba(68, 68, 68, 0.8) !important;\n  color: #fff !important;\n}\n.ol-attribution ul {\n  color: rgba(255, 255, 255, 0.7) !important;\n  text-shadow: none;\n}\n.ol-attribution ul a,\n.ol-attribution ul a:hover,\n.ol-attribution ul a:active,\n.ol-attribution ul a:visited {\n  color: #fff !important;\n  text-decoration: none;\n}\n.ol-mouse-position {\n  background-color: #424242 !important;\n  color: #fff !important;\n}\n.ol-scale-line {\n  background-color: #424242 !important;\n  border-color: #424242 !important;\n}\n.ol-scale-line-inner {\n  border-color: #fff !important;\n  color: #fff !important;\n}\n\n/* Keyboard tag styling */\nkbd {\n  background: #616161 !important;\n  box-shadow: 1px 1px 1px #333;\n  color: #ddd !important;\n}\n\nkbd:hover,\nkbd:hover * {\n  color: white !important;\n}\n\n/* Color picker customization */\n.swatches-picker > div:first-child > div:first-child {\n  background: #222 !important;\n}\n\n/* The rest comes directly from the dark mode stylesheet of react-flexible-workbench */\n.lm_dragProxy .lm_content {\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.9);\n}\n.lm_dropTargetIndicator {\n  box-shadow: inset 0 0 30px #000000;\n  outline: 1px dashed #cccccc;\n  transition: all 200ms ease;\n}\n.lm_dropTargetIndicator .lm_inner {\n  background: #000000;\n  opacity: 0.2;\n}\n.lm_header .lm_tab .lm_close_tab {\n  width: 11px;\n  height: 11px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAATElEQVR4nG3OwQ0DMQwDwZGRBtR/j1YJzMc5+IDoR+yCVO29g+pu981MFgqZmRdAfU7+CYWcbF11LwALjpBL0N0qybNx/RPU+gOeiS/+XCRwDlTgkQAAAABJRU5ErkJggg==);\n  background-position: center center;\n  background-repeat: no-repeat;\n  top: 4px;\n  right: 6px;\n  opacity: 0.4;\n}\n.lm_header .lm_tab .lm_close_tab:hover {\n  opacity: 1;\n}\n.lm_header .lm_controls .lm_tabdropdown:before {\n  color: #ffffff;\n}\n.lm_controls .lm_popout {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAPklEQVR4nI2Q0QoAIAwCNfr/X7aXCpGN8snBdgejJOzckpkxs9jR6K6T5JpU0nWl5pSXTk7qwh8SnNT+CAAWCgkKFpuSWsUAAAAASUVORK5CYII=);\n}\n.lm_controls .lm_maximise {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKElEQVR4nGP8////fwYCgImQAgYGBgYWKM2IR81/okwajIpgvsMbVgAwgQYRVakEKQAAAABJRU5ErkJggg==);\n}\n.lm_controls .lm_close {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAQUlEQVR4nHXOQQ4AMAgCQeT/f6aXpsGK3jSTuCVJAAr7iBdoAwCKd0nwfaAdHbYERw5b44+E8JoBjEYGMBq5gAYP3usUDu2IvoUAAAAASUVORK5CYII=);\n}\n.lm_maximised .lm_header {\n  background-color: #333;\n}\n.lm_maximised .lm_controls .lm_maximise {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJ0lEQVR4nGP8//8/AzGAiShVI1YhCwMDA8OsWbPwBmZaWhoj0SYCAN1lBxMAX4n0AAAAAElFTkSuQmCC);\n}\n.lm_transition_indicator {\n  background-color: #333;\n  border: 1px dashed #555;\n}\n.lm_popin .lm_icon {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC);\n  background-position: center center;\n  background-repeat: no-repeat;\n  border-left: 1px solid #eeeeee;\n  border-top: 1px solid #eeeeee;\n  opacity: 0.7;\n}\n.lm_popin:hover .lm_icon {\n  opacity: 1;\n}\n\n/* Dark mode support for the Markdown editor in the "Field notes" panel */\n.EasyMDEContainer .CodeMirror {\n  color: white !important;\n  background-color: #424242 !important;\n}\n.EasyMDEContainer .CodeMirror-cursor {\n  border-color: #777 !important;\n}\n',e),null};const yF=(0,s.$j)((function(e){return{type:e.settings.display.theme}}))(dF);function mF(e){return mF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mF(e)}function vF(){vF=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==mF(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}var gF=vF().mark(EF);function bF(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return wF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wF(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function wF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EF(e){var t,r,n,o,a,i,c,l,u,s;return vF().wrap((function(f){for(;;)switch(f.prev=f.next){case 0:if(t=e.uavId,r=e.payload,o=(n=null!=r?r:{}).items,a=n.meta,Array.isArray(o)&&0!==o.length){f.next=4;break}return f.abrupt("return");case 4:i=bF(o),f.prev=5,i.s();case 7:if((c=i.n()).done){f.next=13;break}return l=c.value,u=l.name,s=l.value,f.next=11,(0,DN.RE)(bn.Z.execute.setParameter,{uavId:t,name:u,value:s});case 11:f.next=7;break;case 13:f.next=18;break;case 15:f.prev=15,f.t0=f.catch(5),i.e(f.t0);case 18:return f.prev=18,i.f(),f.finish(18);case 21:if(!(null!=a?a:{}).shouldReboot){f.next=25;break}return f.next=25,(0,DN.RE)(bn.Z.execute.resetUAV,t);case 25:case"end":return f.stop()}}),gF,null,[[5,15,18,21]])}const SF={executor:EF,title:"Upload parameters",type:Eu};function OF(){OF=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==PF(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function xF(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function AF(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){xF(a,n,o,i,c,"next",e)}function c(e){xF(a,n,o,i,c,"throw",e)}i(void 0)}))}}function kF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kF(Object(r),!0).forEach((function(t){CF(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PF(e){return PF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PF(e)}function IF(){return(IF=AF(OF().mark((function e(t){var r,n,o,a;return OF().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uavId,n=t.data,o=bn.Z.createCancelToken(),(a=bn.Z.execute.uploadDroneShow({uavId:r,data:n},{cancelToken:o}))[yR.n1]=function(){return o.cancel({allowFailure:!0})},e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var TF={executor:function(e){return IF.apply(this,arguments)},selector:function(e,t){var r=(0,go.G5)(e),n=r?r[t]:void 0;if((0,Be.default)(n))throw new Error("UAV ".concat(t," is not in the current mission"));var o=(0,Eo.dx)(e);if((0,Eo.be)(e)&&("object"!==PF(o)||!Array.isArray(o.origin)))throw new TypeError("Show coordinate system not specified");var a=function(e){var t=(0,go.N)(e),r=(0,Eo.iP)(e),n={version:1,enabled:!0,polygons:r?[{isInclusion:!0,points:r}]:[],rallyPoints:[],maxAltitude:(0,Eo.YO)(e),maxDistance:(0,Eo.ib)(e)};return t!==yo.i8.KEEP_CURRENT&&(n.action=t),n}(e),i=(0,Eo.iG)(e);if(!i||!Array.isArray(i))throw new Error("Invalid show configuration in state store");var c=i[n];if(!c||"object"!==PF(c))throw new Error("No specification for UAV ".concat(t," (index ").concat(n,")"));var l=c.settings;if("object"!==PF(l))throw new TypeError("Invalid show configuration for UAV ".concat(t," (index ").concat(n,") in state store"));var u=(0,Eo.dN)(e).id,s=(0,Eo.QL)(e);return jF(jF(jF({},(0,Eo.fy)(e)),l),{},{amslReference:s,coordinateSystem:o,geofence:a,mission:{id:u,index:n,displayName:"".concat(u||"drone-show"," / ").concat(n+1),numDrones:i.length}})},scope:Yl,title:"Upload show data",type:Vy.oe};const LF=TF;function _F(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ZF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZF(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ZF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const NF=function(){var e=[SF,LF].map((function(e){return function(e){var t=null==e?void 0:e.type;if("string"!=typeof t||0===t.length)throw new Error("Job specification does not have a type");if($l[t])throw new Error("Upload job type ".concat(t," is already registered"));if(!e.executor)throw new Error("Job specification does not have an executor");return $l[t]=e,function(){delete $l[t]}}(e)}));return e.reverse(),function(){var t,r=_F(e);try{for(r.s();!(t=r.n()).done;){(0,t.value)()}}catch(e){r.e(e)}finally{r.f()}}};r(26592),r(96133);function DF(e){return DF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DF(e)}function RF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MF(e,t){return MF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MF(e,t)}function UF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=VF(e);if(t){var o=VF(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return GF(this,r)}}function GF(e,t){if(t&&("object"===DF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function VF(e){return VF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VF(e)}function BF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(){WF=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==DF(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function zF(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function HF(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){zF(a,n,o,i,c,"next",e)}function c(e){zF(a,n,o,i,c,"throw",e)}i(void 0)}))}}r(66901),r(23008),r(38439),r(144);var qF=(0,d.ZP)((function(){return Promise.all([r.e(276),r.e(851)]).then(r.bind(r,15815))})),YF={display:"flex",flexDirection:"column",width:"100%",height:"100%"},$F={display:"flex",alignItems:"stretch",flexGrow:1,contain:"size"};(0,Is.t6)().then((function(){NF(),Is.sq.run(uF)}));var KF=function(e){var t=e.isFixed,r=e.showSidebar;return c.createElement("div",{className:(0,n.default)(t&&"workbench-fixed"),style:$F},r?c.createElement(w_,{workbench:zx}):null,c.createElement(u.Lp,{workbench:zx}))};KF.propTypes={isFixed:i().bool,showSidebar:i().bool};var XF=(0,s.$j)((function(e){return{isFixed:Aj(e),showSidebar:kj(e)}}),null)(KF),QF=function(e){var t,r,n=e.onFirstRender;return c.createElement(p.r,{persistor:Is.Dj,onBeforeLift:(r=n,HF(WF().mark((function e(){var t;return WF().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=Is.ZP.getState())&&t.workbench&&t.workbench.state&&zx.restoreState(t.workbench.state),r&&r();case 3:case"end":return e.stop()}}),e)}))))},c.createElement(c.Fragment,null,c.createElement(h.ZP,null),c.createElement(hF,null),c.createElement(cI,null),c.createElement("div",{style:YF},c.createElement(Dj,{perspectives:yA,workbench:zx}),c.createElement(XF,null),(null===o.Z||void 0===o.Z||null===(t=o.Z.ribbon)||void 0===t?void 0:t.label)&&c.createElement(Jj,o.Z.ribbon),c.createElement(EI,null)),c.createElement(iP,null),c.createElement(zC,null),c.createElement(NN,null),c.createElement(YC,null),c.createElement(Mi.AppSettingsDialog,null),c.createElement(Mi.AuthenticationDialog,null),c.createElement(Mi.DeauthenticationDialog,null),c.createElement(Mi.FeatureEditorDialog,null),c.createElement(Mi.FlyToTargetDialog,null),c.createElement(Mi.GeofenceSettingsDialog,null),c.createElement(Mi.GlobalErrorDialog,null),c.createElement(Mi.LayerSettingsDialog,null),c.createElement(Mi.PromptDialog,null),c.createElement(Mi.ServerSettingsDialog,null),Ts.Vs&&c.createElement(Mi.SessionExpiryDialog,null),c.createElement(Mi.TimeSyncDialog,null),c.createElement(_T,null),c.createElement(jP,null),c.createElement(bI,null),c.createElement(ZI,null),c.createElement(MI,null),c.createElement(QT,null),c.createElement(t_,null),c.createElement(aL,null),c.createElement(LZ,null),c.createElement(PN,null),c.createElement(_N,null),c.createElement(f.VW,{placement:o.Z.toastPlacement},c.createElement(j_,null)),o.Z.tour&&c.createElement(qF,null)))};QF.propTypes={onFirstRender:i().func};var JF=function(){return c.createElement("div",{className:"drag-proxy"})},eM=function(e){var t;return t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MF(e,t)}(i,t);var r,n,o,a=UF(i);function i(){return RF(this,i),a.apply(this,arguments)}return r=i,(n=[{key:"render",value:function(){return this.props.glDragging?c.createElement(l.ErrorBoundary,{FallbackComponent:Fr.qL,onReset:Is.iG},c.createElement(JF,null)):c.createElement(l.ErrorBoundary,{FallbackComponent:Fr.qL,onReset:Is.iG},c.createElement(s.zt,{store:Is.ZP},c.createElement(yF,null,c.createElement(Ps.ki.Provider,{value:Ps.ZP},c.createElement(e,this.props)))))}}])&&FF(r.prototype,n),o&&FF(r,o),Object.defineProperty(r,"prototype",{writable:!1}),i}(c.Component),BF(t,"displayName","WorkbenchRoot"),BF(t,"propTypes",{glDragging:i().bool}),t};zx.hoc=eM;const tM=eM(QF)},23987:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(86010),o=r(45697),a=r.n(o),i=r(67294),c=r(41120),l=r(28889),u=r(41459),s=r(22091),f=(0,c.Z)((function(e){return{root:{marginTop:e.spacing(.5),padding:"0 2px",textAlign:"center",userSelect:"none",width:"100%"},batteryFull:{color:u.ZP.success,fontWeight:"bold"},batteryWarning:{backgroundColor:u.ZP.warning,borderRadius:"".concat(2*e.shape.borderRadius,"px"),color:e.palette.getContrastText(u.ZP.warning)},batteryError:{backgroundColor:u.ZP.error,borderRadius:"".concat(2*e.shape.borderRadius,"px"),color:e.palette.getContrastText(u.ZP.error),fontWeight:"bold"}}}),{name:"BatteryIndicator"}),p=function(e){var t=e.charging,r=e.className,o=e.cellCount,a=e.formatter,c=e.percentage,u=e.voltage,s=a.getBatteryStatus(u,c,o),p=a.getBatteryLabel(u,c,o),d=a.getBatteryIcon(c,s,t),h=f(),y=(0,n.default)(r,h.root,h["battery".concat(s)]);return i.createElement(l.Z,{fontSize:"small",className:y},d,p)};p.propTypes={cellCount:a().number,className:a().string,charging:a().bool,formatter:a().instanceOf(s.C),percentage:a().oneOfType([a().number,a().string]),voltage:a().oneOfType([a().number,a().string])},p.defaultProps={formatter:s.V};const d=p},18604:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});r(47941),r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(47042),r(68309),r(91038),r(74916),r(77601),r(19601),r(57327),r(41539);var n=r(45697),o=r.n(n),a=r(67294),i=r(282),c=["accepts","children","filter","multiple","onSelected","onSelectionFailed"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=a.forwardRef((function(e,t){var r=e.accepts,n=e.children,o=e.filter,s=e.multiple,p=e.onSelected,d=e.onSelectionFailed,h=f(e,c),y=u((0,a.useState)(0),2),m=y[0],v=y[1],g=(0,a.useCallback)((function(e){(e=e&&e.files?s?e.files:e.files[0]:null)&&(!r||r(e)?p&&p(e):d&&d(e),v(m+1))}),[r,m,s,p,d]);return a.createElement(i.Z,l({ref:t,component:"label"},h),a.createElement("input",{key:m,hidden:!0,type:"file",accept:o,multiple:s,onChange:function(e){return g(e.target)}}),n)}));p.propTypes={accepts:o().func,children:o().node,filter:o().arrayOf(o().string),multiple:o().bool,onSelected:o().func,onSelectionFailed:o().func};const d=p},35183:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337),r(19601),r(26833);var n=r(86010),o=r(45697),a=r.n(o),i=r(67294),c=r(41120),l=r(73435),u=["children","className","inline","hollow","status"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function f(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e,t){var r=(0,l.colorForStatus)(e);return{backgroundColor:r,color:t.palette.getContrastText(r)}},m=function(e){return{color:(0,l.colorForStatus)(e)}},v={animation:"$flash 0.5s infinite",animationDirection:"alternate"},g=(0,c.Z)((function(e){return{root:{borderRadius:e.spacing(1),color:e.palette.getContrastText.primary,fontSize:"small",overflow:"hidden",padding:"0 ".concat(e.spacing(.5)),textAlign:"center",textTransform:"uppercase",userSelect:"none",whiteSpace:"nowrap"},fullWidth:{width:"100%"},"status-off":{backgroundColor:e.palette.action.selected},"status-info":y(l.Status.INFO,e),"status-waiting":y(l.Status.WAITING,e),"status-next":y(l.Status.NEXT,e),"status-success":y(l.Status.SUCCESS,e),"status-skipped":y(l.Status.SKIPPED,e),"status-warning":d(d({},y(l.Status.WARNING,e)),{},{fontWeight:"bold"}),"status-rth":d(d(d({},y(l.Status.RTH,e)),v),{},{fontWeight:"bold"}),"status-error":d(d({},y(l.Status.ERROR,e)),{},{fontWeight:"bold"}),"status-critical":d(d(d({},y(l.Status.CRITICAL,e)),v),{},{fontWeight:"bold"}),"status-hollow-off":{color:e.palette.text.secondary},"status-hollow-info":m(l.Status.INFO),"status-hollow-waiting":m(l.Status.WAITING),"status-hollow-next":m(l.Status.NEXT),"status-hollow-success":m(l.Status.SUCCESS),"status-hollow-skipped":m(l.Status.SKIPPED),"status-hollow-warning":d(d({},m(l.Status.WARNING)),{},{fontWeight:"bold"}),"status-hollow-rth":d(d(d({},m(l.Status.RTH)),v),{},{fontWeight:"bold"}),"status-hollow-error":d(d({},m(l.Status.ERROR)),{},{fontWeight:"bold"}),"status-hollow-critical":d(d(d({},m(l.Status.CRITICAL)),v),{},{fontWeight:"bold"}),"@keyframes flash":{"0%, 49%":{opacity:.5},"50%, 100%":{opacity:1}}}}),{name:"StatusPill"}),b=function(e){var t=e.children,r=e.className,o=e.inline,a=e.hollow,c=e.status,l=f(e,u),p=g();return i.createElement("div",s({className:(0,n.default)(r,p.root,!o&&p.fullWidth,a?p["status-hollow-".concat(c)]:p["status-".concat(c)])},l),t)};b.propTypes={children:a().node,className:a().string,hollow:a().bool,inline:a().bool,status:a().oneOf(Object.values(l.Status))},b.defaultProps={status:l.Status.INFO};const w=b},32779:(e,t,r)=>{"use strict";r.d(t,{Z:()=>k});r(92222),r(21249),r(19601);var n=r(67294),o=r(69653),a=r(20907),i=r(9198),c=r(29791),l=r(96734),u=r(34446),s=r(96230),f=r(13796),p=r(49604),d=r(18334),h=r(32315),y=r(45514),m=r(96984),v=r(8397),g=r(59546),b=r(71933),w=r(75659),E=r(35442);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}var O=[a.Z,i.Z,c.Z,l.Z,u.Z,s.Z,f.Z,p.Z,d.Z,h.Z,y.Z,m.Z,v.Z,g.Z,b.Z,w.Z,E.Z],x=["700","500","300"],A={colors:O.map((function(e){return x.map((function(t){return e[t]}))})).concat([["#000000","#808080","#FFFFFF"]]),width:490,height:176};const k=function(e){return n.createElement(o.FJ,S({className:"borderless"},A,e))}},22091:(e,t,r)=>{"use strict";r.d(t,{C:()=>R,V:()=>F});r(56977);var n,o=r(27601),a=r(67294),i=r(16746),c=r(85241),l=r(46266),u=r(98792),s=r(46033),f=r(70950),p=r(14823),d=r(56838),h=r(95082),y=r(39824),m=r(44359),v=r(47108),g=r(49781),b=r(82703),w=r(72033),E=r(88418),S=r(73435),O=r(63618),x=r(84038);function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=(C(n={},O.A.FULL,10),C(n,O.A.NEAR_FULL,9),C(n,O.A.OK,8),C(n,O.A.WARNING,3),C(n,O.A.ERROR,0),C(n,O.A.UNKNOWN,11),n),I={marginLeft:-8,marginTop:-2,verticalAlign:"bottom"},T={},L=[a.createElement(i.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(i.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(c.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(l.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(u.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(u.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(s.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(f.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(f.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(p.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(d.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement("span",{key:"batteryIcon",style:T}," ")],_=[a.createElement(i.Z,{key:"batteryIcon"}),a.createElement(i.Z,{key:"batteryIcon"}),a.createElement(c.Z,{key:"batteryIcon"}),a.createElement(l.Z,{key:"batteryIcon"}),a.createElement(u.Z,{key:"batteryIcon"}),a.createElement(u.Z,{key:"batteryIcon"}),a.createElement(s.Z,{key:"batteryIcon"}),a.createElement(f.Z,{key:"batteryIcon"}),a.createElement(f.Z,{key:"batteryIcon"}),a.createElement(p.Z,{key:"batteryIcon"}),a.createElement(d.Z,{key:"batteryIcon"}),a.createElement(E.Z,{key:"batteryIcon"})],Z=[a.createElement(h.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(h.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(h.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(y.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(m.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(m.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(v.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(g.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(g.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(b.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement(w.Z,{key:"batteryIcon",fontSize:"small",style:I}),a.createElement("span",{key:"batteryIcon",style:T})],N=[a.createElement(h.Z,{key:"batteryIcon"}),a.createElement(h.Z,{key:"batteryIcon"}),a.createElement(h.Z,{key:"batteryIcon"}),a.createElement(y.Z,{key:"batteryIcon"}),a.createElement(m.Z,{key:"batteryIcon"}),a.createElement(m.Z,{key:"batteryIcon"}),a.createElement(v.Z,{key:"batteryIcon"}),a.createElement(g.Z,{key:"batteryIcon"}),a.createElement(g.Z,{key:"batteryIcon"}),a.createElement(b.Z,{key:"batteryIcon"}),a.createElement(w.Z,{key:"batteryIcon"}),a.createElement(E.Z,{key:"batteryIcon"})],D=function(e,t){return"number"==typeof e?e.toFixed(t):String(e)},R=k((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.settings,a=r.style,i=void 0===a?x.ol.VOLTAGE:a;j(this,e),C(this,"getBatteryIcon",(function(e,t,r){var n=void 0===e?P[t]:Math.round(Math.min(Math.max(e,0),100)/10);return(r?Z:L)[n]})),C(this,"getBatteryLabel",(function(e,r,n){if((0,o.default)(r)){if((0,o.default)(e))return"???";if(t._style===x.ol.FORCED_PERCENTAGE){var a=t._settings.estimatePercentageFromVoltage(e,n);return(0,o.default)(a)?"".concat(D(e,1),"V"):"".concat(D(a,0),"%")}return"".concat(D(e,1),"V")}return t._style!==x.ol.VOLTAGE||(0,o.default)(e)?"".concat(D(r,0),"%"):"".concat(D(e,1),"V")})),C(this,"getBatteryStatus",(function(e,r,n){return t._settings?t._settings.getBatteryStatus(e,r,n):O.A.UNKNOWN})),C(this,"getLargeBatteryIcon",(function(e,t,r){var n=void 0===e?P[t]:Math.round(Math.min(Math.max(e,0),100)/10);return(r?N:_)[n]})),C(this,"getSemanticBatteryStatus",(function(e,r,n){return t._settings?t._settings.getSemanticBatteryStatus(e,r,n):S.Status.OFF})),n instanceof O.h?this._settings=n:this._settings=new O.h(n),this._style=i})),F=new R},41459:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>v,cr:()=>c.colorForStatus,oM:()=>m,tc:()=>h,wL:()=>d});r(43371),r(66992),r(51532),r(41539),r(78783),r(33948),r(47941),r(82526),r(57327),r(38880),r(54747),r(49337),r(41817),r(32165);var n=r(6767),o=r.n(n),a=r(48392),i=r(96984),c=r(73435),l=r(76206);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=f(f({},c.Colors),{},{geofence:"#f00",convexHull:"#fc0",plannedTrajectory:"#08f",positionHold:i.Z.A400}),h=function e(t){return"object"===u(t)?(0,a.Z)(t,e):Object.freeze(o()(t).rgb().array())}(d),y=new Map([[l.zb.CRITICAL,d.seriousWarning],[l.zb.DEBUG,d.off],[l.zb.ERROR,d.error],[l.zb.INFO,d.info],[l.zb.WARNING,d.warning]]),m=function(e){return y.has(e)?y.get(e):d.missing};const v=d},53311:(e,t,r)=>{"use strict";r.d(t,{Z:()=>D});r(47941),r(26699),r(32023),r(68309),r(92222),r(21249),r(2707),r(68304),r(30489),r(41539),r(81299),r(12419),r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(91038),r(47042),r(74916),r(77601);var n=r(73415),o=r(52398),a=r(61295),i=r(45697),c=r.n(i),l=r(67294),u=r(282),s=r(84170),f=r(66856),p=r(29525),d=r(64436),h=r(6562),y=r(96394),m=r(85639),v=r(26209),g=r(62822),b=r(50998),w=r(81860),E=r(95757),S=r(17812),O=r(68239),x=r(286),A=r(36697);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function j(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Z(e);if(t){var o=Z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return L(this,r)}}function L(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(k,e);var t,r,i,c=T(k);function k(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k),N(_(t=c.call(this,e)),"_tryUpdateDeviceList",(function(){A.Z._emitter&&A.Z.sendMessage({type:"DEV-LIST",ids:Object.keys(x.ZP._uavsById)}).then(t._deviceListReceived)})),N(_(t),"_deviceListReceived",(function(e){for(var r=e.body.devices,n={All:{}},o=0,a=Object.keys(r);o<a.length;o++){var i=a[o];n[i]={};for(var c=0,l=Object.keys(r[i].children);c<l.length;c++){var u=l[c];for(var s in u in n.All||(n.All[u]={}),n[i][u]={},r[i].children[u].children)r[i].children[u].children[s].operations.includes("read")&&(s in n.All[u]||(n.All[u][s]={unit:r[i].children[u].children[s].unit}),n[i][u][s]={unit:r[i].children[u].children[s].unit})}}t.setState({available:n})})),N(_(t),"_handleChange",(function(e){var r=e.target.name;t.setState(N({},r,e.target.value))})),N(_(t),"_handleClick",(function(){var e=t.state,r=e.available,o=e.selectedChannel,a=e.selectedDevice,i=e.selectedUAV;if("All"===t.state.selectedUAV){var c=[];for(var l in(0,n.Z)(r,"All"))a in r[l]&&o in r[l][a]&&c.push("/".concat(l,"/").concat(a,"/").concat(o));A.Z.sendMessage({type:"DEV-UNSUB",paths:t.state.subscriptions}),A.Z.sendMessage({type:"DEV-SUB",paths:c}),t.setState({subscriptions:c,unit:r[i][a][o].unit})}else{var u=t.currentPath;A.Z.sendMessage({type:"DEV-SUB",paths:[u]}),t.setState((function(e){return{subscriptions:e.subscriptions.concat(u),unit:r[i][a][o].unit}}))}})),N(_(t),"_removeSubscription",(function(e){A.Z.sendMessage({type:"DEV-UNSUB",paths:[e]}),t.setState((function(t){return{subscriptions:(0,a.default)(t.subscriptions,e)}}))})),N(_(t),"showDialog",(function(){t._tryUpdateDeviceList(),t.setState({visible:!0})})),N(_(t),"_hideDialog",(function(){t.props.setSubscriptions(t.state.subscriptions),t.props.setUnit(t.state.unit),t.setState({visible:!1})})),t.state={visible:!1,subscriptions:e.subscriptions,unit:e.unit,available:{},selectedUAV:null,selectedDevice:null,selectedChannel:null},t._removeSubscription=t._removeSubscription.bind(_(t)),t}return t=k,(r=[{key:"render",value:function(){var e=this,t=this.state,r=t.available,n=t.selectedChannel,a=t.selectedDevice,i=t.selectedUAV,c=t.subscriptions,x=t.visible,A=Object.keys(r).sort().map((function(e){return l.createElement(m.Z,{key:e,value:e},e)}));0===A.length&&A.push(l.createElement(m.Z,{key:"__empty__",value:""},l.createElement("em",null,"No UAV")));var k=i?Object.keys(r[i]).sort().map((function(e){return l.createElement(m.Z,{key:e,value:e},e)})):[],C=a?Object.keys(r[i][a]).sort().map((function(e){return l.createElement(m.Z,{key:e,value:e},e)})):[],P=j(c).sort().map((function(t){return l.createElement(b.Z,{key:t},l.createElement(E.Z,{primary:t}),l.createElement(w.Z,null,l.createElement(S.Z,{edge:"end","aria-label":"Unsubscribe",onClick:(0,o.Z)(e._removeSubscription,t)},l.createElement(O.Z,null))))})),I=[l.createElement(u.Z,{key:"done",color:"primary",onClick:this._hideDialog},"Done")],T={minWidth:120,margin:8,verticalAlign:"text-bottom"};return l.createElement(s.Z,{fullWidth:!0,open:x,maxWidth:"sm"},l.createElement(p.Z,null,l.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},l.createElement(h.Z,{row:!0},l.createElement(d.Z,{style:T},l.createElement(y.Z,{htmlFor:"selectedUAV"},"UAV"),l.createElement(v.Z,{value:i||"",inputProps:{name:"selectedUAV",id:"selectedUAV"},onChange:this._handleChange},A)),l.createElement(d.Z,{style:T},l.createElement(y.Z,{htmlFor:"selectedDevice"},"Device"),l.createElement(v.Z,{value:a||"",inputProps:{name:"selectedDevice",id:"selectedDevice"},onChange:this._handleChange},k)),l.createElement(d.Z,{style:T},l.createElement(y.Z,{htmlFor:"selectedChannel"},"Channel"),l.createElement(v.Z,{value:n||"",inputProps:{name:"selectedChannel",id:"selectedChannel"},onChange:this._handleChange},C))),l.createElement(u.Z,{style:{marginBottom:6},disabled:c.includes(this.currentPath),onClick:this._handleClick},"Subscribe")),l.createElement(g.Z,null,P)),l.createElement(f.Z,null,I))}},{key:"currentPath",get:function(){return"/".concat(this.state.selectedUAV,"/").concat(this.state.selectedDevice,"/").concat(this.state.selectedChannel)}}])&&P(t.prototype,r),i&&P(t,i),Object.defineProperty(t,"prototype",{writable:!1}),k}(l.Component);N(D,"propTypes",{subscriptions:c().arrayOf(c().string),unit:c().string,setSubscriptions:c().func,setUnit:c().func})},6931:(e,t,r)=>{"use strict";r.d(t,{LT:()=>q,Ph:()=>U,Py:()=>Q,US:()=>X,ZI:()=>W,_r:()=>ne,cN:()=>oe,g7:()=>H,mB:()=>$,nv:()=>G,uI:()=>re,vL:()=>Y,vd:()=>te,vy:()=>K,zb:()=>ee});r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337),r(19601),r(41817),r(32165),r(66992),r(78783),r(33948),r(47042),r(91038),r(74916),r(77601),r(68309),r(44048),r(9653),r(35192),r(61874),r(92222);var n=r(17812),o=r(7397),a=(r(9570),r(39803)),i=r(20067),c=r(28270),l=r(27601),u=r(2355),s=r(94316),f=r.n(s),p=r(45697),d=r.n(p),h=r(67294),y=r(66688),m=r(89211),v=r(59269),g=r(7371),b=r(36482),w=r(80274),E=["formControlProps","margin"],S=["input","meta"],O=["name","onChange","value"],x=["InputProps"],A=["fieldProps","inputProps"],k=["fieldProps","inputProps"],j=["fieldProps","inputProps"],C=["formatter"],P=["InputProps","inputProps","max","min","step","unit"],I=["InputProps","inputProps","max","min","step"],T=["min","max"],L=["max","min","size","step","value","onChange","onBlur"];function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var U=function(e){var t=e.formControlProps,r=e.margin,n=M(e,E);return h.createElement(u.Ph,N({formControlProps:R({variant:"filled",margin:r},t)},n))};U.propTypes=R(R({},u.Ph.propTypes),{},{margin:d().oneOf(["normal","dense"])}),U.defaultProps={margin:"dense"};var G=function(e){return h.createElement(u.nv,N({variant:"filled"},e))};G.propTypes=u.nv.propTypes;d().any,d().any;var V=function(e){return e.preventDefault()},B=function(e){var t=e.input,r=e.meta,l=M(e,S),u=_((0,m.Z)(!0),2),s=u[0],f=u[1],p=t.name,d=t.onChange,y=t.value,v=M(t,O),g=(r.submitError&&!r.dirtySinceLastSubmit||r.error)&&r.touched;return h.createElement(a.Z,N({variant:"filled"},l,{name:p,type:s?"password":"text",helperText:g?r.error||r.submitError:void 0,error:g,value:y,inputProps:R(R({autoComplete:"current-password"},v),{},{type:s?"password":"text"}),InputProps:{endAdornment:h.createElement(o.Z,{position:"end"},h.createElement(n.Z,{"aria-label":"toggle password visibility",onClick:f,onMouseDown:V},s?h.createElement(i.Z,null):h.createElement(c.Z,null)))},onChange:d}))};B.propTypes={input:d().any,meta:d().any};var W=function(e){return h.createElement(y.gN,N({component:B},e))},z=function(e){var t=e.InputProps,r=M(e,x);return h.createElement(G,N({type:"number",InputProps:R({endAdornment:h.createElement(o.Z,{position:"end"},"\xb0")},t)},r))};z.propTypes={InputProps:d().object};var H=function(e){var t=e.fieldProps,r=e.inputProps,n=M(e,A);return h.createElement(z,N({inputProps:R({step:.1},r),fieldProps:R({format:g.LW,formatOnBlur:!0,parse:function(e){return e},validate:(0,w.v_)([w.C1,w.yx])},t)},n))};H.propTypes={fieldProps:d().object,inputProps:d().object};var q=function(e){var t=e.fieldProps,r=e.inputProps,n=M(e,k);return h.createElement(z,N({inputProps:R({step:.001},r),fieldProps:R({validate:(0,w.v_)([w.C1,w.yx,(0,w.vX)(-90,90)])},t)},n))};q.propTypes={fieldProps:d().object,inputProps:d().object};var Y=function(e){var t=e.fieldProps,r=e.inputProps,n=M(e,j);return h.createElement(z,N({inputProps:R({step:.001},r),fieldProps:R({validate:(0,w.v_)([w.C1,w.yx,(0,w.vX)(-180,180)])},t)},n))};Y.propTypes={fieldProps:d().object,inputProps:d().object};var $=function(e){var t=e.formatter,r=M(e,C),n=(0,h.useMemo)((function(){return function(e){return{formatOnBlur:!0,format:function(t){var r=Array.isArray(t)&&2===t.length?t:(0,g.ie)(t);try{return(e||g.fT)(r)||t}catch(e){return t}},validate:function(e){if(!(0,g.ie)(e))return"Invalid coordinate"}}}(t)}),[t]);return h.createElement(G,N({fieldProps:n},r))};$.propTypes={formatter:d().func};var K=function(e){var t=e.InputProps,r=e.inputProps,n=e.max,a=e.min,i=e.step,c=e.unit,l=M(e,P);return h.createElement(G,N({type:"number",inputProps:R({max:n,min:a,step:i},r),InputProps:R({endAdornment:h.createElement(o.Z,{position:"end"},c)},t)},l))};K.propTypes={InputProps:d().object,inputProps:d().object,max:d().number,min:d().number,onChange:d().func,size:d().string,step:d().number,unit:d().string,value:d().number},K.defaultProps={min:0,unit:"m"};var X=function(e){var t=e.InputProps,r=e.inputProps,n=e.max,a=e.min,i=e.step,c=M(e,I);return h.createElement(G,N({type:"number",inputProps:R({max:n,min:a,step:i},r),InputProps:R({endAdornment:h.createElement(o.Z,{position:"end"},"s")},t)},c))};X.propTypes={InputProps:d().object,inputProps:d().object,max:d().number,min:d().number,onChange:d().func,size:d().string,step:d().number,value:d().number},X.defaultProps={min:0};var Q=function(e){var t=e.min,r=e.max,n=M(e,T),o=(0,h.useMemo)((function(){return function(e){var t=e.min,r=e.max;return{formatOnBlur:!0,format:function(e){var t="number"==typeof e?e:(0,b.mV)(e);return Number.isNaN(t)?"string"==typeof e?e:"":(0,v.g)(t,{padHours:!0})},validate:function(e){var n=(0,b.mV)(e);return Number.isFinite(n)?"number"==typeof t&&e<t?0===t?"Duration must be non-negative":"Duration too short":"number"==typeof r&&e>r?"Duration too long":void 0:"Invalid duration"}}}({min:t,max:r})}),[t,r]);return h.createElement(G,N({fieldProps:o},n))};Q.propTypes={min:d().number,max:d().number};var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultProps,r=e.displayName,n=e.formatOptions,i=e.unit,c=i?{endAdornment:h.createElement(o.Z,{position:"end"},i)}:null;n=R({mantissa:3,trimMantissa:!0},n);var u=function(e){return f()(e).format(n)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.max,n=t.min,o=t.step;if(e){var a=Number.parseFloat(e);if(!Number.isNaN(a)&&Number.isFinite(a)||(a=0),!(0,l.default)(o)){var i=(0,l.default)(n)?0:n;a=Math.round((a-i)/o)*o+i}return!(0,l.default)(r)&&a>r&&(a=r),!(0,l.default)(n)&&a<n&&(a=n),a}return 0},p=function(e){var t=e.max,r=e.min,n=e.size,o=e.step,i=e.value,l=e.onChange,f=e.onBlur,p=M(e,L),d=_((0,h.useState)((function(){return u(i)})),2),y=d[0],m=d[1];(0,h.useEffect)((function(){m(u(i))}),[i]);var v=(0,h.useCallback)((function(e){for(var n=s(e.target.value,{max:t,min:r,step:o}),a=arguments.length,c=new Array(a>1?a-1:0),p=1;p<a;p++)c[p-1]=arguments[p];n!==i&&l?(l.apply(void 0,[e].concat(c)),m(u(n))):m(u(i)),f&&f.apply(void 0,c)}),[t,r,o,i,f,l]),g=(0,h.useCallback)((function(e){m(e.target.value)}),[]);return h.createElement(a.Z,N({InputProps:c,inputProps:{size:n,type:"text",inputMode:"decimal",pattern:"[-0-9+.,]*"},variant:"filled",value:y,onBlur:v,onChange:g},p))};return p.propTypes={max:d().number,min:d().number,onBlur:d().func,onChange:d().func,size:d().number,step:d().number,value:d().number},r&&(p.displayName=r),t&&(p.defaultProps=t),p},ee=J({displayName:"SimpleAngleField",defaultProps:{max:360,min:0,step:.1},unit:"degrees"}),te=J({displayName:"SimpleDistanceField",unit:"m"}),re=J({displayName:"SimpleDurationField",unit:"seconds",defaultProps:{min:0,size:4}}),ne=J({displayName:"SimpleNumericField"}),oe=J({displayName:"SimpleVoltageField",unit:"V",defaultProps:{min:0,size:4}})},76406:(e,t,r)=>{"use strict";r.d(t,{mB:()=>n.mB,vy:()=>n.vy,g7:()=>n.g7,LT:()=>n.LT,vL:()=>n.vL,ZI:()=>n.ZI,Ph:()=>n.Ph,zb:()=>n.zb,vd:()=>n.vd,uI:()=>n.uI,_r:()=>n._r,cN:()=>n.cN,nv:()=>n.nv,xe:()=>o});var n=r(6931);function o(e){var t=document.querySelector("#".concat(e));t&&t.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))}},71796:(e,t,r)=>{"use strict";r.d(t,{P7:()=>E,S6:()=>x,cF:()=>O,l0:()=>A});r(21249),r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337);var n=r(16423),o=r(69203),a=r(90096),i=r(73234),c=r(52398),l=r(57993),u=r(62822),s=r(50998),f=r(45697),p=r.n(f),d=r(67294),h=r(59864),y=r(39445),m=r(88689);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e,t){return(0,h.isElement)(e)?d.createElement("div",null,e):e?d.createElement(y.Z,{ref:t,text:e}):null};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=k(t),n=r.backgroundHint,o=r.dataProvider,a=r.listFactory,i=r.postprocess;e=C(e);var c=d.forwardRef((function(t,r){var c=o(t),l=i(c.map((function(r){return e(r,t)})),t);return j(l)?a(t,l,r):w(n,r)}));return c}function S(e){var t=e.activateItem,r=e.getSelection,n=e.setSelection;return n||t?function(e){return function(o){var a=r?r():[];return(0,m.Dy)(o.nativeEvent||o)?n((0,l.Z)(a,[e])):a&&1===a.length&&a[0]===e?t?t(e):void 0:n([e])}}:function(){}}function O(e){var t=e.activateItem,r=e.getSelection,n=e.setSelection;return n||t?function(e,o){return function(a,i){var c,u=i(),s=r?r(u):[];if((0,m.Dy)(e.nativeEvent||e))c=n((0,l.Z)(s,[o]));else{var f=s&&1===s.length&&s[0]===o;t&&f?(c=e.detail>1?t(o):null,e.detail>1&&window.getSelection().removeAllRanges()):n&&!f&&(c=n([o]))}c&&a(c)}}:null}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=k(t),n=r.backgroundHint,o=r.dataProvider,a=r.listFactory,i=r.postprocess;e=C(e);var c=d.forwardRef((function(t,r){var c=o(t),l=i(c.map((function(r){return e(r,g(g({},t),{},{onChange:void 0,onItemSelected:t.onChange?function(e){return t.onChange(e,r.id)}:void 0}),r.id===t.value)})),t);return j(l)?a(t,l,r):w(n,r)}));return c.propTypes={onChange:p().func,value:p().any},c}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=k(t),n=r.backgroundHint,o=r.dataProvider,i=r.listFactory,c=r.postprocess;e=C(e);var l=d.forwardRef((function(t,r){var l=o(t),u=S({activateItem:t.onActivate,getSelection:function(){return t.value},setSelection:t.onChange}),s=c(l.map((function(r){return e(r,g(g({},t),{},{onChange:void 0,onItemSelected:u(r.id)}),(0,a.Z)(t.value,r.id))})),t);return j(s)?i(t,s,r):w(n,r)}));return l.propTypes={onActivate:p().func,onChange:p().func,value:p().arrayOf(p().any).isRequired},l}var k=function(e){return g(g({postprocess:o.default},e),{},{dataProvider:(t=e.dataProvider,(0,i.default)(t)?t:function(e){return(0,n.Z)(e,t)}),listFactory:P(e.listFactory)});var t};function j(e){return e&&(e.length>0||e.size>0)}function C(e){if(Object.prototype.isPrototypeOf.call(d.Component,e)){var t=e===s.Z?"onTouchTap":"onClick";return function(r,n,o){var a;return d.createElement(e,g(g({},r),{},(b(a={key:r.id},t,n.onItemSelected),b(a,"selected",o),a)))}}return e}function P(e){return void 0===e?function(e,t,r){return d.createElement(u.Z,{dense:e.dense||e.mini,disablePadding:e.disablePadding||e.mini,ref:r},t)}:Object.prototype.isPrototypeOf.call(d.Component,e)?(0,c.Z)(d.createElement,e):e}},16261:(e,t,r)=>{"use strict";r.d(t,{_:()=>c,q:()=>o.Status});var n,o=r(73435);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=(a(n={},o.Status.CRITICAL,100),a(n,o.Status.ERROR,90),a(n,o.Status.WARNING,80),a(n,o.Status.MISSING,70),a(n,o.Status.RTH,60),a(n,o.Status.SKIPPED,50),a(n,o.Status.NEXT,40),a(n,o.Status.INFO,30),a(n,o.Status.SUCCESS,20),a(n,o.Status.WAITING,10),a(n,o.Status.OFF,0),n),c=function(e){return i[e]||0}},15924:(e,t,r)=>{"use strict";r.d(t,{Uw:()=>l,Xl:()=>c,kR:()=>u});r(19601);var n=r(67294),o=r(73205),a=r(58713);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}var c=n.createContext(window.document.body),l=n.forwardRef((function(e,t){return n.createElement(c.Consumer,null,(function(r){return n.createElement(o.ZP,i({},e,{ref:t,container:r}))}))})),u=n.forwardRef((function(e,t){return n.createElement(c.Consumer,null,(function(r){return n.createElement(a.default,i({},e,{ref:t,appendTo:r}))}))}))},8791:(e,t,r)=>{"use strict";r.d(t,{Q$:()=>y,S3:()=>h,VK:()=>d,ZP:()=>m,qL:()=>p});r(41539),r(39714),r(92222);var n=r(34716),o=r(73234),a=r(45697),i=r.n(a),c=r(67294),l=r(21727),u=(0,r(76415).ZP)("error"),s=function(){window.location.reload()},f=function(e){var t=e.resetErrorBoundary;return c.createElement("div",{className:"error-panel"},c.createElement("div",{className:"error-icon"},c.createElement(l.Z,{style:{width:48,height:48}})),c.createElement("div",null,"An unexpected error happened. Sorry for the inconvenience."),c.createElement("div",{className:"email-link"},"Please send us an email to let us know."),c.createElement("div",{className:"button-bar"},c.createElement("button",{type:"button",onClick:s},"Reload app"),t&&c.createElement("button",{type:"button",onClick:t},"Reset to factory defaults")))};f.propTypes={resetErrorBoundary:i().func};var p=f;function d(e,t){return e.toString&&(0,o.default)(e.toString)?t?"".concat(t,": ").concat(e.toString()):e.toString():t?"".concat(t,": ").concat(String(e)):String(e)}function h(e,t){if(e&&(e.isTimeout||e.hideStackTrace)){var r=e.isTimeout&&t?"".concat(t," timed out"):d(e);u.warn(r)}else{var n=d(e);u.error(n)}}function y(e,t){return function(){var r;try{r=e.apply(void 0,arguments)}catch(e){h(e,t)}if((0,n.Z)(r))return r.catch((function(e){return h(e,t)}))}}const m=h},9469:(e,t,r)=>{"use strict";r.d(t,{W9:()=>i,ZP:()=>u,Zj:()=>c,qH:()=>l});var n=(0,r(24268).oM)({name:"alert",initialState:{muted:!1,count:0},reducers:{dismissAlerts:function(e){e.count=0},setMuted:function(e,t){e.muted=Boolean(t.payload)},triggerAlert:function(e){e.count+=1}}}),o=n.actions,a=n.reducer,i=o.dismissAlerts,c=o.setMuted,l=o.triggerAlert;const u=a},37944:(e,t,r)=>{"use strict";r.d(t,{D3:()=>p,E8:()=>s,P$:()=>f,U7:()=>u});r(68309),r(69720),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(47042),r(91038),r(74916),r(77601);var n=r(22222),o=r(96354),a=r(97594),i=r(45150);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,n.createSelector)((function(e){return e.beacons}),i.vA),s=(0,a.sw)(o.wf),f=function(e){return(e?e.name||e.id:null)||"Unnamed beacon"},p=(0,n.createSelector)((function(e){return e.beacons}),(function(e){for(var t=[],r=0,n=Object.entries(e.byId);r<n.length;r++){var o=c(n[r],2),a=o[0];void 0===o[1].name&&t.push(a)}return t}))},16050:(e,t,r)=>{"use strict";r.d(t,{IH:()=>m,ZP:()=>g,y3:()=>v});r(82526),r(19601),r(47941);var n=r(43402),o=r(24268),a=r(60587),i=r(45150),c=["id"];function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e,t,r){var o=e.byId;(0,n.Z)(o,t)||(o[t]={id:t,position:null,heading:null,active:!1},e.order.push(t)),Object.assign(o[t],r)}var s,f,p,d=(0,o.oM)({name:"beacons",initialState:{byId:{},order:[]},reducers:{clearBeaconList:function(e){(0,i.iW)(e)},setBeaconState:function(e,t){var r=t.payload;u(e,r.id,l(r,c))},setBeaconStateMultiple:function(e,t){for(var r=t.payload,n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];u(e,a,r[a])}}},extraReducers:(s={},f=a.y,p=function(e,t){(0,i.OA)(e,t.payload)},f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s)}),h=d.actions,y=d.reducer,m=h.clearBeaconList,v=(h.setBeaconState,h.setBeaconStateMultiple);const g=y},11607:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});var n="mtc"},32655:(e,t,r)=>{"use strict";r.d(t,{EJ:()=>p,ZP:()=>h,ne:()=>d});r(82526),r(19601),r(47941);var n=r(43402),o=r(24268),a=r(45150),i=["id"];function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t,r){var o=e.byId;(0,n.Z)(o,t)||(o[t]={id:t,running:!1,ticks:0},e.order.push(t)),Object.assign(o[t],r)}var u=(0,o.oM)({name:"clocks",initialState:{byId:{},order:[]},reducers:{clearClockList:function(e){(0,a.iW)(e)},setClockState:function(e,t){var r=t.payload;l(e,r.id,c(r,i))},setClockStateMultiple:function(e,t){for(var r=t.payload,n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];l(e,a,r[a])}}}}),s=u.actions,f=u.reducer,p=s.clearClockList,d=(s.setClockState,s.setClockStateMultiple);const h=f},76527:(e,t,r)=>{"use strict";r.d(t,{XH:()=>h,XM:()=>d,ZP:()=>m,c$:()=>y});r(26699),r(32023),r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337);var n=r(24268),o=r(98419),a=r(45150);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r){var n=e.byId,a=e.order;n[t]=c(c({},n[t]||function(e){return{id:e,name:e,state:o.em.DISCONNECTED,stateChangedAt:void 0}}(t)),r),a.includes(t)||a.push(t)}var s=(0,n.oM)({name:"connections",initialState:{byId:{},order:[]},reducers:{clearConnectionList:function(e){(0,a.iW)(e)},removeConnectionsByIds:function(e,t){(0,a.DD)(e,t.payload)},updateConnections:function(e,t){for(var r=0,n=Object.keys(t.payload);r<n.length;r++){var o=n[r];u(e,o,t.payload[o])}}}}),f=s.actions,p=s.reducer,d=f.clearConnectionList,h=f.removeConnectionsByIds,y=f.updateConnections;const m=p},82046:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,ht:()=>i,k5:()=>c});r(40561);var n=(0,r(24268).oM)({name:"detachablePanels",initialState:{detachedPanels:[]},reducers:{attachPanel:function(e,t){var r=t.payload,n=e.detachedPanels.indexOf(r);-1!==n&&e.detachedPanels.splice(n,1)},detachPanel:function(e,t){var r=t.payload;e.detachedPanels.push(r)}}}),o=n.actions,a=n.reducer,i=o.attachPanel,c=o.detachPanel;const l=a},90645:(e,t,r)=>{"use strict";r.d(t,{BC:()=>s,RN:()=>u,XZ:()=>p,ZP:()=>d,qc:()=>l,zr:()=>f});var n=r(24268),o=r(97215),a=(0,n.oM)({name:"dock-details",initialState:{open:!1,selectedDockId:void 0,selectedTab:"status"},reducers:{openDockDetailsDialog:function(e,t){var r=t.payload;e.selectedDockId=r,e.open=!0},closeDockDetailsDialog:(0,o.WZ)((function(e){e.open=!1})),setSelectedTabInDockDetailsDialog:function(e,t){var r=t.payload;e.selectedTab=r}}}),i=a.actions,c=a.reducer,l=i.openDockDetailsDialog,u=i.closeDockDetailsDialog,s=i.setSelectedTabInDockDetailsDialog,f=function(e){return e.dialogs.dockDetails.selectedDockId},p=function(e){return e.dialogs.dockDetails.selectedTab};const d=c},9624:(e,t,r)=>{"use strict";r.d(t,{h:()=>l,t:()=>c});var n=r(22222),o=r(96354),a=r(97594),i=r(45150),c=(0,n.createSelector)((function(e){return e.docks}),i.vA),l=(0,a.sw)(o.RG)},13277:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>g,iP:()=>m,oL:()=>v});r(82526),r(19601),r(47941);var n=r(43402),o=r(24268),a=r(60587),i=r(45150),c=["id"];function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e,t,r){var o=e.byId;(0,n.Z)(o,t)||(o[t]={id:t,position:null},e.order.push(t)),Object.assign(o[t],r)}var s,f,p,d=(0,o.oM)({name:"docks",initialState:{byId:{},order:[]},reducers:{clearDockList:function(e){(0,i.iW)(e)},setDockState:function(e,t){var r=t.payload;u(e,r.id,l(r,c))},setDockStateMultiple:function(e,t){for(var r=t.payload,n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];u(e,a,r[a])}}},extraReducers:(s={},f=a.y,p=function(e,t){(0,i.OA)(e,t.payload)},f in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,s)}),h=d.actions,y=d.reducer,m=h.clearDockList,v=(h.setDockState,h.setDockStateMultiple);const g=y},48600:(e,t,r)=>{"use strict";r.d(t,{N:()=>l,Z:()=>c});var n=r(24268),o=r(8791),a=r(97215),i=(0,n.oM)({name:"error-handling",initialState:{open:!1},reducers:{closeErrorDialog:(0,a.WZ)((function(e){e.open=!1})),showErrorMessage:{prepare:function(e,t){return{payload:t instanceof Error?"".concat(e,": ")+(0,o.VK)(t):e}},reducer:function(e,t){e.open=!0,e.message=t.payload}}}}),c=i.reducer,l=i.actions},39780:(e,t,r)=>{"use strict";r.d(t,{J:()=>i,Z:()=>c});r(73210);var n=(0,r(24268).oM)({name:"field-notes",initialState:{contents:"\nYou can use Markdown syntax to format your notes, such as **bold**, _italic_ or ~~strikethrough~~.\nSee https://quickref.me/markdown for a quick reference guide to Markdown syntax.\n    ".trim()},reducers:{updateFieldNotes:function(e,t){var r=t.payload;e.contents=r}}}),o=n.actions,a=n.reducer,i=o.updateFieldNotes;const c=a},37577:(e,t,r)=>{"use strict";r.d(t,{BH:()=>l,i8:()=>a,mr:()=>u});var n;r(43371),r(26833),r(26699),r(32023);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=Object.freeze({KEEP_CURRENT:"keepCurrent",REPORT:"report",LAND:"land",RETURN:"return",SMART_LAND:"smartLand",SMART_RETURN:"smartReturn",STOP:"stop",SHUT_DOWN:"shutDown"}),i=Object.values(a),c=(o(n={},a.KEEP_CURRENT,"Keep current action"),o(n,a.REPORT,"Report only"),o(n,a.LAND,"Land"),o(n,a.RETURN,"Return to home"),o(n,a.SMART_LAND,"Land with collision avoidance"),o(n,a.SMART_RETURN,"Return to home with collision avoidance"),o(n,a.STOP,"Stop and hover"),o(n,a.SHUT_DOWN,"Shut down"),n);function l(e){return c[e]||"unknown action: ".concat(e)}function u(e){return i.includes(e)}},15968:(e,t,r)=>{"use strict";r.d(t,{D9:()=>l,ZP:()=>f,Oi:()=>u,Y7:()=>s});r(19601);var n=r(24268),o=r(97215),a=(0,n.oM)({name:"geofence",initialState:{dialogVisible:!1,horizontalMargin:20,verticalMargin:10,simplify:!0,maxVertexCount:10},reducers:{showGeofenceSettingsDialog:(0,o.WZ)((function(e){e.dialogVisible=!0})),closeGeofenceSettingsDialog:(0,o.WZ)((function(e){e.dialogVisible=!1})),updateGeofenceSettings:function(e,t){var r=t.payload;Object.assign(e,r)}}}),i=a.actions,c=a.reducer,l=i.closeGeofenceSettingsDialog,u=i.showGeofenceSettingsDialog,s=i.updateGeofenceSettings;const f=c},55069:(e,t,r)=>{"use strict";r.d(t,{T:()=>a,r:()=>o});var n=function(e){var t=e.rounding,r=e.minimum;return function(e,n){return Math.max(r||t,Math.ceil(((e||0)+n)/t)*t)}},o=n({minimum:30,rounding:10}),a=n({minimum:30,rounding:10})},20453:(e,t,r)=>{"use strict";r.d(t,{E9:()=>f,Jg:()=>s,ZP:()=>p,hE:()=>l,j6:()=>u});var n=r(24268),o=r(97215),a=(0,n.oM)({name:"hotkeys",initialState:{dialogVisible:!1,pendingUAVId:""},reducers:{setPendingUAVId:function(e,t){e.pendingUAVId=t.payload},startPendingUAVIdTimeout:function(){},showHotkeyDialog:(0,o.WZ)((function(e){e.dialogVisible=!0})),closeHotkeyDialog:(0,o.WZ)((function(e){e.dialogVisible=!1}))}}),i=a.actions,c=a.reducer,l=i.closeHotkeyDialog,u=i.showHotkeyDialog,s=i.setPendingUAVId,f=i.startPendingUAVIdTimeout;const p=c},69986:(e,t,r)=>{"use strict";r.d(t,{AL:()=>p,Ft:()=>f,YZ:()=>u,ZP:()=>d,cs:()=>s});var n=r(24268),o=r(45150),a=r(699),i=(0,n.oM)({name:"lcd-clock",initialState:{byId:{server:{id:"server",clockId:"system",preset:0},show:{id:"show",clockId:"show",preset:1}},order:["server","show"]},reducers:{addClockDisplay:function(e,t){var r=t.payload,n=r.clockId,i=r.preset,c=(0,a.HY)(n,e.order);(0,o.TT)(e,{id:c,clockId:n,preset:i})},removeClockDisplay:function(e,t){(0,o.zD)(e,t.payload)},setClockIdForClockDisplay:function(e,t){var r=t.payload,n=r.id,o=r.clockId;e.byId[n]&&(e.byId[n].clockId=o)},setPresetIndexForClockDisplay:function(e,t){var r=t.payload,n=r.id,o=r.preset;e.byId[n]&&"number"==typeof o&&(e.byId[n].preset=o)}}}),c=i.actions,l=i.reducer,u=c.addClockDisplay,s=c.removeClockDisplay,f=c.setClockIdForClockDisplay,p=c.setPresetIndexForClockDisplay;const d=l},84035:(e,t,r)=>{"use strict";r.d(t,{KA:()=>l,Pf:()=>u,ZP:()=>s});var n=r(24268),o=r(97215),a=(0,n.oM)({name:"licenseInfo",initialState:{dialog:{open:!1}},reducers:{closeLicenseInfoDialog:(0,o.WZ)((function(e){e.dialog.open=!1})),showLicenseInfoDialog:(0,o.WZ)((function(e){e.dialog.open=!0}))}}),i=a.actions,c=a.reducer,l=i.closeLicenseInfoDialog,u=i.showLicenseInfoDialog;const s=c},88708:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,__:()=>c,vk:()=>i});var n=(0,r(24268).oM)({name:"lightControl",initialState:{active:!1,color:"#ffffff"},reducers:{setColor:function(e,t){"string"==typeof t.payload&&(e.color=t.payload)},setLightControlActive:function(e,t){e.active=Boolean(t.payload)}}}),o=n.actions,a=n.reducer,i=o.setColor,c=o.setLightControlActive;const l=a},75453:(e,t,r)=>{"use strict";r.d(t,{CB:()=>f,OU:()=>u,ZP:()=>p,hg:()=>s,n7:()=>l});var n=r(24268),o=r(97215),a=(0,n.oM)({name:"localServer",initialState:{pathScan:{scanning:!1,result:void 0,error:void 0},running:!1},reducers:{notifyLocalServerExecutableSearchStarted:function(e){e.pathScan.scanning=!0,e.pathScan.result=void 0,e.pathScan.error=void 0},notifyLocalServerExecutableSearchFinished:function(e,t){e.pathScan.scanning=!1,e.pathScan.result=t.payload,e.pathScan.error=void 0},notifyLocalServerExecutableSearchFailed:function(e,t){e.pathScan.scanning=!1,e.pathScan.result=void 0,e.pathScan.error=t.payload},startLocalServerExecutableSearch:(0,o.WZ)((function(e){e.pathScan.result=void 0,e.pathScan.error=void 0}))}}),i=a.actions,c=a.reducer,l=i.notifyLocalServerExecutableSearchStarted,u=i.notifyLocalServerExecutableSearchFinished,s=i.notifyLocalServerExecutableSearchFailed,f=i.startLocalServerExecutableSearch;const p=c},8:(e,t,r)=>{"use strict";r.d(t,{Hj:()=>c,ZP:()=>u,xy:()=>l});r(69826),r(41539),r(40561);var n=r(27601),o=(0,r(24268).oM)({name:"log",initialState:{highestUnseenMessageLevel:-1,items:[],nextId:0,panelVisible:!1},reducers:{addLogItem:function(e,t){var r=t.payload,o=r.auxiliaryId,a=r.message,i=r.module,c=r.level,l=r.timestamp,u={id:e.nextId,timestamp:(0,n.default)(l)?Date.now():l,message:a||"",module:i||"",level:c||0,auxiliaryId:o||""};e.items.push(u),e.nextId+=1,e.panelVisible||void 0===c||(e.highestUnseenMessageLevel=Math.max(e.highestUnseenMessageLevel,c))},clearLogItems:function(e){e.items=[],e.highestUnseenMessageLevel=-1},deleteLogItem:function(e,t){var r=t.payload,n=e.items.find((function(e){return e.id===r}));n>=0&&e.items.splice(n,1)},updateLogPanelVisibility:function(e,t){e.panelVisible=Boolean(t.payload),e.panelVisible&&(e.highestUnseenMessageLevel=-1)}}}),a=o.actions,i=o.reducer,c=a.addLogItem,l=(a.clearLogItems,a.deleteLogItem,a.updateLogPanelVisibility);const u=i},88469:(e,t,r)=>{"use strict";function n(e){var t;return Boolean(null===(t=e.mapCaching)||void 0===t?void 0:t.enabled)}r.d(t,{x:()=>n})},84307:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>f,ey:()=>s,it:()=>l,kA:()=>u});var n=r(24268),o=r(97215),a=(0,n.oM)({name:"mapCaching",initialState:{dialog:{open:!1},enabled:!1},reducers:{closeMapCachingDialog:(0,o.WZ)((function(e){e.dialog.open=!1})),showMapCachingDialog:(0,o.WZ)((function(e){e.dialog.open=!0})),setMapCachingEnabled:function(e,t){e.enabled=Boolean(t.payload)}}}),i=a.actions,c=a.reducer,l=i.closeMapCachingDialog,u=i.showMapCachingDialog,s=i.setMapCachingEnabled;const f=c},28465:(e,t,r)=>{"use strict";r.d(t,{B$:()=>S,TN:()=>O,W1:()=>w,bl:()=>k,eq:()=>A,lC:()=>C,rn:()=>j,xH:()=>E});r(92222),r(47042),r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337),r(41817),r(32165),r(66992),r(78783),r(33948),r(91038),r(68309),r(74916),r(77601);var n=r(97973),o=r(36602),a=r(41323),i=r(97948),c=r(75423),l=r(96354),u=r(62879),s=r(59068),f=r(62154);function p(e){return function(e){if(Array.isArray(e))return e}(e)||y(e)||h(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||y(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}function y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=f.N.closeFeatureEditorDialog,E=f.N.setFeatureEditorDialogTab,S=f.N.showFeatureEditorDialog,O=function(e){return x(e,null)},x=function(e,t){return function(r,n){var o=(0,u.JC)(n(),e,t);r((0,s.EF)({id:o,feature:e}))}},A=function(e,t){return function(r,n){var o=n().features.byId[e];r(x(g(g({},o),t),e))}},k=function(e,t){return function(r,a){var i=a(),c=i.features.byId[e],u=i.features.byId[t],f=function(e){var t;return{type:"Feature",geometry:{type:"Polygon",coordinates:[e.points].concat(d(null!==(t=e.holes)&&void 0!==t?t:[]))}}},y=(0,n.Z)(f(c),f(u));switch(y.geometry.type){case"Polygon":var m=p(y.geometry.coordinates),v=m[0],g=m.slice(1);r((0,s.TO)(b({},e,{points:v,holes:g})));break;case"MultiPolygon":r((0,s.hW)([e]));var w,E=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(y.geometry.coordinates);try{for(E.s();!(w=E.n()).done;){var S=p(w.value),O=S[0],x=S.slice(1);r(A(e,{points:O,holes:x}))}}catch(e){E.e(e)}finally{E.f()}break;default:throw new Error("Unexpected geometry type: ".concat(y.geometry.type))}r((0,o.Z5)([(0,l.Pe)(t)]))}},j=function(){return function(e,t){return e((0,s.hW)((0,u.zf)(t())))}},C=function(e){return function(t,r){var n,o=(0,a.f)(r())||(null==e?void 0:e.getId());o&&t((n=o,function(e){var t;if((0,l.bf)(n)){var r=(0,l.$7)(n);r&&(t=(0,c.Um)(r))}else(0,l.dU)(n);t&&(e((0,i.kj)(null)),e(t))}))}}},62154:(e,t,r)=>{"use strict";r.d(t,{N:()=>a,Z:()=>o});r(19601);var n=(0,r(24268).oM)({name:"feature-editor",initialState:{dialogVisible:!1,selectedTab:"general"},reducers:{closeFeatureEditorDialog:function(e,t){Object.assign(e,t.payload,{dialogVisible:!1})},showFeatureEditorDialog:function(e,t){e.dialogVisible=!0,e.featureId=t.payload},setFeatureEditorDialogTab:function(e,t){e.selectedTab=t.payload}}}),o=n.reducer,a=n.actions},62879:(e,t,r)=>{"use strict";r.d(t,{Iy:()=>O,JC:()=>g,Sf:()=>w,Z4:()=>b,jR:()=>k,uC:()=>S,vQ:()=>v,xt:()=>A,yW:()=>E,zf:()=>x});r(47941),r(21249);var n=r(45542),o=r(22967),a=r(27601),i=r(43836),c=r(91238),l=r(22222),u=r(34543),s=r(64209),f=r(96354),p=r(97594),d=r(45150),h=r(699),y=r(97215),m=r(93029),v=(0,l.createSelector)((function(e){return e.features}),d.vA),g=function(e,t,r){var a=t.type;if(!a)throw new Error("Feature must have a type");if(!r){var c=(0,i.Z)(e.byId,(function(e){return e.id})),l=(0,o.Z)((0,s.IQ)(a));r=(0,h.o8)(l,c)}var u=Object.keys(e.features.byId);return(0,h.HY)((0,n.Z)(r),u)},b=(0,l.createSelector)(u.S,(function(e,t){return e.features.byId[t]}),(function(e,t){return e===m.UA.EDIT_FEATURE||Boolean(null==t?void 0:t.showPoints)})),w=function(e){return e.features.byId},E=function(e){return e.dialogs.featureEditor.featureId},S=function(e){return e.dialogs.featureEditor.dialogVisible},O=function(e){return e.dialogs.featureEditor.selectedTab},x=(0,p.sw)(f.K$),A=((0,l.createSelector)(x,(function(e){return 1===e.length?e[0]:void 0})),(0,l.createSelector)(x,(function(e){return 1===e.length?e:y.LZ})),(0,l.createSelector)(x,(function(e){return e.features.byId}),(function(e,t){return(0,c.default)(e.map((function(e){return t[e]})),a.default).map((function(e){return e.label}))}))),k=(0,l.createSelector)(x,(function(e){return e.features.byId}),(function(e,t){return(0,c.default)(e.map((function(e){return t[e]})),a.default).map((function(e){return e.type}))}))},59068:(e,t,r)=>{"use strict";r.d(t,{Co:()=>E,EF:()=>d,GX:()=>y,Rq:()=>m,TO:()=>w,ZP:()=>S,cu:()=>b,gG:()=>g,hW:()=>h,o:()=>v});r(66992),r(51532),r(47941),r(41539),r(70189),r(68309),r(69720),r(19601),r(82526),r(57327),r(38880),r(54747),r(49337),r(41817),r(32165),r(78783),r(33948),r(47042),r(91038),r(74916),r(77601);var n=r(24268),o=r(45150);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=(0,n.oM)({name:"features",initialState:{byId:{},order:[]},reducers:{addFeatureById:function(e,t){var r=t.payload,n=r.id,a=r.feature,i=a.points,c=a.type;if(!n)throw new Error("Feature must have an ID");if(!c)throw new Error("Feature must have a type");if(!i||0===i.length)throw new Error("Feature must have at least one point");if(e.byId[n])throw new Error("Feature ID is already taken");var u=l(l({visible:!0,filled:!0,measure:!1,showPoints:!1},structuredClone(a)),{},{id:n});t.featureId=n,(0,o.TT)(e,u)},removeFeaturesByIds:function(e,t){return(0,o.DD)(e,t.payload)},renameFeature:function(e,t){var r=t.payload,n=r.id,o=r.name;e.byId[n].label=o},setFeatureColor:function(e,t){var r=t.payload,n=r.id,o=r.color;e.byId[n].color=o},updateFeatureFillVisible:function(e,t){var r=t.payload,n=r.id,o=r.filled;e.byId[n].filled=Boolean(o)},updateFeatureMeasurementVisible:function(e,t){var r=t.payload,n=r.id,o=r.measure;e.byId[n].measure=Boolean(o)},updateFeaturePointsVisible:function(e,t){var r=t.payload,n=r.id,o=r.visible;e.byId[n].showPoints=Boolean(o)},updateFeaturePropertiesByIds:function(e,t){for(var r=0,n=Object.entries(t.payload);r<n.length;r++){var o=a(n[r],2),i=o[0],c=o[1],l=e.byId[i];l&&Object.assign(l,c)}},updateFeatureVisibility:function(e,t){var r=t.payload,n=r.id,o=r.visible;e.byId[n].visible=Boolean(o)}}}),f=s.actions,p=s.reducer,d=f.addFeatureById,h=f.removeFeaturesByIds,y=f.renameFeature,m=f.setFeatureColor,v=f.updateFeatureFillVisible,g=f.updateFeatureMeasurementVisible,b=f.updateFeaturePointsVisible,w=f.updateFeaturePropertiesByIds,E=f.updateFeatureVisibility;const S=p},56131:(e,t,r)=>{"use strict";r.d(t,{Wb:()=>d,ZP:()=>h,wp:()=>p});var n=r(24268),o=r(97215),a=r(21257);var i,c,l,u=(0,n.oM)({name:"layer-settings-dialog",initialState:{dialogVisible:!1,selectedLayer:void 0},reducers:{showLayerSettingsDialog:function(e,t){var r=t.payload;e.dialogVisible=!0,e.selectedLayer=r},closeLayerSettingsDialog:(0,o.WZ)((function(e){e.dialogVisible=!1}))},extraReducers:(i={},c=a.$o,l=function(e,t){e.selectedLayer===t.payload&&(e.dialogVisible=!1,e.selectedLayer=void 0)},c in i?Object.defineProperty(i,c,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[c]=l,i)}),s=u.actions,f=u.reducer,p=s.showLayerSettingsDialog,d=s.closeLayerSettingsDialog;const h=f},21257:(e,t,r)=>{"use strict";r.d(t,{$n:()=>g,$o:()=>v,A4:()=>h,Rv:()=>b,ZP:()=>S,er:()=>w,tB:()=>m,vr:()=>E,wS:()=>y});r(68309),r(69720),r(47941),r(40561),r(19601),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(47042),r(91038),r(74916),r(77601);var n=r(45542),o=r(43836),a=r(24268),i=r(53464),c=r(45150),l=r(699);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=(0,a.oM)({name:"layers",initialState:{byId:{base:(0,i.lB)("base",i.F5.BASE,"Base map"),graticule:(0,i.lB)("graticule",i.F5.GRATICULE,"Graticule"),beacons:(0,i.lB)("beacons",i.F5.BEACONS,"Beacons"),features:(0,i.lB)("features",i.F5.FEATURES,"Features"),home:(0,i.lB)("home",i.F5.MISSION_INFO,"Mission info"),uavs:(0,i.lB)("uavs",i.F5.UAVS,"UAVs")},order:["base","graticule","beacons","features","home","uavs"]},reducers:{addLayer:{prepare:function(e,t){return{payload:{name:e,type:t}}},reducer:function(e,t){var r=t.payload.name,a=t.payload.type;if(!a&&!r)for(var c=0,s=Object.entries(e.byId);c<s.length;c++){var f=u(s[c],2),p=f[0],d=f[1];if(!d.type||d.type===i.F5.UNTYPED)return void(t.id=p)}if(!r){var h=(0,o.Z)(e.byId,(function(e){return e.label}));r=(0,l.o8)("New layer",h)}var y=Object.keys(e.byId),m=(0,l.HY)((0,n.Z)(r),y),v=(0,i.lB)(m,a,"");t.id=m,e.byId[m]=v,e.order.push(m)}},adjustLayerZIndex:{prepare:function(e,t){return{payload:{id:e,delta:t}}},reducer:function(e,t){var r=t.payload,n=r.id,o=r.delta,a=e.order,i=a.indexOf(n),c=i<0?-1:Math.max(0,Math.min(i+o,a.length-1));return i>=0&&c>=0&&(a.splice(i,1),a.splice(c,0,n)),e}},changeLayerType:{prepare:function(e,t){return{payload:{id:e,type:t}}},reducer:function(e,t){var r=t.payload,n=r.id,a=r.type;if(e.byId[n].type===i.F5.UNTYPED){var c=(0,o.Z)(e.byId,(function(e){return e.label})),u=(0,l.o8)((0,i.DT)(a),c),s=e.byId[n].label,f=""===s?u:s;Object.assign(e.byId[n],{type:a,label:f,parameters:(0,i.S2)(a),visible:!0})}return e}},removeLayer:function(e,t){var r=t.payload;(0,c.zD)(e,r)},renameLayer:{prepare:function(e,t){return{payload:{id:e,name:t}}},reducer:function(e,t){var r=t.payload,n=r.id,o=r.name;e.byId[n].label=o}},selectMapSource:function(e,t){var r=t.payload,n=r.layerId,o=r.source;e.byId[n].parameters.source=o},setLayerParameterById:{prepare:function(e,t,r){return{payload:{layerId:e,parameter:t,value:r}}},reducer:function(e,t){var r=t.payload,n=r.layerId,o=r.parameter,a=r.value;e.byId[n].parameters[o]=a}},setLayerParametersById:{prepare:function(e,t){return{payload:{layerId:e,parameters:t}}},reducer:function(e,t){Object.assign(e.byId[t.payload.layerId].parameters,t.payload.parameters)}},toggleLayerVisibility:function(e,t){e.byId[t.payload].visible=!e.byId[t.payload].visible}}}),p=f.reducer,d=f.actions,h=d.addLayer,y=d.adjustLayerZIndex,m=d.changeLayerType,v=d.removeLayer,g=d.renameLayer,b=d.selectMapSource,w=(d.setLayerParameterById,d.setLayerParametersById),E=d.toggleLayerVisibility;const S=p},84042:(e,t,r)=>{"use strict";r.d(t,{FY:()=>c,KH:()=>a,ZG:()=>i,ZP:()=>u,y_:()=>l});var n=(0,r(24268).oM)({name:"map/origin",initialState:{position:[18.915125,47.486305],angle:"59",type:"nwu"},reducers:{updateFlatEarthCoordinateSystem:function(e,t){var r=t.payload,n=r.angle,o=r.position,a=r.type;"position"in t.payload&&(e.position=o),void 0!==n&&(e.angle=n),void 0!==a&&(e.type=a)}}}),o=n.reducer,a=n.actions.updateFlatEarthCoordinateSystem;function i(e){return a({position:e})}function c(e){return a({angle:e})}function l(e){return a({type:e})}const u=o},36602:(e,t,r)=>{"use strict";r.d(t,{Iv:()=>x,MO:()=>w,Vx:()=>E,Z5:()=>O,ZP:()=>A,cY:()=>b,i3:()=>S});r(21249),r(47941),r(40561),r(92222),r(57327),r(41539),r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(91038),r(47042),r(68309),r(74916),r(77601);var n=r(44176),o=r(94207),a=r(57993),i=r(24268),c=r(59068),l=r(286),u=r(96354);function s(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t,r){var a=(0,n.Z)(e,r||[]);return t&&t.length>0?(a.splice.apply(a,[0,0].concat(s(t))),(0,o.Z)(a)):a}var d,h,y,m=(0,i.oM)({name:"map/selection",initialState:[],reducers:{addToSelection:function(e,t){return p(e,t.payload)},clearSelection:function(e){e.length=0},removeFromSelection:function(e,t){return p(e,[],t.payload)},selectAllUAVs:function(){return p([],Object.keys(l.ZP._uavsById).map(u.TB))},setSelection:function(e,t){return p([],t.payload)},toggleInSelection:function(e,t){return p([],(0,a.Z)(e,t.payload))}},extraReducers:(d={},h=c.hW,y=function(e,t){return p(e,[],t.payload.map(u.Pe).filter(Boolean))},h in d?Object.defineProperty(d,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):d[h]=y,d)}),v=m.actions,g=m.reducer,b=v.addToSelection,w=v.clearSelection,E=v.removeFromSelection,S=v.selectAllUAVs,O=v.setSelection,x=v.toggleInSelection;const A=g},34543:(e,t,r)=>{"use strict";r.d(t,{S:()=>l,ZP:()=>u,qd:()=>c});r(21249);var n=r(24268),o={selectedTool:r(93029).UA.SELECT},a=(0,n.oM)({name:"map/tools",initialState:o,reducers:{setSelectedTool:function(e,t){e.selectedTool=t.payload}}}),i=a.reducer,c=a.actions.setSelectedTool,l=function(e){return e.map.tools.selectedTool};const u=i},93846:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,v:()=>l});var n=r(24268),o=r(7371),a=(0,n.oM)({name:"map/view",initialState:{position:[18.915125,47.486305],angle:"0",zoom:17},reducers:{updateMapViewSettings:function(e,t){var r=t.payload,n=r.angle,a=r.position,i=r.zoom;e.position=a,e.angle=(0,o.LW)(n),e.zoom=Math.max(Math.min(i,20),0)}}}),i=a.actions,c=a.reducer,l=i.updateMapViewSettings;const u=c},97619:(e,t,r)=>{"use strict";r.d(t,{Aq:()=>S,Ar:()=>k,Fg:()=>E,X8:()=>x,XC:()=>O,ZP:()=>j,a_:()=>b,e5:()=>w,pM:()=>g,vA:()=>A});r(69720),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(91038),r(47042),r(68309),r(74916),r(77601),r(47941),r(57327),r(38880),r(54747),r(49337);var n=r(24268),o=r(84942),a=r(45150),i=r(97215);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=(0,n.oM)({name:"measurement",initialState:{averagingResults:{byId:{},order:[]},averagingDialog:{open:!1,selectedUAVIds:[]}},reducers:{closeAveragingDialog:(0,i.WZ)((function(e){e.averagingDialog.open=!1})),showAveragingDialog:(0,i.WZ)((function(e){e.averagingDialog.open=!0})),setSelectedUAVIdsForAveragingMeasurement:function(e,t){e.averagingDialog.selectedUAVIds=p(t.payload)},startAveragingUAVCoordinateById:function(e,t){var r=t.payload;(0,a.m9)(e.averagingResults,{id:r,startedAt:Date.now(),lastSampleAt:null,numSamples:0,extraSamplingTime:0,sampling:!0,mean:{lat:0,lon:0,amsl:0,ahl:0},sqDiff:{lat:0,lon:0,amsl:0,ahl:0}})},pauseAveragingUAVCoordinatesByIds:function(e,t){var r,n=t.payload,o=e.averagingResults,a=f(n);try{for(a.s();!(r=a.n()).done;){var i=r.value,c=o.byId[i];c&&(c.sampling=!1,c.extraSamplingTime+=Date.now()-c.startedAt,c.startedAt=null,c.lastSampleAt=null)}}catch(e){a.e(e)}finally{a.f()}},restartAveragingUAVCoordinatesByIds:function(e,t){var r,n=t.payload,o=e.averagingResults,a=f(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;o.byId[i]&&(o.byId[i]=u(u({},o.byId[i]),{},{startedAt:Date.now(),lastSampleAt:null,numSamples:0,extraSamplingTime:0,sampling:!0,mean:{lat:0,lon:0,amsl:0,ahl:0},sqDiff:{lat:0,lon:0,amsl:0,ahl:0}}))}}catch(e){a.e(e)}finally{a.f()}},resumeAveragingUAVCoordinatesByIds:function(e,t){var r,n=t.payload,o=e.averagingResults,a=f(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;o.byId[i]&&(o.byId[i].sampling=!0,o.byId[i].startedAt=Date.now())}}catch(e){a.e(e)}finally{a.f()}},stopAveragingUAVCoordinatesByIds:function(e,t){var r=t.payload;(0,a.DD)(e.averagingResults,r),e.averagingDialog.selectedUAVIds=(0,o.Z)(e.averagingDialog.selectedUAVIds,e.averagingResults.order)},updateAveragingByIds:function(e,t){for(var r=0,n=Object.entries(t.payload);r<n.length;r++){var o=c(n[r],2),a=o[0],i=o[1],l=e.averagingResults.byId[a];l&&(l.mean=u(u({},l.mean),i.mean),l.sqDiff=u(u({},l.sqDiff),i.sqDiff),void 0!==i.numSamples&&(l.numSamples=i.numSamples),void 0!==i.lastSampleAt&&(l.lastSampleAt=i.lastSampleAt))}}}}),m=y.actions,v=y.reducer,g=m.closeAveragingDialog,b=m.pauseAveragingUAVCoordinatesByIds,w=m.restartAveragingUAVCoordinatesByIds,E=m.resumeAveragingUAVCoordinatesByIds,S=m.setSelectedUAVIdsForAveragingMeasurement,O=m.showAveragingDialog,x=m.startAveragingUAVCoordinateById,A=m.stopAveragingUAVCoordinatesByIds,k=m.updateAveragingByIds;const j=v},53680:(e,t,r)=>{"use strict";r.d(t,{Iw:()=>h,WT:()=>p,hJ:()=>d,gY:()=>y,ZP:()=>v,J0:()=>m});r(52262),r(24506),r(9653),r(56977),r(47042),r(41539),r(68309),r(91038),r(78783),r(74916),r(77601),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(24268),o=r(76206);function a(e,t,r,n){if(t.id=e.nextMessageId,void 0!==n){var o=e.byId[n];o&&(o.responseId=t.id)}e.byId[t.id]=t,e.nextMessageId+=1;var a=e.uavIdsToMessageIds[r];return a||(a=[],e.uavIdsToMessageIds[r]=a),a.push(t.id),t.id}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,n.oM)({name:"messages",initialState:{byId:{},commandHistory:[],uavIdsToMessageIds:{},nextMessageId:1},reducers:{addErrorMessage:function(e,t){var r=t.payload,n=r.message,i=r.uavId,c=r.refs,l=a(e,{type:o.Cs.ERROR,date:Date.now(),body:n},i,c);t.messageId=l},addInboundMessage:function(e,t){var r=t.payload,n=r.uavId,i=r.message,c=r.refs,l=r.severity,u=a(e,{type:o.Cs.INBOUND,author:n,date:Date.now(),raw:!0,recipient:"Operator",severity:l,body:i},n,c);t.messageId=u},addOutboundMessage:function(e,t){var r=t.payload,n=r.message,i=r.uavId;if(i){var c=a(e,{type:o.Cs.OUTBOUND,author:"Operator",date:Date.now(),responseId:null,recipient:i,body:n,percentage:void 0,status:void 0,suspended:!1},i);t.messageId=c,e.commandHistory.at(-1)!==n&&e.commandHistory.push(n)}},clearMessagesOfUAVById:function(e,t){var r,n=t.payload,o=c(e.uavIdsToMessageIds[n]||[]);try{for(o.s();!(r=o.n()).done;){var a=r.value;delete e.byId[a]}}catch(e){o.e(e)}finally{o.f()}delete e.uavIdsToMessageIds[n]},updateProgressByMessageId:function(e,t){var r=t.payload,n=r.messageId,o=r.progress,a=r.suspended,c=e.byId[n];c&&"object"===i(o)&&("number"==typeof o.percentage&&(c.percentage=Number(Math.max(0,Math.min(o.percentage,100)).toFixed(1))),void 0!==o.message&&(c.message=String(o.message)),void 0!==a&&(c.suspended=Boolean(a)))}}}),s=u.actions,f=u.reducer,p=s.addInboundMessage,d=s.addOutboundMessage,h=s.addErrorMessage,y=s.clearMessagesOfUAVById,m=s.updateProgressByMessageId;const v=f},43710:(e,t,r)=>{"use strict";r.d(t,{BM:()=>_,T$:()=>L,Zb:()=>R,d9:()=>Z,hd:()=>N,ie:()=>F,jf:()=>T,zL:()=>D});r(57327),r(41539),r(21249),r(47042),r(56977),r(92222),r(73210),r(23157),r(74916),r(4723),r(9494),r(9653),r(33161),r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(91038),r(68309),r(77601),r(88674),r(72443),r(39341),r(73706),r(10408),r(30489),r(54747),r(68304),r(24603),r(28450),r(88386),r(39714),r(4129),r(47941),r(83510),r(15306);var n=r(27601),o=r(97580),a=r(72720),i=r(36602),c=r(59068),l=r(66999),u=r(31574),s=r(77646),f=r(5742),p=r(96894),d=r(36697),h=r(96354),y=r(43447),m=r(1566),v=r(66817),g=r(93606);function b(){b=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var a=new RegExp(e,n);return t.set(a,o||t.get(e)),E(a,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){var o=n[r];if("number"==typeof o)t[r]=e[o];else{for(var a=0;void 0===e[o[a]]&&a+1<o.length;)a++;t[r]=e[o[a]]}return t}),Object.create(null))}return w(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var a=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+a[t]})))}if("function"==typeof o){var i=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=O(e[e.length-1])&&(e=[].slice.call(e)).push(n(e,i)),o.apply(this,e)}))}return e[Symbol.replace].call(this,r,o)},b.apply(this,arguments)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function S(){S=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new A(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==O(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function x(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){x(a,n,o,i,c,"next",e)}function c(e){x(a,n,o,i,c,"throw",e)}i(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=P(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function C(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.algorithm,r=void 0===t?"greedy":t;return function(e,t){var i,c=t(),u=(0,l.rQ)(c),s=u?(0,l.qh)(c):(0,v.x_)(c),f=u?p.Ix:p.ax,d=(0,v.G7)(c).filter((function(e){return!(0,n.default)(s[e])})).map((function(e){return{index:e,position:s[e]}})).filter((function(e){var t=e.position;return u?Array.isArray(t):!(0,n.default)(t)})),h=(0,p.AC)(c).map((function(e){return{uavId:e,position:f(c,e)}})).filter((function(e){var t=e.position;return u?Array.isArray(t):!(0,n.default)(t)})),y=u?function(e){return[e.position[0],e.position[1]]}:function(e){return[e.position.lon,e.position.lat]},b=u?m.p:o.Sp,w=u?1:3,E=(0,m.x)(h,d,{distanceFunction:b,getter:y}),S=(0,a.I)(E,{algorithm:r,threshold:w}),O=C((0,v.eP)(c)),x=j(S);try{for(x.s();!(i=x.n()).done;){var A=k(i.value,2),P=A[0];O[d[A[1]].index]=h[P].uavId}}catch(e){x.e(e)}finally{x.f()}e((0,g.c6)(O))}},L=function(){return function(e){e((0,g.oi)()),e(T())}},_=function(e){return(0,i.Z5)((Array.isArray(e)?e:[]).filter((function(e){return!(0,n.default)(e)})).map((function(e){return(0,h.Wb)(e)})))},Z=function(){return function(){var e=A(S().mark((function e(t,r){var n,o,a,i,c,u,p,h;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r(),(0,l.be)(n)){e.next=3;break}throw new Error("Virtual drones are supported for outdoor missions only");case 3:if(o=(0,l.dx)(n),a=(0,l.T8)(n),i=(0,l.sB)(n),o.origin&&"object"===O(o.origin)){e.next=8;break}throw new Error("Outdoor coordinate system not set up yet");case 8:return c=(0,v.x_)(n).filter(Boolean),u=c.length,p=String(u).length,e.next=13,d.Z.query.getConfigurationOfExtension("virtual_uavs");case 13:return(h=e.sent).origin=o.origin.slice(0,2),h.orientation=i,h.type=o.type,h.takeoff_area={type:"explicit",coordinates:c.map((function(e){var t=e.lat,r=e.lon,n=k(a.fromLonLat([r,t]),2),o=n[0],i=n[1];return[o.toFixed(2),i.toFixed(2)]}))},h.id_format="{0:0".concat(p,"}"),h.count=h.takeoff_area.coordinates.length,e.next=22,d.Z.execute.configureExtension("virtual_uavs",h);case 22:return e.next=24,d.Z.execute.reloadExtension("virtual_uavs");case 24:t((0,s.c)({message:"Virtual drones configured successfully.",semantics:f.jo.SUCCESS}));case 25:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},N=function(){return function(){var e=A(S().mark((function e(t,r){var n,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,v.Zs)(r()),o=(0,l.Z6)(r()),e.prev=2,e.next=5,(0,y.oH)(n,o,{title:"Export mapping",properties:["createDirectory","showOverwriteConfirmation","dontAddToRecent"]});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),t((0,u.x)("Error while exporting mapping: ".concat(String(e.t0))));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,r){return e.apply(this,arguments)}}()},D=function(){return function(){var e=A(S().mark((function e(t,r){var n,o,a,i,c,l,s,f,p,d;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,y.u5)({title:"Import mapping",properties:["openFile","dontAddToRecent"]});case 3:n=e.sent,o=(0,v.eP)(r()).concat(),a=n.split("\n"),i=0,c=j(a),e.prev=8,c.s();case 10:if((l=c.n()).done){e.next=26;break}if(s=(s=l.value).trim(),i++,0!==s.length&&!s.startsWith("#")){e.next=16;break}return e.abrupt("continue",24);case 16:if(f=s.match(b(/^(\d+)(\s+(.*))?$/,{index:1,uavId:3}))){e.next=19;break}throw new Error("Malformed line ".concat(i," in mapping file"));case 19:if(p=f.groups.uavId,d=Number.parseInt(f.groups.index,10),Number.isInteger(d)&&!(d<=0)){e.next=23;break}throw new Error("Invalid mission index in line ".concat(i," of mapping file"));case 23:d<=o.length&&(o[d-1]=p&&p.length>0?p:null);case 24:e.next=10;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),c.e(e.t0);case 31:return e.prev=31,c.f(),e.finish(31);case 34:t((0,g.c6)(o)),e.next=40;break;case 37:e.prev=37,e.t1=e.catch(0),t((0,u.x)("Error while importing mapping: ".concat(String(e.t1))));case 40:case"end":return e.stop()}}),e,null,[[0,37],[8,28,31,34]])})));return function(t,r){return e.apply(this,arguments)}}()},R=function(){return function(e,t){e((0,c.hW)([(0,v.vj)(t())]))}},F=function(){return function(e,t){var r=t(),n=(0,p.qx)(r);e((0,g.Zg)(n))}}},66817:(e,t,r)=>{"use strict";r.d(t,{A_:()=>C,Aj:()=>T,Es:()=>y,G5:()=>w,G7:()=>g,Ho:()=>x,Kj:()=>h,Lx:()=>Z,ML:()=>j,N:()=>L,Q8:()=>D,Rc:()=>P,S8:()=>A,Zs:()=>v,ab:()=>E,bY:()=>S,eP:()=>m,g3:()=>O,iq:()=>p,mb:()=>b,pw:()=>N,rT:()=>I,rs:()=>k,vj:()=>_,x_:()=>d});r(92222),r(69600),r(57327),r(41539),r(2707);var n=r(27601),o=r(96446),a=r(91238),i=r(22222),c=r(16261),l=r(37577),u=r(96354),s=r(97594),f=r(97215),p=function(e,t){return t},d=function(e){return e.mission.homePositions},h=function(e){return e.mission.landingPositions},y=function(e){return e.mission.takeoffHeadings},m=function(e){return e.mission.mapping},v=function(e){var t=m(e),r=t&&Array.isArray(t)?t.length:0,o=[];o.push("# Mapping file generated at ".concat((new Date).toISOString()),"#","# showID droneID");for(var a=0;a<r;a++)o.push("".concat(a+1).concat((0,n.default)(t[a])?"":" ".concat(String(t[a]))));return o.push(""),o.join("\n")},g=(0,i.createSelector)(m,(function(e){return e?(0,o.Z)(e.length).filter((function(t){return(0,n.default)(e[t])})):[]})),b=function(e){return e.mission.mappingEditor.indexBeingEdited},w=(0,i.createSelector)(m,(function(e){return e.reduce((function(e,t,r){return(0,n.default)(t)||(e[t]=r),e}),{})})),E=(0,i.createSelector)(m,b,(function(e,t){return t>=0?e[t]:void 0})),S=(0,s.sw)(u.Bf),O=function(e){return function(e){var t=S(e);return Array.isArray(t)?t.length:0}(e)<=5?S(e):f.LZ},x=(0,i.createSelector)(m,(function(e){var t=(0,a.default)(e,n.default);return t.sort(),t})),A=function(e){return(0,a.default)(m(e),n.default)},k=(0,i.createSelector)(m,(function(e){return!!e&&!e.every(n.default)})),j=function(e){return e.mission.preferredChannelIndex},C=function(e){return e.mission.commandsAreBroadcast},P=(0,i.createSelector)(g,d,(function(e,t){return e.length>0&&t.some((function(e){return!(0,n.default)(e)}))})),I=function(e){return e.mission.mappingEditor.enabled},T=function(e){return e.mission.geofenceAction||l.i8.KEEP_CURRENT};function L(e){var t=T(e);if(!(0,l.mr)(t))throw new Error("Invalid geofence action: "+String(t));return t}var _=function(e){return e.mission.geofencePolygonId},Z=(0,i.createSelector)(_,(function(e){return e.features.byId}),(function(e,t){var r;return null===(r=t[e])||void 0===r?void 0:r.points})),N=(0,i.createSelector)(_,(function(e){return e.features.byId}),(function(e,t){return void 0!==e&&void 0!==t[e]})),D=(0,i.createSelector)(N,_,(function(e){return e.features.byId}),(function(e,t,r){return e?"show"===r[t].owner?c.q.SUCCESS:c.q.WARNING:c.q.OFF}))},93606:(e,t,r)=>{"use strict";r.d(t,{QD:()=>g,dt:()=>b,Ef:()=>w,oi:()=>E,$x:()=>S,ZP:()=>D,EN:()=>O,Zg:()=>x,c6:()=>A,rE:()=>k,jZ:()=>j,_X:()=>C,gi:()=>P,_Y:()=>I,xG:()=>T,s1:()=>L,pN:()=>_,ZG:()=>Z,sp:()=>N});r(43290),r(91038),r(78783),r(73210),r(9494),r(9653),r(44048),r(40561),r(26699),r(32023),r(47042),r(41539),r(68309),r(74916),r(77601),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(27601),o=r(24268);r(92222);function a(e,t){var r=t.length;if(r<e){var n=t.concat();return n.length=e,n.fill(null,r),n}return t.slice(0,e)}var i=r(37577),c=r(59068),l=r(97215);function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p,d,h,y=(0,o.oM)({name:"mission",initialState:{mapping:[],homePositions:[],landingPositions:[],takeoffHeadings:[],mappingEditor:{enabled:!1,indexBeingEdited:-1},preferredChannelIndex:0,commandsAreBroadcast:!1,geofencePolygonId:void 0,geofenceAction:i.i8.RETURN},reducers:{adjustMissionMapping:function(e,t){var r=t.payload,o=r.uavId,a=r.to,i=e.mapping.indexOf(o),c=(0,n.default)(a)?null:e.mapping[a];void 0===c&&(c=null),i>=0&&(e.mapping[i]=c),(0,n.default)(a)||(e.mapping[a]=o)},cancelMappingEditorSessionAtCurrentSlot:(0,l.WZ)((function(e){e.mappingEditor.indexBeingEdited=-1})),clearGeofencePolygonId:(0,l.WZ)((function(e){e.geofencePolygonId=void 0})),clearMapping:function(e){var t=e.mapping.length;e.mapping=Array.from({length:t}).fill(null)},clearMappingSlot:function(e,t){var r=t.payload,n=e.mapping.length;r>=0&&r<n&&(e.mapping[r]=null)},finishMappingEditorSession:{prepare:function(){return{}},reducer:function(e){e.mappingEditor.enabled=!1,e.mappingEditor.indexBeingEdited=-1}},commitMappingEditorSessionAtCurrentSlot:function(e,t){var r=t.payload,o=r.continuation,a=r.value,i="string"==typeof a&&a.trim().length>0?a:null,c=e.mappingEditor.indexBeingEdited,l=e.mapping.length;if(c>=0&&c<l){var u=e.mapping[c],s=null===i?-1:e.mapping.indexOf(i);s>=0&&(e.mapping[s]=u),e.mapping[c]=i}e.mappingEditor.indexBeingEdited=function(e,t){var r,o=e.mapping,a=e.mappingEditor.indexBeingEdited,i=o.length,c="prev"===t||"prevEmpty"===t?-1:"next"===t||"nextEmpty"===t?1:0,l="prevEmpty"===t||"nextEmpty"===t;if(0===c)r=-1;else for(r=(a+c)%i;r!==a&&l&&!(0,n.default)(o[r]);r=(r+c)%i);return r===a&&(r=-1),r}(e,o)},removeUAVsFromMapping:function(e,t){var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(t.payload);try{for(n.s();!(r=n.n()).done;){var o=r.value,a=e.mapping.indexOf(o);a>=0&&(e.mapping[a]=null)}}catch(e){n.e(e)}finally{n.f()}},replaceMapping:function(e,t){var r=t.payload;if(!Array.isArray(r))throw new TypeError("New mapping must be an array");if(r.length!==e.mapping.length)throw new Error("Cannot change mapping length with replaceMapping()");e.mapping=r},setCommandsAreBroadcast:function(e,t){e.commandsAreBroadcast=Boolean(t.payload)},setGeofenceAction:function(e,t){e.geofenceAction=t.payload},setGeofencePolygonId:function(e,t){e.geofencePolygonId=t.payload},setMappingLength:function(e,t){var r=Number.parseInt(t.payload,10);if(!(Number.isNaN(r)||r<0||r>1e3)){var n=e.mapping.length;if(r<n)e.mapping.splice(r),e.homePositions.splice(r);else if(r>n){var o,a;(o=e.mapping).push.apply(o,u(Array.from({length:r-n}).fill(null))),(a=e.homePositions).push.apply(a,u(Array.from({length:r-e.homePositions.length}).fill(null)))}}},startMappingEditorSessionAtSlot:function(e,t){var r="number"==typeof t.payload?t.payload:-1,n=e.mapping.length,o=r<0||r>=n?-1:r;e.mappingEditor.enabled=!0,e.mappingEditor.indexBeingEdited=o},startMappingEditorSession:{prepare:function(){return{}},reducer:function(e){e.mappingEditor.enabled=!0,e.mappingEditor.indexBeingEdited=-1}},togglePreferredChannel:function(e){e.preferredChannelIndex=e.preferredChannelIndex?0:1},updateHomePositions:function(e,t){e.homePositions=a(e.mapping.length,t.payload)},updateLandingPositions:function(e,t){e.landingPositions=a(e.mapping.length,t.payload)},updateTakeoffHeadings:function(e,t){Array.isArray(t.payload)?e.takeoffHeadings=a(e.mapping.length,t.payload):e.takeoffHeadings=Array.from({length:e.mapping.length}).fill(t.payload)}},extraReducers:(p={},d=c.hW,h=function(e,t){t.payload.includes(e.geofencePolygonId)&&(e.geofencePolygonId=void 0)},d in p?Object.defineProperty(p,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):p[d]=h,p)}),m=y.actions,v=y.reducer,g=m.adjustMissionMapping,b=m.cancelMappingEditorSessionAtCurrentSlot,w=m.clearGeofencePolygonId,E=m.clearMapping,S=(m.clearMappingSlot,m.commitMappingEditorSessionAtCurrentSlot),O=m.finishMappingEditorSession,x=m.removeUAVsFromMapping,A=m.replaceMapping,k=m.setCommandsAreBroadcast,j=m.setGeofenceAction,C=m.setGeofencePolygonId,P=m.setMappingLength,I=m.startMappingEditorSession,T=m.startMappingEditorSessionAtSlot,L=m.togglePreferredChannel,_=m.updateHomePositions,Z=m.updateLandingPositions,N=m.updateTakeoffHeadings;const D=v},60587:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var n=(0,r(24268).PH)("objects/notifyObjectsDeletedOnServer")},27178:(e,t,r)=>{"use strict";r.d(t,{$e:()=>m,I2:()=>f,JR:()=>h,Ld:()=>p,VF:()=>d,ZP:()=>v,on:()=>y});r(68309),r(26699),r(32023),r(47042),r(41539),r(91038),r(78783),r(74916),r(77601),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(24268),o=r(45150),a=r(97215);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=(0,n.oM)({name:"parameters",initialState:{manifest:{byId:{},order:[]},rebootAfterUpload:!1,dialog:{open:!1}},reducers:{clearManifest:(0,a.WZ)((function(e){(0,o.iW)(e.manifest)})),closeParameterUploadSetupDialog:(0,a.WZ)((function(e){e.dialog.open=!1})),removeParameterFromManifest:function(e,t){var r=t.payload,n=e.manifest;r&&"string"==typeof r&&(0,o.zD)(n,r)},setRebootAfterUpload:function(e,t){e.rebootAfterUpload=Boolean(t.payload)},showParameterUploadSetupDialog:(0,a.WZ)((function(e){e.dialog.open=!0})),updateParametersInManifest:function(e,t){var r=t.payload,n=e.manifest;if(Array.isArray(r)){var a,c=i(r);try{for(c.s();!(a=c.n()).done;){var l=a.value,u=l.name,s=l.value;n.order.includes(u)>=0&&(0,o.zD)(n,u),(0,o.DY)(n,{id:u,name:u,value:s})}}catch(e){c.e(e)}finally{c.f()}}}}}),u=l.actions,s=l.reducer,f=u.clearManifest,p=u.closeParameterUploadSetupDialog,d=u.removeParameterFromManifest,h=u.setRebootAfterUpload,y=u.showParameterUploadSetupDialog,m=u.updateParametersInManifest;const v=s},55702:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>s,bH:()=>u,mS:()=>l});r(40561);var n=r(24268),o=r(45150),a=(0,n.oM)({name:"docks",initialState:{groups:{byId:{weather:{id:"weather",label:"Weather"},permissions:{id:"permissions",label:"Permissions"},equipment:{id:"equipment",label:"Equipment"},environment:{id:"environment",label:"Environment"}},order:["weather","permissions","equipment","environment"]},items:{byId:{"weather-wind-speed":{id:"weather-wind-speed",label:"Wind speed is within an acceptable range",groupId:"weather"},"weather-visibility":{id:"weather-visibility",label:"Visibility sufficient for flight",groupId:"weather"},"weather-precipitation":{id:"weather-precipitation",label:"Precipitation within acceptable range",groupId:"weather"},"planetary-k-index":{id:"planetary-k-index",label:"No geomagnetic storms indicated by Kp-index",groupId:"weather"},"permissions-drone-pilot-license":{id:"permissions-drone-pilot-license",label:"Drone pilot license is valid",groupId:"permissions"},"permissions-airspace-authorization":{id:"permissions-airspace-authorization",label:"Airspace authorization has been obtained",groupId:"permissions"},"equipment-rc-charged":{id:"equipment-rc-charged",label:"Remote controller batteries are charged",groupId:"equipment"},"equipment-propellers-mounted":{id:"equipment-propellers-mounted",label:"Drone propellers are securely mounted",groupId:"equipment"},"equipment-no-visible-damage":{id:"equipment-no-visible-damage",label:"No visible damage on drone components",groupId:"equipment"},"environment-no-obstructions":{id:"environment-no-obstructions",label:"No obstructions in takeoff area",groupId:"environment"},"environment-cordoned-off":{id:"environment-cordoned-off",label:"Takeoff and landing area cordoned off",groupId:"environment"},"environment-flight-path-clear":{id:"environment-flight-path-clear",label:"No people below flight paths",groupId:"environment"}},order:["weather-wind-speed","weather-visibility","weather-precipitation","permissions-drone-pilot-license","permissions-airspace-authorization","equipment-rc-charged","equipment-propellers-mounted","equipment-no-visible-damage","environment-no-obstructions","environment-cordoned-off","environment-flight-path-clear"]},checked:[]},reducers:{clearPreflightCheckGroups:function(e){(0,o.iW)(e.items),(0,o.iW)(e.groups),e.checked=[]},clearPreflightCheckListItems:function(e){(0,o.iW)(e.items),e.checked=[]},setPreflightCheckListItems:function(e,t){var r=t.payload,n=r.groups,o=r.items;n.byId&&n.order&&o.byId&&o.order&&(e.items={byId:o.byId,order:o.order},e.groups={byId:n.byId,order:n.order},e.checked=[])},setPreflightCheckStatus:function(e,t){var r=t.payload,n=r.id,o=r.checked,a=e.items.byId[n],i=e.checked.indexOf(n);a&&(o&&i<0?e.checked.push(n):!o&&i>=0&&e.checked.splice(i,1))},togglePreflightCheckStatus:function(e,t){var r=t.payload,n=e.items.byId[r],o=e.checked.indexOf(r);n&&(o<0?e.checked.push(r):o>=0&&e.checked.splice(o,1))}}}),i=a.actions,c=a.reducer,l=(i.clearPreflightCheckGroups,i.clearPreflightCheckListItems,i.setPreflightCheckListItems),u=(i.setPreflightCheckStatus,i.togglePreflightCheckStatus);const s=c},21995:(e,t,r)=>{"use strict";r.d(t,{N:()=>s,Z:()=>u});r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337);var n=r(24268);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={cancelButtonLabel:"Cancel",dialogVisible:!1,fieldType:"text",hintText:void 0,message:void 0,submitButtonLabel:"Submit",title:void 0},l=(0,n.oM)({name:"prompt",initialState:a({},c),reducers:{_cancelPromptDialog:function(e){e.dialogVisible=!1},_showPromptDialog:{prepare:function(e,t){return{payload:a(a({},"string"==typeof t?{initialValue:t}:t),{},{message:e})}},reducer:function(e,t){return a(a(a({},c),t.payload),{},{dialogVisible:!0})}},_submitPromptDialog:function(e){e.dialogVisible=!1}}}),u=l.reducer,s=l.actions},50901:(e,t,r)=>{"use strict";r.d(t,{$m:()=>h,Dp:()=>u,O1:()=>p,Pw:()=>d,ZP:()=>m,aO:()=>f,dx:()=>y,tP:()=>s});r(92087);var n=r(27601),o=r(24268),a=r(97215),i=(0,o.oM)({name:"rtk",initialState:{stats:{lastUpdatedAt:null,satellites:{},messages:{},antenna:{descriptor:null,height:null,position:null,positionECEF:null,serialNumber:null,stationId:null},survey:{accuracy:null,flags:0}},dialog:{open:!1,antennaPositionFormat:"lonLat",surveySettingsEditorVisible:!1}},reducers:{closeRTKSetupDialog:(0,a.WZ)((function(e){e.dialog.open=!1})),closeSurveySettingsPanel:(0,a.WZ)((function(e){e.dialog.surveySettingsEditorVisible=!1})),showRTKSetupDialog:(0,a.WZ)((function(e){e.dialog.open=!0})),resetRTKStatistics:function(e){e.stats.lastUpdatedAt=null,e.stats.antenna={},e.stats.satellites={},e.stats.messages={},e.stats.survey={}},setAntennaPositionFormat:function(e,t){e.dialog.antennaPositionFormat=String(t.payload)},toggleSurveySettingsPanel:(0,a.WZ)((function(e){e.dialog.surveySettingsEditorVisible=!e.dialog.surveySettingsEditorVisible})),updateRTKStatistics:function(e,t){var r=t.payload,o=r.antenna,a=r.lastUpdatedAt,i=r.messages,c=r.cnr,l=r.survey;e.stats.antenna=o,e.stats.lastUpdatedAt=a,e.stats.messages=i,e.stats.satellites=c,void 0===e.stats.survey&&(e.stats.survey={}),(0,n.default)(l.accuracy)||(e.stats.survey.accuracy=l.accuracy),(0,n.default)(l.flags)||(e.stats.survey.flags=l.flags)}}}),c=i.actions,l=i.reducer,u=c.closeRTKSetupDialog,s=c.closeSurveySettingsPanel,f=c.resetRTKStatistics,p=c.setAntennaPositionFormat,d=c.showRTKSetupDialog,h=c.toggleSurveySettingsPanel,y=c.updateRTKStatistics;const m=l},34969:(e,t,r)=>{"use strict";r.d(t,{N:()=>o,Z:()=>a});var n=(0,r(24268).oM)({name:"saved-location-editor",initialState:{dialogVisible:!1,editedLocationId:void 0},reducers:{_cancelLocationEditing:function(e){e.editedLocationId=void 0},_closeSavedLocationEditorDialog:function(e){e.dialogVisible=!1},editSavedLocation:function(e,t){var r=t.payload;e.dialogVisible=!0,e.editedLocationId=r}}}),o=n.actions,a=n.reducer},39581:(e,t,r)=>{"use strict";r.d(t,{N:()=>c,Z:()=>l});var n=r(89214),o=r(24268),a=r(45150),i=(0,o.oM)({name:"savedLocations",initialState:{byId:{fahegy:{id:"fahegy",name:"Farkashegy Airfield",center:{lon:18.915125,lat:47.486305},rotation:59,zoom:17,notes:""},elte:{id:"elte",name:"ELTE Garden",center:{lon:19.061951,lat:47.47334},rotation:0,zoom:17,notes:""}},order:["fahegy","elte"]},reducers:{addSavedLocation:function(e,t){return(0,a.DY)(e,t.payload)},createNewSavedLocation:function(e,t){return(0,a.v7)(e,t)},deleteSavedLocation:function(e,t){var r=t.payload;delete e.byId[r],(0,n.Z)(e.order,r)},updateSavedLocation:function(e,t){return(0,a.lQ)(e,t.payload)}}}),c=i.actions,l=i.reducer},98696:(e,t,r)=>{"use strict";r.d(t,{N:()=>o,Z:()=>a});var n=(0,r(24268).oM)({name:"authentication-dialog",initialState:{lastError:void 0,open:!1},reducers:{authenticateToServerFulfilled:function(e,t){var r=t.payload;r.result?(e.lastError=void 0,e.open=!1):e.lastError=r.reason||"Unexpected failure"},authenticateToServerPending:function(e){e.lastError=void 0},closeAuthenticationDialog:function(e){e.lastError=void 0,e.open=!1},showAuthenticationDialog:function(e){e.lastError=void 0,e.open=!0}}}),o=n.actions,a=n.reducer},83402:(e,t,r)=>{"use strict";r.d(t,{b:()=>o,j:()=>n});var n=1e3,o=500},97295:(e,t,r)=>{"use strict";r.d(t,{N:()=>o,Z:()=>a});var n=(0,r(24268).oM)({name:"deauthentication-dialog",initialState:{open:!1},reducers:{closeDeauthenticationDialog:function(e){e.open=!1},showDeauthenticationDialog:function(e){e.open=!0}}}),o=n.actions,a=n.reducer},39872:(e,t,r)=>{"use strict";r.d(t,{$8:()=>j,$F:()=>O,AV:()=>D,BJ:()=>S,B_:()=>p,Gd:()=>N,IC:()=>A,Io:()=>T,J9:()=>I,Lm:()=>M,Mb:()=>P,Ni:()=>f,Q7:()=>U,QE:()=>h,RU:()=>g,WL:()=>v,a6:()=>k,cV:()=>y,e0:()=>_,eJ:()=>Z,gc:()=>R,iO:()=>d,oY:()=>b,uF:()=>m,wI:()=>F,xd:()=>C});r(92222),r(41539);var n,o=r(27601),a=r(22222),i=r(98419),c=r(45150),l=r(83402),u=r(86911),s=r(32726),f=function(e){return e.servers.token||void 0},p=function(e){return e.servers.current.timeSync.clockSkew},d=(0,a.createSelector)((function(e){return e.servers.current.timeSync}),(function(e){var t=e.clockSkew,r=e.roundTripTime;return!(0,o.default)(t)&&!(0,o.default)(r)&&r<=l.b&&Math.abs(t)<=r/2?0:t})),h=function(e){return e.servers.current.timeSync.roundTripTime},y=function(e){return e.dialogs.serverSettings.protocol||u.b$.WS},m=function(e){return e.dialogs.serverSettings.hostName},v=function(e){return e.dialogs.serverSettings.port},g=((0,a.createSelector)((function(e){return e.dialogs.serverSettings}),(function(e){var t=e.hostName,r=e.port;return t?"".concat(t,":").concat(r):void 0})),(0,a.createSelector)((function(e){return e.dialogs.serverSettings}),(function(e){var t=e.hostName,r=e.port,n=e.isSecure;return t?"".concat(n?"https:":"http:","//").concat(t,":").concat(r):void 0}))),b=function(e){return e.servers.current},w=function(e){return e.servers.current.features},E=function(e){return e.servers.current.license},S=function(e){return e.servers.current.version},O=(0,a.createSelector)((function(e){return e.servers.detected}),c.vA),x=(0,a.createSelector)(b,(function(e){return e.state===i.em.CONNECTED?e.authentication:s.UI})),A=(0,a.createSelector)(x,(function(e){return e.user})),k=(0,a.createSelector)(x,(function(e){return e.valid})),j=(0,a.createSelector)(A,Boolean),C=function(e){return e.servers.isAuthenticating},P=(0,a.createSelector)(b,(function(e){return e.state===i.em.CONNECTED})),I=(0,a.createSelector)(b,(function(e){return e.state===i.em.CONNECTING})),T=(0,a.createSelector)(x,(function(e){return e.methods&&e.methods.length>0})),L=function(e){return(0,a.createSelector)(w,(function(t){return void 0!==t[e]}))},_=L("virtual_uavs"),Z=L("map_cache"),N=(n="pro",(0,a.createSelector)(E,(function(e){var t;return null==e||null===(t=e.features)||void 0===t?void 0:t.some((function(e){return e.type===n}))}))),D=(0,a.createSelector)(x,(function(e){return e.required})),R=function(e){return e.servers.current.timeSync.adjusting},F=function(e){return e.servers.current.timeSync.calculating},M=(0,a.createSelector)((function(e){return e.servers.current.timeSync}),(function(e){var t=e.clockSkew,r=e.roundTripTime;return!(0,o.default)(t)&&!(0,o.default)(r)&&Math.abs(t)>Math.max(r/2,l.j)})),U=function(e){return e.servers.timeSyncDialog.open}},86911:(e,t,r)=>{"use strict";r.d(t,{Nw:()=>u,SW:()=>a,ZP:()=>l,b$:()=>i});r(19601);var n=r(24268),o=r(97215),a=window.bridge&&window.bridge.createTCPSocket,i={TCP:"tcp",WS:"ws"},c=(0,n.oM)({name:"server-settings-dialog",initialState:{active:!1,protocol:a?i.TCP:i.WS,hostName:null,port:a?5001:5e3,isSecure:!1,dialogVisible:!1,selectedTab:"auto"},reducers:{closeServerSettingsDialog:function(e,t){Object.assign(e,t.payload,{dialogVisible:!1})},disconnectFromServer:function(e){e.active=!1},setServerSettingsDialogTab:function(e,t){e.selectedTab=t.payload},showServerSettingsDialog:(0,o.WZ)((function(e){e.dialogVisible=!0})),updateServerSettings:function(e,t){Object.assign(e,t.payload)}}}),l=c.reducer,u=c.actions},32726:(e,t,r)=>{"use strict";r.d(t,{$A:()=>A,D$:()=>I,DV:()=>E,Fg:()=>g,Fy:()=>O,GP:()=>y,HD:()=>P,IF:()=>k,MA:()=>b,UI:()=>s,V3:()=>_,WU:()=>T,ZP:()=>Z,_1:()=>w,_p:()=>v,fR:()=>j,fc:()=>S,fv:()=>x,hn:()=>C,nD:()=>L,pv:()=>m});r(92222),r(68309),r(35192),r(9653),r(21249),r(47042),r(41539),r(91038),r(78783),r(74916),r(77601),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(24268),o=r(98419),a=r(8774),i=r(97215);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s={methods:[],required:!1,user:"",valid:!1};function f(e,t){var r=t.action,n=t.inferred,o=r.payload,a=o.hostName,i=o.label,c=o.port,l=o.protocol,u=n?"inferred":"detected",s="".concat(a,":").concat(c,":").concat(u,":").concat(l),f={id:s,hostName:a,label:i,port:c,protocol:l,type:u};r.key=s,void 0===e.detected.byId[s]?(r.wasAdded=!0,e.detected.order.push(s)):r.wasAdded=!1,e.detected.byId[s]=f}var p=(0,n.oM)({name:"servers",initialState:{current:{authentication:s,features:{},license:null,state:o.em.DISCONNECTED,timeSync:{adjusting:!1,adjustmentResult:null,calculating:!1,clockSkew:null,roundTripTime:null},version:null},isAuthenticating:!1,isScanning:!1,detected:{byId:{},order:[]},token:(0,a.Q)(),timeSyncDialog:{open:!1}},reducers:{addDetectedServer:function(e,t){f(e,{action:t,inferred:!1})},addInferredServer:function(e,t){f(e,{action:t,inferred:!0})},addServerFeatures:function(e,t){var r=t.payload;Array.isArray(r)||(r=[r]);var n,o=l(r);try{for(o.s();!(n=o.n()).done;){var a=n.value;"object"!==c(a)&&(a={name:String(a),data:!0});var i=a,u=i.name,s=i.data;e.current.features[u]=s}}catch(e){o.e(e)}finally{o.f()}},adjustServerTimePromisePending:function(e){e.current.timeSync.adjusting=!0,e.current.timeSync.adjustmentResult=null},adjustServerTimePromiseFulfilled:function(e){e.current.timeSync.adjusting=!1,e.current.timeSync.adjustmentResult=!0},adjustServerTimePromiseRejected:function(e){e.current.timeSync.adjusting=!1,e.current.timeSync.adjustmentResult=!1},authenticateToServerPromisePending:function(e){e.isAuthenticating=!0},authenticateToServerPromiseFulfilled:function(e){e.isAuthenticating=!1},authenticateToServerPromiseRejected:function(e){e.isAuthenticating=!1},clearAuthenticatedUser:function(e){e.current.authentication.user=""},clearAuthenticationToken:function(e){e.token=void 0},clearServerFeatures:function(e){e.current.features={}},clearServerLicense:function(e){e.current.license=null},clearTimeSyncStatistics:function(e){e.current.timeSync={clockSkew:null,roundTripTime:null}},calculateClockSkewPromisePending:function(e){e.current.timeSync.calculating=!0},calculateClockSkewPromiseFulfilled:function(e,t){e.current.timeSync.calculating=!1;var r=t.payload,n=r.clockSkew,o=r.roundTripTime;e.current.timeSync.clockSkew="number"==typeof n&&Number.isFinite(n)?n:null,e.current.timeSync.roundTripTime="number"==typeof o&&Number.isFinite(o)?o:null},calculateClockSkewPromiseRejected:function(e){e.current.timeSync.calculating=!1},closeTimeSyncWarningDialog:(0,i.WZ)((function(e){e.timeSyncDialog.open=!1})),openTimeSyncWarningDialog:(0,i.WZ)((function(e){e.timeSyncDialog.open=!0})),removeAllDetectedServers:function(e){e.detected={byId:{},order:[]}},setAuthenticatedUser:function(e,t){e.current.authentication.user=t.payload||""},setCurrentServerConnectionState:function(e,t){var r=t.payload;e.current.state=r,r===o.em.DISCONNECTED&&(e.current.authentication=s)},setServerLicense:function(e,t){var r=t.payload;e.current.license=r},setServerVersion:function(e,t){var r=t.payload;e.current.version=r},startScanning:function(e){e.isScanning=!0},stopScanning:function(e){e.isScanning=!1},updateCurrentServerAuthenticationSettings:function(e,t){var r=t.payload,n=r.methods,o=r.required,a=r.user;Array.isArray(n)&&(e.current.authentication.required=Boolean(o),e.current.authentication.methods=n.map((function(e){return String(e)})),void 0!==a&&(e.current.authentication.user=a),e.current.authentication.valid=!0)},updateDetectedServerHostname:function(e,t){var r=t.payload,n=r.key,o=r.hostName;void 0!==e.detected.byId[n]&&(e.detected.byId[n].hostName=o)},updateDetectedServerLabel:function(e,t){var r=t.payload,n=r.key,o=r.label;void 0!==e.detected.byId[n]&&(e.detected.byId[n].label=o)}}}),d=p.actions,h=p.reducer,y=d.addDetectedServer,m=d.addInferredServer,v=d.addServerFeatures,g=d.authenticateToServerPromiseFulfilled,b=(d.authenticateToServerPromisePending,d.authenticateToServerPromiseRejected,d.clearAuthenticatedUser,d.clearAuthenticationToken),w=d.clearServerFeatures,E=d.clearServerLicense,S=d.clearTimeSyncStatistics,O=d.closeTimeSyncWarningDialog,x=d.openTimeSyncWarningDialog,A=d.removeAllDetectedServers,k=d.setAuthenticatedUser,j=d.setCurrentServerConnectionState,C=d.setServerLicense,P=d.setServerVersion,I=d.startScanning,T=d.stopScanning,L=d.updateCurrentServerAuthenticationSettings,_=d.updateDetectedServerHostname;d.updateDetectedServerLabel;const Z=h},35468:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});r(47941),r(82526),r(19601);var n=r(45697),o=r.n(n),a=r(67294),i=r(86706),c=r(31051),l=r(15924),u=(r(57327),r(41539),r(38880),r(54747),r(49337),r(86010)),s=r(41120),f=r(22091),p=r(23987),d=r(35183),h=r(34206),y=r(76206),m=r(59269),v=r(96894);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}var E=m.hy,S=(0,s.Z)((function(e){return{row:{display:"flex",flexDirction:"row",flexWrap:"no-wrap",alignItems:"baseline",margin:e.spacing(0,-.5,.5,0),"& .muted":{color:e.palette.text.disabled}},uavIdCell:{display:"inline-block",fontWeight:"bold",overflow:"hidden"},pill:{display:"inline-block",margin:e.spacing(0,.5,0,0),verticalAlign:"text-top"},statusPill:{minWidth:88+e.spacing(.5),flex:1},modePill:{minWidth:48,flex:1},gpsPill:{minWidth:40,flex:1},batteryIndicator:{display:"inline-block",flex:1,fontFamily:e.typography.fontFamily,minWidth:48,textAlign:"left",padding:e.spacing(0,.75),whiteSpace:"noWrap"},altitudeLabel:{flex:1,textAlign:"center",whiteSpace:"noWrap",margin:e.spacing(0,1,0,0)},numSatellitesLabel:{flex:1,textAlign:"center",whiteSpace:"noWrap"}}}),{name:"DroneInfoTooltipContent"}),O=a.createElement("span",{className:"muted"},"\u2014"),x=function(e){var t=e.batteryFormatter,r=e.batteryStatus,n=e.details,o=e.gpsFix,i=e.heading,c=e.label,l=e.localPosition,s=e.mode,f=e.position,h=e.text,v=e.textSemantics,g=S(),b=o||{},x=b.type,A=b.numSatellites,k=l&&Array.isArray(l);return a.createElement(a.Fragment,null,a.createElement("div",{className:g.row},a.createElement("div",{className:g.uavIdCell},c),a.createElement("div",{className:g.batteryIndicator},a.createElement(p.Z,w({formatter:t},r))),a.createElement("div",null,(0,m.HP)(i,1,"\xb0",O))),a.createElement("div",{className:g.row},a.createElement(d.Z,{inline:!0,className:(0,u.default)(g.pill,g.statusPill),status:v},n||h)),a.createElement("div",{className:g.row},a.createElement(d.Z,{inline:!0,className:(0,u.default)(g.pill,g.modePill),status:"off"},s?(0,y.QF)(s):"----"),a.createElement(d.Z,{inline:!0,hollow:!0,className:(0,u.default)(g.pill,g.gpsPill),status:(0,y.nP)(x)},x?(0,y.b_)(x):"\u2014")),a.createElement("div",{className:g.row},k?E(l):a.createElement(a.Fragment,null,a.createElement("div",{className:g.altitudeLabel},(0,m.HP)(null==f?void 0:f.ahl,1," m",O),a.createElement("span",{className:"muted"},"\xa0","AHL")),a.createElement("div",{className:g.numSatellitesLabel},(0,m.HP)(A,0,"",O),a.createElement("span",{className:"muted"},"\xa0","sats")))))};x.propTypes={batteryFormatter:o().instanceOf(f.C),batteryStatus:o().shape({cellCount:o().number,charging:o().bool,voltage:o().number,percentage:o().number}),details:o().string,gpsFix:o().shape({type:o().number,numSatellites:o().number}),heading:o().number,label:o().string,localPosition:o().arrayOf(o().number),mode:o().string,position:o().shape({ahl:o().number}),text:o().string,textSemantics:o().string};const A=(0,i.$j)((function(){var e=(0,v.vN)();return function(t,r){var n=r.id,o=(0,v.Rk)(t,n);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({batteryFormatter:(0,h.KI)(t),gpsFix:null==o?void 0:o.gpsFix,heading:null==o?void 0:o.heading,label:n,localPosition:null==o?void 0:o.localPosition,missing:!o,mode:null==o?void 0:o.mode,position:null==o?void 0:o.position},e(t,r.id))}}))(x);var k=r(96354),j=r(41323),C=["featureId"];function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(this,arguments)}function I(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var T=a.memo((function(e){var t=e.featureId;return(0,k.bf)(t)?a.createElement(A,{id:(0,k.$7)(t)}):null}));T.propTypes={featureId:o().string};var L=function(e){var t=e.featureId,r=I(e,C),n=function(e){return e&&(0,k.bf)(e)}(t);return a.createElement(l.kR,P({followCursor:!0,ignoreAttributes:!0,mouseOnly:!0,duration:0,placement:"right",plugins:[c.Cv],visible:n,content:n?a.createElement(T,{featureId:t}):null},r))};L.propTypes={featureId:o().string};const _=(0,i.$j)((function(e){return{featureId:(0,j.f)(e)}}),{})(L)},41323:(e,t,r)=>{"use strict";function n(e){var t;return null===(t=e.session)||void 0===t?void 0:t.featureIdForTooltip}function o(e){var t;return null===(t=e.session)||void 0===t?void 0:t.broadcast}r.d(t,{d:()=>o,f:()=>n})},97948:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>d,c0:()=>s,kj:()=>p,pW:()=>l,us:()=>u,x2:()=>f});var n=r(24268),o=function(e,t){e.expiresAt=function(e,t){return"number"==typeof t&&t>=0?"number"==typeof e.expiresAt?Math.min(e.expiresAt,t):t:e.expiresAt}(e,t),e.expiresAt<=Date.now()&&(e.isExpired=!0)},a=(0,n.oM)({name:"session",initialState:{broadcast:!1,expiresAt:null,featureIdForTooltip:null,isExpired:!1},reducers:{ensureSessionExpiresNoLaterThan:function(e,t){o(e,t.payload)},ensureSessionIsNotLongerThan:function(e,t){var r=t.payload;if("number"==typeof r&&r>=0){var n=Date.now()+1e3*r;o(e,n)}},expireSession:function(e){o(e,Date.now())},setBroadcast:function(e,t){e.broadcast=Boolean(t.payload)},setFeatureIdForTooltip:function(e,t){e.featureIdForTooltip=t.payload||null}}}),i=a.actions,c=a.reducer,l=i.setBroadcast,u=i.ensureSessionExpiresNoLaterThan,s=i.ensureSessionIsNotLongerThan,f=i.expireSession,p=i.setFeatureIdForTooltip;const d=c},39720:(e,t,r)=>{"use strict";r.d(t,{$U:()=>v,Hy:()=>p,Nk:()=>h,Pb:()=>f,_v:()=>g,jZ:()=>d,qX:()=>m,yN:()=>y});r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337);var n=r(27601),o=r(70760),a=r(34206),i=r(37665),c=r(39928);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=c.N.closeAppSettingsDialog,p=c.N.setAppSettingsDialogTab,d=c.N.showAppSettingsDialog,h=c.N.toggleAppSettingsDialog;function y(e){return function(t){t((0,i.IA)("display",{uavListFilters:(0,n.default)(e)||e===o.DB.DEFAULT?[]:[e]}))}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.key,r=e.reverse;return function(e,n){var o=(0,a.UP)(n()),c={},l=!1;t&&"string"==typeof t&&t.length>0&&(c.key=t,l=!0),null!=r&&(c.reverse=Boolean(r),l=!0),l&&e((0,i.IA)("display",{uavListSortPreference:u(u({},o),c)}))}}function v(){return function(e,t){var r=(0,a.UP)(t());e((0,i.IA)("display",{uavListSortPreference:u(u({},r),{},{reverse:!r.reverse})}))}}function g(e,t){return function(r,n){var o=n().settings.uavs,a=o.fullChargeVoltage,c=o.lowVoltageThreshold,l=o.criticalVoltageThreshold;switch(e){case"criticalVoltageThreshold":l=t,c=Math.max(l,c),a=Math.max(c,a);break;case"lowVoltageThreshold":c=t,a=Math.max(c,a),l=Math.min(c,l);break;case"fullChargeVoltage":a=t,c=Math.min(a,c),l=Math.min(c,l)}r((0,i.IA)("uavs",{fullChargeVoltage:a,lowVoltageThreshold:c,criticalVoltageThreshold:l}))}}},39928:(e,t,r)=>{"use strict";r.d(t,{N:()=>c,Z:()=>i});var n=r(24268),o=r(97215),a=(0,n.oM)({name:"app-settings",initialState:{open:!1,selectedTab:"display"},reducers:{closeAppSettingsDialog:function(e){e.open=!1},setAppSettingsDialogTab:function(e,t){e.selectedTab=t.payload},showAppSettingsDialog:(0,o.WZ)((function(e){e.open=!0})),toggleAppSettingsDialog:(0,o.WZ)((function(e){e.open=!e.open}))}}),i=a.reducer,c=a.actions},34206:(e,t,r)=>{"use strict";r.d(t,{AD:()=>y,BN:()=>I,CX:()=>w,Em:()=>L,KI:()=>v,Pb:()=>N,QW:()=>T,Qr:()=>C,Rf:()=>k,UP:()=>P,WQ:()=>j,Yg:()=>m,cT:()=>O,eD:()=>g,f8:()=>Z,nx:()=>_,sx:()=>b,y3:()=>S,yI:()=>E});r(9653),r(69720),r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337),r(41817),r(32165),r(66992),r(78783),r(33948),r(47042),r(68309),r(91038),r(74916),r(77601);var n=r(22222),o=r(31182),a=r(22091),i=r(63618),c=r(27638),l=r(84038),u=r(18636);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){var t;return(null===(t=e.settings.display)||void 0===t?void 0:t.altitudeSummaryType)||l.nN.AMSL},m=(0,n.createSelector)((function(e){return e.settings.uavs}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultBatteryCellCount,r=void 0===t?c.uV:t,n=e.fullChargeVoltage,o=void 0===n?c.yj:n,a=e.lowVoltageThreshold,l=void 0===a?c.jO:a,u=e.criticalVoltageThreshold,s=void 0===u?c.YI:u;return new i.h({defaultBatteryCellCount:r,voltageThresholds:{full:o,low:l,critical:s,empty:3.3}})})),v=(0,n.createSelector)(m,(function(e){return e.settings.uavs}),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.preferredBatteryDisplayStyle,n=void 0===r?l.ol.VOLTAGE:r;return new a.C({settings:e,style:n})})),g=function(e){return(e.settings.uavs.placementAccuracy||1e3)/1e3},b=function(e){return e.settings.uavs.takeoffHeadingAccuracy||20},w=function(e){return e.settings.display.language},E=function(e){var t=e.settings.threeD,r=t.scenery,n=t.lighting;return"day"===r?"light":"night"===r?"dark":"light"===n?"light":"dark"},S=function(e){var t=e.settings.threeD.scenery;return"day"===t||"night"===t?"outdoor":"indoor"===t?"indoor":"auto"===t?"auto":"outdoor"},O=(0,n.createSelector)((function(e){return e.settings.uavs}),(function(e){var t=e.warnThreshold,r=e.goneThreshold,n=e.forgetThreshold,o=e.autoRemove;return{goneThreshold:Math.max(1e3,1e3*r),warnThreshold:Math.max(1e3,1e3*t),forgetThreshold:o?Math.max(1e3,1e3*n):Number.POSITIVE_INFINITY}})),x=[],A={key:u.$O.DEFAULT,reverse:!1},k=function(e){var t;return(null===(t=e.settings.display)||void 0===t?void 0:t.uavListFilters)||x},j=function(e){return e.settings.display.uavListLayout},C=function(e){return"grid"===j(e)?"horizontal":"vertical"};function P(e){var t;return(null===(t=e.settings.display)||void 0===t?void 0:t.uavListSortPreference)||A}var I=function(e){var t;return!(null!==(t=e.settings.display)&&void 0!==t&&t.hideEmptyMissionSlots)},T=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.showMissionIds},L=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.experimentalFeaturesEnabled},_=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.hideInactiveSegmentsOnDarkLCD},Z=function(e){var t;return null===(t=e.settings.display)||void 0===t?void 0:t.optimizeUIForTouch},N=(0,n.createSelector)((function(e){return e.settings.apiKeys}),(function(e){for(var t={},r=0,n=Object.entries(d(d({},o.Z),e));r<n.length;r++){var a=s(n[r],2),i=a[0],c=a[1];t[String(i).toUpperCase()]=String(c||o.Z[i])||""}return t}))},37665:(e,t,r)=>{"use strict";r.d(t,{IA:()=>b,KI:()=>m,Ok:()=>v,Uy:()=>g,ZP:()=>w});r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337);var n,o=r(4698),a=r(24268),i=r(27638),c=r(84038),l=r(18636),u=r(88689);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=(0,a.oM)({name:"settings",initialState:{display:{altitudeSummaryType:c.nN.AMSL,coordinateFormat:c.mY.SIGNED_DEGREES,experimentalFeaturesEnabled:!1,hideEmptyMissionSlots:!1,language:"en",optimizeForSingleUAV:o.Z.optimizeForSingleUAV.default,optimizeUIForTouch:null!==(n=o.Z.optimizeUIForTouch.default)&&void 0!==n?n:u.qC,showMissionIds:!1,showMouseCoordinates:!0,showScaleLine:!0,theme:"auto",hideInactiveSegmentsOnDarkLCD:!1,uavListFilters:[],uavListLayout:"grid",uavListSortPreference:{key:l.$O.DEFAULT,reverse:!1}},threeD:{scenery:"auto",lighting:"dark",grid:"none",quality:"medium",showAxes:!0,showHomePositions:!0,showLandingPositions:!1,showStatistics:!1,showTrajectoriesOfSelection:!0},localServer:{cliArguments:"",enabled:!1,searchPath:[]},uavs:{autoRemove:!1,warnThreshold:3,goneThreshold:60,forgetThreshold:600,placementAccuracy:1e3,defaultBatteryCellCount:i.uV,fullChargeVoltage:i.yj,lowVoltageThreshold:i.jO,criticalVoltageThreshold:i.YI,preferredBatteryDisplayStyle:c.ol.VOLTAGE},apiKeys:{}},reducers:{replaceAppSettings:{prepare:function(e,t){return{payload:{category:e,updates:t}}},reducer:function(e,t){var r=t.payload,n=r.category,o=r.updates;void 0!==e[n]&&(e[n]=o)}},toggleLightingConditionsInThreeDView:{prepare:function(){return{}},reducer:function(e){e.threeD.lighting="dark"===e.threeD.lighting?"light":"dark"}},toggleMissionIds:{prepare:function(){return{}},reducer:function(e){e.display.showMissionIds=!e.display.showMissionIds}},updateAppSettings:{prepare:function(e,t){return{payload:{category:e,updates:t}}},reducer:function(e,t){var r=t.payload,n=r.category,o=r.updates;void 0!==e[n]&&(e[n]=f(f({},e[n]),o))}}}}),h=d.actions,y=d.reducer,m=h.replaceAppSettings,v=h.toggleLightingConditionsInThreeDView,g=h.toggleMissionIds,b=h.updateAppSettings;const w=y},94183:(e,t,r)=>{"use strict";r.d(t,{Aw:()=>W,Hk:()=>U,I0:()=>q,OA:()=>G,Qv:()=>ee,W2:()=>M,X7:()=>$,ae:()=>X,hx:()=>K,jX:()=>V,kL:()=>Q,rK:()=>J,yb:()=>z,zC:()=>D,zw:()=>Y});r(21249),r(57327),r(41539),r(35192),r(9653),r(56977),r(19601),r(88674),r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(72443),r(39341),r(73706),r(10408),r(30489),r(54747),r(68309),r(68304),r(47042),r(47941),r(38880),r(49337),r(91038),r(74916),r(77601);var n=r(66181),o=r(16423),a=r(26774),i=r(111),c=r(60188),l=r(12902),u=r(12662),s=r(41459),f=r(59068),p=r(62879),d=r(43710),h=r(93606),y=r(77646),m=r(5742),v=r(96894),g=r(40322),b=r(64209),w=r(7371),E=r(1566),S=r(97215),O=r(66744),x=r(36068),A=r(66999),k=r(20697);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function C(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(){_=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==j(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function Z(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function N(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Z(a,n,o,i,c,"next",e)}function c(e){Z(a,n,o,i,c,"throw",e)}i(void 0)}))}}var D=function(){return function(e){e((0,k.zG)(Date.now()))}},R=function(){return(0,g.fy)(O.oe)},F=function(){return function(e,t){var r=t(),n=(0,A._j)(r),o=(0,A.fn)(r),a=(0,A.H_)(r);e((0,h.pN)(n)),e((0,h.ZG)(o)),e((0,h.sp)(a))}},M=function(){return function(e){e((0,d.Zb)()),e((function(e,t){var r=t(),n=r.dialogs.geofenceSettings,o=n.horizontalMargin,a=n.simplify,i=n.maxVertexCount,c=(0,A.i7)(r);if(0!==c.length){var l=(0,A.T8)(r);if(!l)throw new Error("Outdoor coordinate system not set up yet");var u=(0,E.j)(c,o),d=a?(0,E.B5)(u,i):u,v={label:"Geofence",labelStyle:b.gF.HIDDEN,type:b.Te.LINE_STRING,owner:"show",color:s.wL.geofence,points:d.map((function(e){return l.toLonLat(e)}))},g=(0,p.JC)(r,v);e((0,f.EF)({feature:v,id:g})),e((0,h._X)(g))}else e((0,y.c)({message:"Could not calculate geofence coordinates. Did you load a show file?",semantics:m.jo.ERROR,permanent:!0}))}))}},U=function(e){return function(t,r){var n=(0,A._$)(r()),o=(0,w.KL)(n,e);t(V({origin:o,setupMission:!0}))}},G=function(e,t){return function(r,n){var o=(0,w.Gv)((0,A._$)(n())),a=new c.default(o);a.rotate((0,E.Yr)(-e),t);var i,l=(0,w.T$)(a.flatCoordinates);r((0,k.iD)(l)),r((i=e,function(e,t){var r=(0,A.nB)(t())+i;Number.isFinite(r)&&e(V({orientation:r.toFixed(1),setupMission:!0}))}))}},V=function(e){var t=e.origin,r=e.orientation,n=e.takeoffHeading,o=e.setupMission;return function(e){var a=!1;t&&(e((0,k.iD)(t)),a=!0),r&&(e((0,k.u$)(r)),a=!0),n&&(e((0,k.U2)(n)),a=!0),a&&(e(R()),o&&e(F()))}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.errorMessage,n=(0,S.FZ)("show/loading",e,{minDelay:500});return function(e){return function(){var t=N(_().mark((function t(o,a){var c,l,u;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=(0,i.Z)((function(e){o({type:k.rz.type,payload:e})}),200),o((0,k.Td)(!1)),o(R()),t.prev=3,l=o(n(e,{dispatch:o,getState:a,onProgress:c})),t.next=7,l;case 7:u=t.sent,H(u.value.spec,o),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(3),o((0,y.c)({message:r||"Failed to load show.",semantics:m.jo.ERROR,permanent:!0})),o((0,k.Td)(!0));case 17:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e,r){return t.apply(this,arguments)}}()}},W=B(function(){var e=N(_().mark((function e(t){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t&&t.path?"file://".concat(t.path):void 0,e.next=3,(0,u.loadCompiledShow)(t);case 3:return n=e.sent,e.abrupt("return",{spec:(0,l.vV)(n),url:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{errorMessage:"Failed to load show from the given file."}),z=B(function(){var e=N(_().mark((function e(t,r){var o,a,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.onProgress,e.next=3,(0,n.ZP)(t,{onDownloadProgress:function(e){e.totalBytes>0&&o(e.percent)}}).arrayBuffer();case 3:return a=e.sent,e.next=6,(0,u.loadCompiledShow)(a);case 6:return i=e.sent,e.abrupt("return",{spec:(0,l.vV)(i),url:t});case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),{errorMessage:"Failed to load show from the given URL."});function H(e,t){var r=(0,o.Z)(e,"swarm.drones");t((0,h.gi)(r.length));var n=(0,o.Z)(e,"environment");n.type&&t((0,k.Yb)(n.type)),"indoor"===n.type&&t((0,k.iD)(null)),t(F()),t((0,k.O0)()),"indoor"===n.type&&t((0,k.Ae)(x.V.AUTO))}function q(){return function(){var e=N(_().mark((function e(t,r){var n,o,a,i,c,l;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.bridge.getFileAsBlob){e.next=4;break}return e.abrupt("return");case 4:if(!(o=(0,A.C2)(r()))){e.next=14;break}return e.next=8,n(o);case 8:return a=e.sent,i=a.buffer,c=a.props,l=new Blob([i]),Object.assign(l,c),e.abrupt("return",t(W(l)));case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}var Y=function(){return function(e){e((0,k.wQ)(Date.now()))}},$=function(){return function(e){e((0,k.rm)(Date.now()))}},K=function(e){return function(t,r){var n=(0,A.c2)(r());t((0,k.cQ)([e,n[1]]))}},X=function(e){return function(t,r){var n=(0,A.c2)(r());t((0,k.cQ)([n[0],e]))}},Q=function(e){return function(t,r){t((0,k.WT)(T(T({},(0,A.Cj)(r())),{},{type:e}))),t(R())}},J=function(e){return function(t,r){var n=Number(e);Number.isFinite(n)&&n>=-1e4&&n<=1e4&&(t((0,k.WT)(T(T({},(0,A.Cj)(r())),{},{value:n}))),t(R()))}},ee=function(){return function(e,t){var r,n=t(),o=[],i=C((0,v.Xe)(n));try{for(i.s();!(r=i.n()).done;){var c=r.value,l=(0,v.ax)(n,c);l&&"number"==typeof l.amsl&&Number.isFinite(l.amsl)&&o.push(l.amsl)}}catch(e){i.e(e)}finally{i.f()}if(o.length>0){var u=(0,a.Z)(o)/o.length;e(J(u.toFixed(1)))}}}},66744:(e,t,r)=>{"use strict";r.d(t,{$q:()=>i,Nx:()=>n,V2:()=>a,Z7:()=>o,_f:()=>u,f1:()=>c,oe:()=>l});r(43371);var n={AHL:"ahl",AMSL:"amsl"},o={NONE:"none",ABSOLUTE:"absolute",RELATIVE:"relative"},a={type:n.AHL,value:0},i={type:o.RELATIVE,value:0},c={width:12,depth:12,height:6},l="showUpload",u=Object.freeze({type:l})},36068:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var n={RC:"rc",AUTO:"auto",_VALUES:["rc","auto"]}},66999:(e,t,r)=>{"use strict";r.d(t,{$C:()=>Z,AC:()=>X,Aw:()=>R,B2:()=>F,C2:()=>_,Cj:()=>W,D$:()=>Re,EM:()=>Ee,Eg:()=>Ne,Gu:()=>ee,H$:()=>me,HE:()=>le,H_:()=>te,K8:()=>N,KT:()=>ue,MV:()=>Q,OF:()=>Le,QL:()=>z,R9:()=>Pe,SR:()=>de,T8:()=>oe,TV:()=>ce,Uc:()=>C,VF:()=>G,Vq:()=>Fe,Vr:()=>P,YO:()=>Ce,Z6:()=>Me,_$:()=>Y,_j:()=>ye,_v:()=>ke,a0:()=>De,a8:()=>Se,b6:()=>I,be:()=>B,c2:()=>re,ce:()=>D,dN:()=>Ie,dx:()=>H,e7:()=>_e,ei:()=>Oe,fn:()=>be,fy:()=>M,i7:()=>fe,iG:()=>U,iP:()=>ve,ib:()=>je,k_:()=>L,nB:()=>$,nH:()=>ie,nJ:()=>Te,oe:()=>ne,qh:()=>he,rQ:()=>V,sB:()=>K,u3:()=>Ze,xe:()=>Ae,yf:()=>T,zO:()=>ae,zk:()=>j});r(23157),r(47042),r(35192),r(9653),r(61874),r(21249),r(84944),r(33792),r(43290),r(91038),r(78783),r(92222),r(56977),r(44048),r(82526),r(41817),r(41539),r(32165),r(66992),r(33948),r(68309),r(74916),r(77601);var n=r(38779),o=r(79033),a=r(42227),i=r(16423),c=r(69203),l=r(27601),u=r(90783),s=r(27812),f=r(22222),p=r(75879),d=r.n(p),h=r(67665),y=r(11607),m=r(55069),v=r(66817),g=r(59269),b=r(7371),w=r(1566),E=r(97215),S=r(66744),O=r(76772);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}var j=function(e){return Boolean(e.show.preflight.manualChecksSignedOffAt)},C=function(e){return Boolean(e.show.preflight.onboardChecksSignedOffAt)},P=function(e){return"synced"===e.show.start.syncStatusWithServer},I=function(e){var t=e.show.start.uavIds;return t?t.length:0},T=function(e){return e.show.lastLoadAttemptFailed},L=function(e){return"error"===e.show.start.syncStatusWithServer},_=(0,f.createSelector)((function(e){return e.show.sourceUrl}),(function(e){return e&&e.startsWith("file://")?e.slice("file://".length):null})),Z=function(e){return!(0,l.default)(Le(e))},N=function(e){return e.show.changedSinceLoaded},D=function(e){return Boolean(e.show.start.authorized)},R=function(e){return D(e)&&P(e)},F=function(e){return Boolean(e.show.preflight.takeoffAreaApprovedAt)},M=function(e){var t=(0,i.Z)(e,"show.data.settings");return"object"===k(t)?t:E.Nu},U=function(e){var t=(0,i.Z)(e,"show.data.swarm.drones");return Array.isArray(t)?t:E.LZ},G=function(e){return e.show.environment.type},V=function(e){return"indoor"===G(e)},B=function(e){return"outdoor"===G(e)},W=function(e){return(0,i.Z)(e,"show.environment.outdoor.altitudeReference")||S.V2},z=function(e){if(!B(e))return null;var t=W(e);return t&&t.type===S.Nx.AMSL&&"number"==typeof t.value&&Number.isFinite(t.value)?t.value:null},H=function(e){return(0,i.Z)(e,"show.environment.outdoor.coordinateSystem")},q=(0,f.createSelector)((function(e){return(0,i.Z)(e,"show.environment.indoor.coordinateSystem")}),(function(e){return e?Number.parseFloat(e.orientation):0})),Y=(0,f.createSelector)(H,(function(e){return e.origin})),$=(0,f.createSelector)(H,(function(e){return Number.parseFloat(e.orientation)})),K=(0,f.createSelector)(V,q,$,(function(e,t,r){return e?t:r})),X=function(e){return(0,i.Z)(e,"show.environment.outdoor.takeoffHeading")||S.$q},Q=(0,f.createSelector)(V,(function(e){return(0,i.Z)(e,"show.environment.indoor.takeoffHeading")||S.$q}),X,(function(e,t,r){return e?t:r})),J=function(e){var t=("object"===k(e)?e:S.$q).value;return("string"==typeof t?Number.parseFloat(t):"number"==typeof t?t:0)%360},ee=function(e){var t=Q(e);return J(t)},te=(0,f.createSelector)(Q,K,(function(e,t){var r=("object"===k(e)?e:S.$q).type,n=J(e);switch(r){case S.Z7.NONE:return;case S.Z7.ABSOLUTE:return n;case S.Z7.RELATIVE:return(t+n)%360;default:return}})),re=(0,f.createSelector)((function(e){var t,r,n;return null===(t=e.show.environment)||void 0===t||null===(r=t.indoor)||void 0===r||null===(n=r.room)||void 0===n?void 0:n.firstCorner}),(function(e){var t,r,n;return null===(t=e.show.environment)||void 0===t||null===(r=t.indoor)||void 0===r||null===(n=r.room)||void 0===n?void 0:n.secondCorner}),(function(e,t){return[e||[-S.f1.width/2,-S.f1.depth/2,0],t||[S.f1.width/2,S.f1.depth/2,S.f1.height]]})),ne=function(e){var t,r;return V(e)&&(null===(t=e.show.environment.indoor)||void 0===t||null===(r=t.room)||void 0===r?void 0:r.visible)},oe=(0,f.createSelector)(H,(function(e){return e&&e.origin?new b.kb(e):void 0})),ae=(0,f.createSelector)(oe,(function(e){return e?function(t){if(!(0,l.default)(t)){var r=x(t,3),n=r[0],o=r[1],a=r[2],i=x(e.toLonLat([n,o]),2);return{lon:i[0],lat:i[1],amsl:void 0,ahl:a}}}:void 0})),ie=(0,f.createSelector)(V,(function(e){return e?c.default:void 0})),ce=(0,f.createSelector)(U,(function(e){return e.length})),le=(0,f.createSelector)(U,(function(e){return e.map((function(e){var t=(0,i.Z)(e,"settings.trajectory");return(0,O.v_)(t)?t:void 0}))})),ue=d()(le,ae,v.iq,(function(e,t,r){if(void 0!==t){var n=e[r];return(0,O.v_)(n)?(0,O.Gv)(n,{includeControlPoints:!0}).map(t):void 0}}))({keySelector:v.iq}),se=(0,f.createSelector)(le,(function(e){return e.map(O.L9)})),fe=(0,f.createSelector)(se,(function(e){return(0,w.JI)(e.flat())})),pe=function(e,t){return t?e.map(t):Array.from({length:e.length}).fill(void 0)},de=(0,f.createSelector)(fe,ae,(function(e,t){return t?e.map(t):[]})),he=(0,f.createSelector)(le,(function(e){return e.map(O.VV)})),ye=(0,f.createSelector)(he,ae,pe),me=(0,f.createSelector)(ye,(function(e){var t=x((0,w.Az)(e.map((function(e){return[e.lon,e.lat]}))),2);return{lon:t[0],lat:t[1]}})),ve=(0,f.createSelector)(v.Lx,oe,(function(e,t){return Array.isArray(e)&&t&&t.fromLonLat?e.map((function(e){return t.fromLonLat(e)})):void 0})),ge=(0,f.createSelector)(le,(function(e){return e.map(O.rP)})),be=(0,f.createSelector)(ge,ae,pe);function we(e){if(!(0,O.v_)(e))return 0;var t=e.points,r=void 0===t?[]:t;if(0===r.length)return 0;var n=r[0][1],o=function(e){var t=e[1];return(0,w.p)(t,n)},a=(0,s.Z)(r,o);return a?o(a):0}var Ee=(0,f.createSelector)(le,(function(e){return(0,u.Z)(e.map(we))||0})),Se=(0,f.createSelector)(le,(function(e){return(0,u.Z)(e.map(O.$M))||0})),Oe=(0,f.createSelector)(le,(function(e){var t=(0,s.Z)(e,O.Dr);return t?(0,O.Dr)(t):0})),xe=(0,f.createSelector)(Oe,g.LU),Ae=(0,f.createSelector)(ce,xe,Se,(function(e,t,r){return"".concat(e," drones, ").concat(t,", max AHL ").concat(r.toFixed(1),"m")})),ke=function(e){var t=e.show.progress;return"number"==typeof t?100*t:null},je=function(e){return function(e){var t=Ee(e),r=(0,i.Z)(e,"dialogs.geofenceSettings.horizontalMargin");return(0,m.r)(t,r)}(e)},Ce=function(e){return function(e){var t=Se(e),r=(0,i.Z)(e,"dialogs.geofenceSettings.verticalMargin");return(0,m.T)(t,r)}(e)},Pe=function(e){return e.show.start.clock},Ie=(0,f.createSelector)((function(e){return e.show.data}),(function(e){return(e&&"object"===k(e.meta)?e.meta:null)||{}})),Te=function(e){return e.show.start.method},Le=function(e){var t=e.show.start,r=t.clock,n=t.timeOnClock,o=t.utcTime,a=(0,l.default)(r)?o:n;return(0,l.default)(a)||Number.isNaN(a)?null:a},_e=(0,f.createSelector)(Pe,Le,(function(e,t){return(0,l.default)(e)?t?(0,o.Z)((0,a.Z)(t)):void 0:e===y.m?t?(0,g.g)(t,{padHours:!0})+" MTC":void 0:(0,g.g)(t,{padHours:!0})+" on clock ".concat(e)})),Ze=(0,f.createSelector)(Ie,ce,(function(e,t){return e.title||"Show with ".concat(t," drones")})),Ne=function(e){return Boolean(e.show.data)},De=function(e){return Boolean((0,i.Z)(e,"show.environment.outdoor.coordinateSystem.origin"))},Re=function(e){return e.show.loading},Fe=(0,f.createSelector)(de,v.Lx,(function(e,t){return e&&(e=e.map((function(e){return[e.lon,e.lat]}))),!!(Array.isArray(t)&&t.length>0&&Array.isArray(e)&&e.length>0)&&(t=(0,w.MC)(t),e=(0,w.MC)(e),(0,h.ZP)(t,e))}));function Me(e){var t=(0,n.Z)(new Date,"yyyy-MM-dd_HH-mm-ss"),r=_(e),o=r?r.lastIndexOf("/"):-1,a=r&&o>=0?r.slice(o+1):r,i=a?a.lastIndexOf("."):-1,c=a&&i>0?a.slice(0,i):a;return c&&c.length>0?"".concat(c,"_mapping_").concat(t,".txt"):"mapping_".concat(t,".txt")}},20697:(e,t,r)=>{"use strict";r.d(t,{Ae:()=>$,B8:()=>ee,Cx:()=>C,Fp:()=>x,GN:()=>Z,Gs:()=>j,O0:()=>F,Rj:()=>D,Sl:()=>k,Td:()=>U,U2:()=>W,WC:()=>A,WT:()=>G,YN:()=>q,Yb:()=>M,ZP:()=>te,_u:()=>R,cQ:()=>z,gk:()=>I,iD:()=>B,jB:()=>w,jT:()=>L,nN:()=>E,o6:()=>Y,oN:()=>O,qp:()=>X,qv:()=>K,rD:()=>_,rR:()=>T,rm:()=>J,rz:()=>P,u$:()=>V,vT:()=>b,vj:()=>H,wQ:()=>Q,x5:()=>S,zG:()=>g,zm:()=>N});r(9653),r(44048),r(47042),r(26699),r(32023),r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337),r(41817),r(32165),r(66992),r(78783),r(33948);var n=r(42902),o=r(27601),a=r(48707),i=r(24268),c=r(12662),l=r(66744),u=r(36068),s=r(97215);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,i.oM)({name:"show",initialState:{data:null,loading:!1,progress:0,sourceUrl:null,changedSinceLoaded:!1,lastLoadAttemptFailed:!1,environment:{editing:!1,outdoor:{coordinateSystem:{orientation:"0",origin:null,type:c.COORDINATE_SYSTEM_TYPE},altitudeReference:d({},l.V2),takeoffHeading:d({},l.$q)},indoor:{coordinateSystem:{orientation:"0"},room:{visible:!1,firstCorner:[-l.f1.width/2,-l.f1.depth/2,0],secondCorner:[l.f1.width/2,l.f1.depth/2,l.f1.height]},takeoffHeading:d({},l.$q)},type:"outdoor"},loadShowFromCloudDialog:{open:!1},manualPreflightChecksDialog:{open:!1},onboardPreflightChecksDialog:{open:!1},preflight:{manualChecksSignedOffAt:null,onboardChecksSignedOffAt:null,takeoffAreaApprovedAt:null},start:{authorized:!1,clock:null,utcTime:null,timeOnClock:null,method:u.V.RC,uavIds:[],syncStatusWithServer:"notSynced"},startTimeDialog:{open:!1},takeoffAreaSetupDialog:{open:!1}},reducers:{approveTakeoffAreaAt:function(e,t){e.preflight.takeoffAreaApprovedAt=t.payload},clearLoadedShow:(0,s.WZ)((function(e){e.data=null,e.sourceUrl=null,e.changedSinceLoaded=!1,e.preflight.manualChecksSignedOffAt=null,e.preflight.onboardChecksSignedOffAt=null,e.preflight.takeoffAreaApprovedAt=null})),clearManualPreflightChecks:(0,s.WZ)((function(e){e.preflight.manualChecksSignedOffAt=null})),clearOnboardPreflightChecks:(0,s.WZ)((function(e){e.preflight.onboardChecksSignedOffAt=null})),clearStartTimeAndMethod:function(e){e.start.utcTime=null,e.start.timeOnClock=null,e.start.method=u.V.RC},closeEnvironmentEditorDialog:(0,s.WZ)((function(e){e.environment.editing=!1})),closeLoadShowFromCloudDialog:(0,s.WZ)((function(e){e.loadShowFromCloudDialog.open=!1})),closeManualPreflightChecksDialog:(0,s.WZ)((function(e){e.manualPreflightChecksDialog.open=!1})),closeOnboardPreflightChecksDialog:(0,s.WZ)((function(e){e.onboardPreflightChecksDialog.open=!1})),closeStartTimeDialog:(0,s.WZ)((function(e){e.startTimeDialog.open=!1})),closeTakeoffAreaSetupDialog:(0,s.WZ)((function(e){e.takeoffAreaSetupDialog.open=!1})),loadingProgress:function(e,t){if(e.loading){var r=Number(t.payload);Number.isNaN(r)?e.progress=null:e.progress=Math.min(1,Math.max(r,0))}},loadingPromisePending:function(e){e.loading=!0,e.progress=null,e.changedSinceLoaded=!1},loadingPromiseFulfilled:function(e,t){var r=t.payload,n=r.spec,o=r.url;e.data=n,e.sourceUrl=o||null,e.loading=!1,e.progress=null,e.changedSinceLoaded=!1},loadingPromiseRejected:function(e){e.loading=!1,e.progress=null,e.changedSinceLoaded=!1},notifyShowFileChangedSinceLoaded:function(e){e.changedSinceLoaded=!0},openEnvironmentEditorDialog:(0,s.WZ)((function(e){e.environment.editing=!0})),openLoadShowFromCloudDialog:(0,s.WZ)((function(e){e.loadShowFromCloudDialog.open=!0})),openManualPreflightChecksDialog:(0,s.WZ)((function(e){e.manualPreflightChecksDialog.open=!0})),openOnboardPreflightChecksDialog:(0,s.WZ)((function(e){e.onboardPreflightChecksDialog.open=!0})),openStartTimeDialog:(0,s.WZ)((function(e){e.startTimeDialog.open=!0})),openTakeoffAreaSetupDialog:(0,s.WZ)((function(e){e.takeoffAreaSetupDialog.open=!0})),revokeTakeoffAreaApproval:(0,s.WZ)((function(e){e.preflight.takeoffAreaApprovedAt=null})),setEnvironmentType:function(e,t){e.environment.type=t.payload},setIndoorShowOrientation:function(e,t){e.environment.indoor.coordinateSystem.orientation=String(t.payload)},setIndoorShowTakeoffHeadingSpecification:function(e,t){e.environment.indoor.takeoffHeading=t.payload||l.$q},setLastLoadingAttemptFailed:function(e,t){e.lastLoadAttemptFailed=Boolean(t.payload)},_setOutdoorShowAltitudeReference:function(e,t){var r=t.payload;"object"===f(r)&&void 0!==r.type&&void 0!==r.value&&(e.environment.outdoor.altitudeReference=r)},setOutdoorShowOrientation:function(e,t){e.environment.outdoor.coordinateSystem.orientation=String(t.payload)},setOutdoorShowOrigin:function(e,t){e.environment.outdoor.coordinateSystem.origin=t.payload||null},setOutdoorShowTakeoffHeadingSpecification:function(e,t){e.environment.outdoor.takeoffHeading=t.payload||l.$q},setRoomCorners:function(e,t){var r=t.payload;if(Array.isArray(r)&&!(r.length<2)){var n=r[0],o=r[1];!Array.isArray(n)||n.length<3||!Array.isArray(o)||o.length<3||((0,a.Z)(e,"environment.indoor.room.firstCorner",n.slice(0,3)),(0,a.Z)(e,"environment.indoor.room.secondCorner",o.slice(0,3)))}},setRoomVisibility:function(e,t){(0,a.Z)(e,"environment.indoor.room.visible",Boolean(t.payload))},setShowAuthorization:function(e,t){e.start.authorized=!0===t.payload},setShowSettingsSynchronizationStatus:function(e,t){["synced","notSynced","inProgress","error"].includes(t.payload)&&(e.start.syncStatusWithServer=t.payload)},setStartMethod:function(e,t){u.V._VALUES.includes(t.payload)&&(e.start.method=t.payload)},setStartTime:function(e,t){var r=t.payload||{},a=r.clock,i=r.time;if(e.start.clock=(0,o.default)(a)||""===a?null:String(a),!(0,o.default)(e.start.clock))e.start.timeOnClock=(0,o.default)(i)||"number"!=typeof i?null:i;else{var c=i instanceof Date?(0,n.Z)(i):i;e.start.utcTime="number"==typeof c?c:null}},setUAVIdsToStartAutomatically:function(e,t){Array.isArray(t.payload)&&(e.start.uavIds=t.payload)},signOffOnManualPreflightChecksAt:function(e,t){e.preflight.manualChecksSignedOffAt=t.payload},signOffOnOnboardPreflightChecksAt:function(e,t){e.preflight.onboardChecksSignedOffAt=t.payload},synchronizeShowSettings:function(){}}}),m=y.actions,v=y.reducer,g=m.approveTakeoffAreaAt,b=m.clearLoadedShow,w=m.clearManualPreflightChecks,E=m.clearOnboardPreflightChecks,S=m.clearStartTimeAndMethod,O=m.closeEnvironmentEditorDialog,x=m.closeLoadShowFromCloudDialog,A=m.closeManualPreflightChecksDialog,k=m.closeOnboardPreflightChecksDialog,j=m.closeStartTimeDialog,C=m.closeTakeoffAreaSetupDialog,P=m.loadingProgress,I=m.loadingPromiseFulfilled,T=m.notifyShowFileChangedSinceLoaded,L=m.openEnvironmentEditorDialog,_=m.openLoadShowFromCloudDialog,Z=m.openManualPreflightChecksDialog,N=m.openOnboardPreflightChecksDialog,D=m.openStartTimeDialog,R=m.openTakeoffAreaSetupDialog,F=m.revokeTakeoffAreaApproval,M=m.setEnvironmentType,U=(m.setIndoorShowOrientation,m.setIndoorShowTakeoffHeadingSpecification,m.setLastLoadingAttemptFailed),G=m._setOutdoorShowAltitudeReference,V=m.setOutdoorShowOrientation,B=m.setOutdoorShowOrigin,W=m.setOutdoorShowTakeoffHeadingSpecification,z=m.setRoomCorners,H=m.setRoomVisibility,q=m.setShowAuthorization,Y=m.setShowSettingsSynchronizationStatus,$=m.setStartMethod,K=m.setStartTime,X=m.setUAVIdsToStartAutomatically,Q=m.signOffOnManualPreflightChecksAt,J=m.signOffOnOnboardPreflightChecksAt,ee=m.synchronizeShowSettings;const te=v},76772:(e,t,r)=>{"use strict";r.d(t,{$M:()=>d,Dr:()=>y,Gv:()=>h,L9:()=>s,VV:()=>f,rP:()=>p,v_:()=>m});r(21249),r(47042),r(41539),r(68309),r(91038),r(78783),r(74916),r(77601),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(27812),o=r(1566);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return(0,o.JI)(h(e))}function f(e){return m(e)?e.points[0][1]:void 0}function p(e){return m(e)?e.points[e.points.length-1][1]:void 0}function d(e){if(m(e)){var t=e.points,r=void 0===t?[]:t,o=(0,n.Z)(r,(function(e){return e[1][2]}));return o?o[1][2]:0}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.includeControlPoints,n=void 0!==r&&r;if(!m(e))return[];var o=e.points,a=void 0===o?[]:o;if(n){var l,u=[],s=c(a);try{for(s.s();!(l=s.n()).done;){var f=l.value;f.length>2&&Array.isArray(f[2])&&u.push.apply(u,i(f[2])),u.push(f[1])}}catch(e){s.e(e)}finally{s.f()}return u}return a.map((function(e){return e[1]}))}function y(e){if(!m(e))return 0;var t=e.points,r=e.takeoffTime;if(!(t.length>0))return 0;var n=t[t.length-1];return Array.isArray(n)&&n.length>1?n[0]+(r||0):void 0}var m=function(e){return"object"===a(e)&&1===e.version&&"object"===a(e.points)&&Array.isArray(e.points)&&e.points.length>0}},34055:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c,l:()=>i});var n=(0,r(24268).oM)({name:"sidebar",initialState:{open:!1},reducers:{setSidebarOpen:function(e,t){e.open=Boolean(t.payload)}}}),o=n.actions,a=n.reducer,i=o.setSidebarOpen;const c=a},31574:(e,t,r)=>{"use strict";r.d(t,{c:()=>n.c,x:()=>a});var n=r(77646),o=r(5742);function a(e){return(0,n.c)({message:e,semantics:o.jo.ERROR})}},77646:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u,c:()=>l});var n=r(24268),o=r(5742),a=(0,n.oM)({name:"snackbar",initialState:{notification:{buttons:null,header:"",message:"",permanent:!1,semantics:o.jo.DEFAULT}},reducers:{showNotification:function(e,t){var r;if("string"==typeof t.payload)r={buttons:null,header:"",message:String(t.payload),semantics:o.jo.DEFAULT,permanent:!1};else{var n=t.payload,a=n.buttons,i=n.header,c=n.message,l=n.semantics,u=n.permanent;r={buttons:Array.isArray(a)?a:null,header:i?String(i):"",message:String(c),semantics:String(l),permanent:Boolean(u)}}e.notification=r}}}),i=a.actions,c=a.reducer,l=i.showNotification;const u=c},5742:(e,t,r)=>{"use strict";var n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{jo:()=>a,mA:()=>i});var a={SUCCESS:"success",WARNING:"warning",ERROR:"error",INFO:"info",DEFAULT:"default"};function i(e){switch((e||"").toLowerCase()){case"error":case"critical":return a.ERROR;case"warning":case"warn":return a.WARNING;case"info":return a.INFO;default:return a.DEFAULT}}o(n={},a.SUCCESS,"\u2705"),o(n,a.ERROR,"\u{1f6d1}"),o(n,a.WARNING,"\u26a0"),o(n,a.INFO,"\u{1f4a1}"),o(n,a.DEFAULT,"")},51974:(e,t,r)=>{"use strict";r.d(t,{S8:()=>u,Xu:()=>s,ZP:()=>p,cL:()=>c,oJ:()=>f,uN:()=>l});r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=(0,r(24268).oM)({name:"threeD",initialState:{camera:{position:null,rotation:null},navigation:{mode:"walk",parameters:{}},tooltip:null,sceneId:0},reducers:{notifySceneRemoval:function(e){e.sceneId++},resetZoom:function(){},rotateViewTowards:function(){},setCameraPose:function(e,t){var r=t.payload,n=r.position,o=r.rotation;e.camera.position=n,e.camera.rotation=o},setNavigationMode:function(e,t){var r=t.payload;if("string"==typeof r)e.navigation.mode=r,e.navigation.parameters={};else{var o=r.mode,a=r.parameters;"string"==typeof o&&"object"===n(a)&&(e.navigation.mode=o,e.navigation.parameters=a)}},showTooltip:function(e,t){e.tooltip=t.payload?String(t.payload):null},hideTooltip:function(e){e.tooltip=null}}}),a=o.actions,i=o.reducer,c=(a.hideTooltip,a.notifySceneRemoval),l=a.resetZoom,u=a.rotateViewTowards,s=a.setCameraPose,f=a.setNavigationMode;a.showTooltip;const p=i},60942:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,Zu:()=>i,e_:()=>c});var n=(0,r(24268).oM)({name:"tour",initialState:{isOpen:!1,seen:!1},reducers:{dismissTour:function(e){e.isOpen=!1,e.seen=!0},startTour:function(e){e.isOpen=!0}}}),o=n.actions,a=n.reducer,i=o.dismissTour,c=o.startTour;const l=a},36862:(e,t,r)=>{"use strict";r.d(t,{L:()=>m,p:()=>v});r(35192),r(9653),r(57327),r(41539),r(21249),r(56977),r(47941),r(82526),r(38880),r(54747),r(49337),r(47042),r(68309),r(91038),r(78783),r(74916),r(77601),r(41817),r(32165),r(66992),r(33948);var n=r(53420),o=r(31574),a=r(96894),i=r(66875),c=r(7371),l=r(53021),u=r(84925);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){return"number"==typeof e.amsl&&Number.isFinite(e.amsl)},m=function(e){var t=e.coords,r=e.uavIds;return function(e,o){var c=o(),l=function(e){return(0,a.ax)(c,e)},s=r.filter(l).map(l),f=s.length;if(!(f<=0)){var p=1===f?s[0].ahl:(0,n.Z)(s.filter(y),"amsl"),d=Number.isFinite(p)?p:0,h=1===f&&d?"ahl":"amsl",m=(0,i.EQ)(c);e((0,u.Lt)({coords:m(t),mode:h,altitude:Number(d.toFixed(1))}))}}},v=function(e){return function(t,r){var n=(0,c.ie)(e.coords),i=r(),f=(0,a.yi)(i);if(n)if(0===f.length)t((0,o.x)("Selection is empty"));else{var p=Number(e.altitude),h={lat:n[1],lon:n[0]};if(Number.isFinite(p))if("agl"===e.mode)h.agl=p;else if("ahl"===e.mode)h.ahl=p;else if("amsl"===e.mode)h.amsl=p;else if("relative"===e.mode&&Math.abs(p)>.01){var y=d({},h);h=function(e){var t=(0,a.ax)(i,e);return t&&t.amsl?d(d({},y),{},{amsl:t.amsl+p}):t&&t.ahl?d(d({},y),{},{ahl:t.ahl+p}):t&&t.agl?d(d({},y),{},{agl:t.agl+p}):void 0}}if("function"==typeof h){var m,v=s(f);try{for(v.s();!(m=v.n()).done;){var g=m.value,b=h(g);b&&(0,l.SB)([g],{target:b})}}catch(e){v.e(e)}finally{v.f()}}else(0,l.SB)(f,{target:h})}else t((0,o.x)("Coordinate format invalid"));t((0,u.z0)())}}},84925:(e,t,r)=>{"use strict";r.d(t,{Lt:()=>d,ZP:()=>h,z0:()=>p});r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337);var n=r(27601),o=r(24268),a=r(97215);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=(0,o.oM)({name:"uavControl",initialState:{flyToTargetDialog:{open:!1,initialValues:{coords:"",mode:"relative",altitude:0}}},reducers:{closeFlyToTargetDialog:(0,a.WZ)((function(e){e.flyToTargetDialog.open=!1})),openFlyToTargetDialog:function(e,t){var r=t.payload,o=void 0===r?{}:r,a=o.coords,i=o.mode,l=o.altitude;e.flyToTargetDialog.initialValues=c(c({},e.flyToTargetDialog.initialValues),{},{coords:a,mode:i||"ahl",altitude:(0,n.default)(l)?10:l}),e.flyToTargetDialog.open=!0}}}),s=u.actions,f=u.reducer,p=s.closeFlyToTargetDialog,d=s.openFlyToTargetDialog;const h=f},29062:(e,t,r)=>{"use strict";r.d(t,{D0:()=>f,or:()=>l,pH:()=>s,tf:()=>u});r(57327),r(41539),r(21249);var n=r(27601),o=r(36602),a=r(286),i=r(96354),c=r(96894),l=function(e){return function(){e.length>0&&a.ZP.removeUAVsByIds(e)}},u=function(){return function(e,t){var r=(0,c.Hz)(t());r.length>0&&e(l(r))}},s=function(){return function(e,t){var r=(0,c.yi)(t()).filter(Boolean);r.length>0&&e(l(r))}},f=function(e){return(0,o.Z5)((Array.isArray(e)?e:[]).filter((function(e){return!(0,n.default)(e)})).map((function(e){return(0,i.TB)(e)})))}},78234:(e,t,r)=>{"use strict";r.d(t,{f3:()=>i,g_:()=>c,gw:()=>n,x_:()=>a,yN:()=>o});var n=185,o=414,a=448,i=n+o,c=48+a},75423:(e,t,r)=>{"use strict";r.d(t,{DU:()=>y,KF:()=>m,M2:()=>b,Or:()=>S,PM:()=>E,Um:()=>h,Xf:()=>x,Xn:()=>w,ZP:()=>A,bd:()=>g,hy:()=>v,qJ:()=>O});r(57327),r(41539);var n=r(24268),o=r(36602),a=r(96354),i=r(97215),c=r(78234);var l,u,s,f=(0,n.oM)({name:"uav-details",initialState:{open:!1,selectedUAVId:void 0,selectedTab:"preflight",position:{x:0,y:0},width:c.f3},reducers:{openUAVDetailsDialog:function(e,t){var r=t.payload;e.selectedUAVId=r,e.open=!0},closeUAVDetailsDialog:(0,i.WZ)((function(e){e.open=!1})),setSelectedTabInUAVDetailsDialog:function(e,t){var r=t.payload;e.selectedTab=r},setSelectedUAVIdInUAVDetailsDialog:function(e,t){var r=t.payload;e.selectedUAVId=r},setUAVDetailsDialogPosition:function(e,t){var r=t.payload;e.position=r},setUAVDetailsDialogWidth:function(e,t){var r=t.payload;e.width=r}},extraReducers:(l={},u=o.Z5,s=function(e,t){var r=t.payload.filter(a.bf);r.length>0&&(e.selectedUAVId=(0,a.$7)(r[0]))},u in l?Object.defineProperty(l,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[u]=s,l)}),p=f.actions,d=f.reducer,h=p.openUAVDetailsDialog,y=p.closeUAVDetailsDialog,m=p.setSelectedTabInUAVDetailsDialog,v=p.setSelectedUAVIdInUAVDetailsDialog,g=p.setUAVDetailsDialogPosition,b=p.setUAVDetailsDialogWidth,w=function(e){return e.dialogs.uavDetails.open},E=function(e){return e.dialogs.uavDetails.selectedUAVId},S=function(e){return e.dialogs.uavDetails.selectedTab},O=function(e){return e.dialogs.uavDetails.position},x=function(e){return e.dialogs.uavDetails.width};const A=d},96894:(e,t,r)=>{"use strict";r.d(t,{AC:()=>ne,BO:()=>U,BY:()=>H,FS:()=>q,G7:()=>te,Hz:()=>re,Ix:()=>Z,JU:()=>X,L8:()=>T,PY:()=>D,Q4:()=>oe,RO:()=>G,Rk:()=>L,T8:()=>ue,Xe:()=>K,_n:()=>z,ax:()=>_,d9:()=>ce,fL:()=>ee,gg:()=>Y,jt:()=>ae,lI:()=>P,nK:()=>ie,qx:()=>Q,uO:()=>N,vN:()=>le,yi:()=>J});r(57327),r(41539),r(21249),r(9653),r(69720),r(26833),r(9494),r(56977),r(47042),r(68309),r(91038),r(78783),r(74916),r(77601),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(15643),o=r(27601),a=r(3695),i=r(98697),c=r(97580),l=r(75879),u=r.n(l),s=r(22222),f=r(16261),p=r(66817),d=r(34206),h=r(66999),y=r(76772),m=r(37333),v=r(87586),g=r(96354),b=r(31467),w=r(97594),E=r(1566),S=r(97215),O=r(99444);function x(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=j(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function j(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=function(e){return e.uavs.order},I=function(e,t){return t},T=function(e){return e.uavs.byId},L=function(e,t){return e.uavs.byId[t]},_=function(e,t){var r=L(e,t);return r?r.position:void 0},Z=function(e,t){var r=L(e,t);return r?r.localPosition:void 0},N=function(e,t){var r=L(e,t);return r?r.heading:void 0},D=function(e){var t=K(e).map((function(t){return N(e,t)})).filter((function(e){return"number"==typeof e}));return(0,E.Pn)(t)},R=u()(p.G5,p.x_,I,(function(e,t,r){var n=e[r];if(void 0!==n)return t[n]}))({keySelector:I}),F=u()(p.G5,h.qh,I,(function(e,t,r){var n=e[r];if(void 0!==n)return t[n]}))({keySelector:I}),M=u()(p.G5,p.Es,I,(function(e,t,r){var n=e[r];if(void 0!==n)return t[n]}))({keySelector:I}),U=(u()(p.G5,h.HE,I,(function(e,t,r){var n=e[r];if(void 0!==n){var o=t[n];return(0,y.v_)(o)?(0,y.Gv)(o,{includeControlPoints:!0}):void 0}}))({keySelector:I}),u()(p.G5,h.HE,h.nH,I,(function(e,t,r,n){var o=e[n];if(void 0!==r&&void 0!==o){var a=t[o];return(0,y.v_)(a)?(0,y.Gv)(a,{includeControlPoints:!0}).map(r):void 0}}))({keySelector:I})),G=u()(p.G5,h.HE,h.zO,I,(function(e,t,r,n){var o=e[n];if(void 0!==r&&void 0!==o){var a=t[o];return(0,y.v_)(a)?(0,y.Gv)(a,{includeControlPoints:!0}).map(r):void 0}}))({keySelector:I}),V=u()(R,_,(function(e,t){if(!(0,o.default)(e))return(0,o.default)(t)?Number.POSITIVE_INFINITY:(0,c.Sp)([e.lon,e.lat],[t.lon,t.lat])}))({keySelector:I}),B=u()(F,Z,(function(e,t){if(!(0,o.default)(e))return(0,o.default)(t)?Number.POSITIVE_INFINITY:(0,E.p)(e,t)}))({keySelector:I}),W=function(e){var t,r=(0,p.eP)(e),n={},a=(0,h.rQ)(e)?B:V,i=k(r);try{for(i.s();!(t=i.n()).done;){var c=t.value;(0,o.default)(c)||!L(e,c)?n[c]=void 0:n[c]=a(e,c)}}catch(e){i.e(e)}finally{i.f()}return n},z=(0,s.createSelector)(W,d.eD,(function(e,t){return Object.entries(e).reduce((function(e,r){var n=A(r,2),o=n[0];return n[1]>t&&e.push(o),e}),[])})),H=function(e){for(var t=W(e),r=-1,n=0,a=Object.values(t);n<a.length;n++){var i=a[n];!(0,o.default)(i)&&i>r&&(r=i)}return r<0?void 0:r},q=u()(M,N,(function(e,t){if(void 0!==e&&void 0!==t)return(e-t+540)%360-180}))({keySelector:I}),Y=u()(L,(function(e){return(0,v.li)((e?e.light:0)||0)}))({keySelector:I}),$=function(e){return function(t){return P(t).filter((function(r){var n=L(t,r);return n&&n.age===e}))}},K=$(b.y.ACTIVE),X=(0,s.createSelector)((function(e){var t,r={},n=k((0,p.eP)(e));try{for(n.s();!(t=n.n()).done;){var a=t.value;(0,o.default)(a)?r[a]=void 0:r[a]=q(e,a)}}catch(e){n.e(e)}finally{n.f()}return r}),d.sx,(function(e,t){return Object.entries(e).reduce((function(e,r){var n=A(r,2),a=n[0],i=n[1];return!(0,o.default)(i)&&Math.abs(i)>t&&e.push(a),e}),[])})),Q=(0,s.createSelector)(p.eP,T,(function(e,t){return e.filter((function(e){var r;if((0,o.default)(e))return!1;var n=null===(r=t[e])||void 0===r?void 0:r.age;return(0,o.default)(n)||"gone"===n}))})),J=(0,w.sw)(g.$7),ee=(0,s.createSelector)(J,(function(e){return 1===e.length?e[0]:void 0})),te=function(e){return function(e){var t=J(e);return Array.isArray(t)?t.length:0}(e)<=5?J(e):S.LZ},re=$(b.y.GONE),ne=(0,s.createSelector)(p.G5,P,(function(e,t){return t.filter((function(t){return(0,o.default)(e[t])}))})),oe=(0,s.createSelector)(p.G5,p.Ho,T,(function(e,t,r){var o,a=[],c=k(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=r[l];if(u){var s,f=k(u.errors);try{for(f.s();!(s=f.n()).done;){var p=s.value;p!==m.X.ON_GROUND&&a.push([p,[l,e[l]||null]])}}catch(e){f.e(e)}finally{f.f()}}}}catch(e){c.e(e)}finally{c.f()}return(0,i.Z)(Object.entries((0,n.Z)(a,(function(e){return e[0]}))),(function(e){var t=A(e,2),r=t[0];t[1];return Number.parseInt(r,10)})).map((function(e){var t=A(e,2);return{code:t[0],uavIdsAndIndices:t[1].map((function(e){return e[1]}))}}))})),ae=(0,s.createSelector)(p.Ho,T,(function(e,t){var r,n,o,a=k(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(n=t[i],o=void 0,o=(n||{}).errors,Array.isArray(o)&&!(o.length<=0)&&(1!==o.length||o[0]!==m.X.ON_GROUND))return!1}}catch(e){a.e(e)}finally{a.f()}return!0}));function ie(e){var t=-1;if(e.errors&&e.errors.length>0&&(t=(0,m.Vi)(e.errors))>=m.zb.WARNING)return(0,m.r4)(t);if(e.age===b.y.GONE)return f.q.OFF;if(e.age===b.y.INACTIVE)return f.q.WARNING;var r=Math.max.apply(Math,x(e.errors));return r===m.X.RETURN_TO_HOME?f.q.RTH:r===m.X.ON_GROUND?f.q.SUCCESS:t>=m.zb.INFO?(0,m.r4)(t):f.q.SUCCESS}function ce(e){var t,r,n,o,a=0;if(e)if(e.errors&&e.errors.length>0){a=Math.max.apply(Math,x(e.errors));var i=(0,m.H0)(a);n=m.X.abbreviate(a),o=a===m.X.RETURN_TO_HOME?f.q.RTH:a===m.X.ON_GROUND?f.q.SUCCESS:(0,m.r4)(i)}else e.position&&Math.abs(e.position.ahl)>=.3?(n="airborne",r="".concat(e.position.ahl.toFixed(2),"m"),o=f.q.SUCCESS):(n="ready",o=f.q.SUCCESS);else t=void 0,n="missing",o=f.q.WARNING;return o!==f.q.SUCCESS&&o!==f.q.INFO||(e.age===b.y.GONE?("ready"!==n&&a!==m.X.ON_GROUND||(n="gone"),o=f.q.OFF):e.age===b.y.INACTIVE&&("ready"!==n&&a!==m.X.ON_GROUND||(n="no telem"),o=f.q.WARNING)),e&&(t=ie(e)),{status:t,details:r||n,gone:!!e&&(e.age===b.y.GONE||e.age===b.y.INACTIVE),text:n,textSemantics:o,batteryStatus:e?e.battery:void 0}}var le=function(){return(0,O.f)(L,ce)},ue=(0,s.createSelector)(P,T,(function(e,t){return(0,a.Z)(e,[function(e){return Math.max.apply(Math,x(t[e].errors.filter((function(e){return(0,m.H0)(e)>0}))))}],["desc"])}))},78406:(e,t,r)=>{"use strict";r.d(t,{Tw:()=>p,UF:()=>s,UR:()=>f,ZP:()=>h,cS:()=>d});r(26833),r(69720),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(47042),r(68309),r(91038),r(74916),r(77601);var n=r(24268),o=r(45150);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=(0,n.oM)({name:"uavs",initialState:{byId:{},order:[]},reducers:{addUAVs:function(e,t){for(var r=0,n=Object.values(t.payload);r<n.length;r++){var a=n[r];(0,o.wg)(e,a)}(0,o.W7)(e)},clearUAVList:function(e){(0,o.iW)(e)},_removeUAVsByIds:function(e,t){(0,o.DD)(e,t.payload)},updateAgesOfUAVs:function(e,t){for(var r=0,n=Object.entries(t.payload);r<n.length;r++){var o=a(n[r],2),i=o[0],c=o[1],l=i?e.byId[i]:void 0;l&&(l.age=c)}},updateUAVs:function(e,t){for(var r=0,n=Object.values(t.payload);r<n.length;r++){var a=n[r];(0,o.Wf)(e,a)}}}}),l=c.actions,u=c.reducer,s=l.addUAVs,f=(l.clearUAVList,l.updateAgesOfUAVs),p=l.updateUAVs,d=l._removeUAVsByIds;const h=u},40322:(e,t,r)=>{"use strict";r.d(t,{fS:()=>N,mf:()=>D,U9:()=>R,tO:()=>M,dJ:()=>U,dB:()=>G,lS:()=>V,LS:()=>B,a:()=>F,uh:()=>W,m1:()=>I,fy:()=>T,xq:()=>L,Mr:()=>_,ZP:()=>J,tm:()=>Z,OK:()=>z,KE:()=>H,YP:()=>Y,xx:()=>$,pK:()=>X,cm:()=>K,HU:()=>q,Bj:()=>Q});r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(91038),r(47042),r(68309),r(74916),r(77601);var n=r(27601),o=r(24268),a=(r(92222),r(26699),r(32023),r(40561),r(38840)),i=r(89214),c=r(61295);function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function s(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=["failedItems","itemsInProgress","itemsWaitingToStart","itemsQueued","itemsFinished"];function d(e,t){var r,n=u(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;delete e.errors[o]}}catch(e){n.e(e)}finally{n.f()}}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,r=e.doNotMoveWhenIn;r=(0,a.Z)(r);var o=c.default.apply(void 0,[p,t].concat(l(r)));return function(e,r){var c,s=(0,a.Z)(r.payload),f=t?e.queues[t]:void 0,p=u(o);try{for(p.s();!(c=p.n()).done;){var h=c.value,y=e.queues[h];i.Z.apply(void 0,[y].concat(l(s))),"failedItems"===h&&d(e,s)}}catch(e){p.e(e)}finally{p.f()}if(!(0,n.default)(f)){var m,v=u(s);try{for(v.s();!(m=v.n()).done;){var g=m.value;f.includes(g)||f.push(g)}}catch(e){v.e(e)}finally{v.f()}}}},y=function(e){var t=e.source,r=e.target;return function(e,n){var o,i=(0,a.Z)(n.payload),c=e.queues[t],l=r?e.queues[r]:void 0,s=u(i);try{for(s.s();!(o=s.n()).done;){var f=o.value,p=c.indexOf(f);if(p>=0){var h=c[p];c.splice(p,1),l&&l.push(h)}}}catch(e){s.e(e)}finally{s.f()}"failedItems"===c&&d(i)}},m=r(66744),v=r(20697),g=r(45150),b=r(97215);function w(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t){(0,g.zD)(e.history,t)}function O(e){e.queues.failedItems=[],e.queues.itemsFinished=[],e.queues.itemsQueued=[],e.queues.itemsWaitingToStart=[],e.errors={},e.dialog.showLastUploadResult=!1}var x,A,k,j=(0,o.oM)({name:"upload",initialState:{currentJob:{type:null,payload:null,running:!1},history:{order:[],byId:{}},queues:{itemsInProgress:[],itemsWaitingToStart:[],itemsQueued:[],itemsFinished:[],failedItems:[]},errors:{},dialog:{open:!1,showLastUploadResult:!1,selectedJob:{type:null,payload:null},backAction:null},settings:{autoRetry:!1,flashFailed:!1}},reducers:{clearLastUploadResultForJobType:function(e,t){var r=t.payload;r&&S(e,r)},clearUploadQueue:(0,b.WZ)((function(e){e.queues.itemsWaitingToStart=[]})),closeUploadDialog:(0,b.WZ)((function(e){e.dialog.open=!1})),dismissLastUploadResult:(0,b.WZ)((function(e){e.dialog.showLastUploadResult=!1})),putUavsInWaitingQueue:h({target:"itemsWaitingToStart",doNotMoveWhenIn:["itemsQueued","itemsInProgress"]}),removeUavsFromWaitingQueue:h({target:void 0,doNotMoveWhenIn:["itemsQueued","itemsInProgress"]}),setupNextUploadJob:function(e,t){var r=t.payload,o=r.type,a=r.payload,i=r.targets;e.currentJob.running||(e.currentJob.type=o,e.currentJob.payload=(0,n.default)(a)?null:a,O(e),e.queues.itemsWaitingToStart=w(i))},setUploadAutoRetry:function(e,t){e.settings.autoRetry=Boolean(t.payload)},setFlashFailed:function(e,t){e.settings.flashFailed=Boolean(t.payload)},_enqueueFailedUploads:y({source:"failedItems",target:"itemsWaitingToStart"}),_enqueueSuccessfulUploads:y({source:"itemsFinished",target:"itemsWaitingToStart"}),_notifyUploadFinished:function(e,t){var r=t.payload,n=r.success,o=r.cancelled;e.queues.itemsWaitingToStart=[],e.queues.itemsInProgress=[],e.queues.itemsQueued=[],e.currentJob.running=!1;var a=o?"cancelled":n?"success":"error";if(e.currentJob.type){var i={id:e.currentJob.type,payload:e.currentJob.payload,result:a};(0,g.lQ)(e.history,i)}e.dialog.showLastUploadResult=!0},_notifyUploadStarted:function(e){e.currentJob.running=!0,e.dialog.showLastUploadResult=!1},_notifyUploadOnUavCancelled:y({source:"itemsInProgress",target:"itemsWaitingToStart"}),_notifyUploadOnUavFailed:y({source:"itemsInProgress",target:"failedItems"}),_notifyUploadOnUavQueued:y({source:"itemsWaitingToStart",target:"itemsQueued"}),_notifyUploadOnUavStarted:y({source:"itemsQueued",target:"itemsInProgress"}),_notifyUploadOnUavSucceeded:y({source:"itemsInProgress",target:"itemsFinished"}),_setErrorMessageForUAV:{reducer:function(e,t){var r=t.payload,n=r.uavId,o=r.message;o?e.errors[n]=String(o):delete e.errors[n]},prepare:function(e,t){return{payload:{uavId:e,message:t}}}},openUploadDialogKeepingCurrentJob:function(e,t){var r,n=t.payload,o=(null!=n?n:{}).backAction;null!==(r=e.dialog.selectedJob)&&void 0!==r&&r.type&&(e.dialog.open=!0,e.dialog.backAction=null!=o?o:null)},openUploadDialogForJob:function(e,t){var r,n=t.payload,o=null!=n?n:{},a=o.job,i=o.options,c=null!=a?a:{},l=c.type,u=c.payload,s=(null!=i?i:{}).backAction;l&&(e.currentJob.running||(null===(r=e.dialog.selectedJob)||void 0===r?void 0:r.type)===l||O(e),e.dialog.backAction=null!=s?s:null,e.dialog.selectedJob={type:l,payload:u||null},e.dialog.showLastUploadResult=!1,e.dialog.open=!0)},startUpload:(0,b.WZ)((function(){})),cancelUpload:(0,b.WZ)((function(){}))},extraReducers:(x={},A=v.vT,k=function(e){S(e,m._f.type)},A in x?Object.defineProperty(x,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):x[A]=k,x)}),C=j.actions,P=j.reducer,I=C.cancelUpload,T=C.clearLastUploadResultForJobType,L=C.clearUploadQueue,_=C.closeUploadDialog,Z=C.dismissLastUploadResult,N=C._enqueueFailedUploads,D=C._enqueueSuccessfulUploads,R=C._notifyUploadFinished,F=C._notifyUploadStarted,M=C._notifyUploadOnUavCancelled,U=C._notifyUploadOnUavFailed,G=C._notifyUploadOnUavQueued,V=C._notifyUploadOnUavStarted,B=C._notifyUploadOnUavSucceeded,W=C._setErrorMessageForUAV,z=C.openUploadDialogForJob,H=C.openUploadDialogKeepingCurrentJob,q=C.setupNextUploadJob,Y=C.putUavsInWaitingQueue,$=C.removeUavsFromWaitingQueue,K=C.setUploadAutoRetry,X=C.setFlashFailed,Q=C.startUpload;const J=P},11188:(e,t,r)=>{"use strict";r.d(t,{AU:()=>u,ZP:()=>s,_7:()=>l});var n=r(24268),o=r(97215),a=(0,n.oM)({name:"version-check",initialState:{dialog:{open:!1}},reducers:{closeVersionCheckDialog:(0,o.WZ)((function(e){e.dialog.open=!1})),showVersionCheckDialog:(0,o.WZ)((function(e){e.dialog.open=!0}))}}),i=a.actions,c=a.reducer,l=i.closeVersionCheckDialog,u=i.showVersionCheckDialog;const s=c},72237:(e,t,r)=>{"use strict";r.d(t,{Hk:()=>i,IY:()=>l,ZP:()=>u,cO:()=>c});r(9653);var n=(0,r(24268).oM)({name:"weather",initialState:{loading:!1,error:null,data:null,lastUpdateAttemptAt:null,lastUpdatedAt:null},reducers:{clearWeatherData:function(e){e.data=null,e.error=null,e.lastUpdatedAt=null,e.lastUpdateAttemptAt=null},loadingPromisePending:function(e){e.loading=!0},loadingPromiseFulfilled:function(e,t){e.data=t.payload,e.loading=!1,e.error=null},loadingPromiseRejected:function(e,t){e.loading=!1,e.error=t.payload},setLastUpdateTimestamp:function(e,t){e.lastUpdatedAt=Number(t.payload)},setLastUpdateAttemptTimestamp:function(e,t){e.lastUpdateAttemptAt=Number(t.payload)}}}),o=n.actions,a=n.reducer,i=o.clearWeatherData,c=o.setLastUpdateTimestamp,l=o.setLastUpdateAttemptTimestamp;const u=a},14077:(e,t,r)=>{"use strict";r.d(t,{Eh:()=>l,Gw:()=>c,Tm:()=>i,ZP:()=>u});var n=(0,r(24268).oM)({name:"workbench",initialState:{hideHeaders:!1,isFixed:!1,state:void 0},reducers:{setWorkbenchHasHeaders:function(e,t){var r=t.payload;e.hideHeaders=!(null==r||r)},setWorkbenchIsFixed:function(e,t){var r=t.payload;e.isFixed=null!=r&&r},saveWorkbenchState:{prepare:function(e){return{payload:e.getState()}},reducer:function(e,t){e.state=t.payload}}}}),o=n.actions,a=n.reducer,i=o.setWorkbenchIsFixed,c=o.setWorkbenchHasHeaders,l=o.saveWorkbenchState;const u=a},286:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l,f1:()=>c,ki:()=>i});r(19601);var n=r(67294);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var a=new(r(57606).Z),i=n.createContext(),c=function(e){return n.forwardRef((function(t,r){return n.createElement(i.Consumer,null,(function(a){return n.createElement(e,o({},t,{ref:r,flock:a}))}))}))};const l=a},37333:(e,t,r)=>{"use strict";r.d(t,{H0:()=>s,Vi:()=>f,X:()=>g,qp:()=>p,r4:()=>d,zb:()=>u});r(43371),r(21249),r(66992),r(41539),r(33948),r(82526),r(41817),r(32165),r(78783),r(91038),r(47042),r(68309),r(74916),r(77601),r(47941),r(57327),r(38880),r(54747),r(49337);var n=r(76206);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=Object.freeze({INFO:0,WARNING:1,ERROR:2,FATAL:3}),s=function(e){return(255&e)>>6},f=function(e){return e&&e.length>0?Math.max.apply(Math,c(e.map(s))):u.INFO};function p(e){return d(s(e))}function d(e){switch(e){case u.FATAL:return n.zb.CRITICAL;case u.ERROR:return n.zb.ERROR;case u.WARNING:return n.zb.WARNING;case u.INFO:return n.zb.INFO;default:return"off"}}var h,y,m,v,g=(y=(h={values:{NO_ERROR:0,ON_GROUND:1,LOGGING_DEACTIVATED:2,PREARM_CHECK_IN_PROGRESS:3,AUTOPILOT_INITIALIZING:4,TAKEOFF:5,LANDING:6,LANDED:7,MOTORS_RUNNING_WHILE_ON_GROUND:8,SLEEPING:9,FLIGHT_CONTROL_SUSPENDED:10,RETURN_TO_HOME:63,LOW_DISK_SPACE:64,RC_SIGNAL_LOST_WARNING:65,BATTERY_LOW_WARNING:66,TIMESYNC_ERROR:67,FAR_FROM_TAKEOFF_POSITION:68,INVALID_MISSION_CONFIGURATION:69,RADIO_MISSING:70,GEOFENCE_VIOLATION_WARNING:71,WIND_SPEED_WARNING:72,DISARMED:73,REBOOT_REQUIRED:74,DRIFT_FROM_DESIRED_POSITION:75,AUTOPILOT_COMM_TIMEOUT:128,AUTOPILOT_ACK_TIMEOUT:129,AUTOPILOT_PROTOCOL_ERROR:130,PREARM_CHECK_FAILURE:131,RC_SIGNAL_LOST_ERROR:132,GPS_SIGNAL_LOST:133,BATTERY_LOW_ERROR:134,TARGET_NOT_FOUND:135,TARGET_TOO_FAR:136,CONFIGURATION_ERROR:137,RC_NOT_CALIBRATED:138,WIND_SPEED_ERROR:139,PAYLOAD_ERROR:140,PROXIMITY_ERROR:141,SIMULATED_ERROR:188,CONTROL_ALGORITHM_ERROR:189,SENSOR_FAILURE:190,UNSPECIFIED_ERROR:191,HW_SW_INCOMPATIBLE:192,MAGNETIC_ERROR:193,GYROSCOPE_ERROR:194,ACCELEROMETER_ERROR:195,PRESSURE_SENSOR_ERROR:196,GPS_SIGNAL_LOST_CRITICAL:197,MOTOR_MALFUNCTION:198,BATTERY_CRITICAL:199,NO_GPS_HOME_POSITION:200,GEOFENCE_VIOLATION:201,INTERNAL_CLOCK_ERROR:202,EXTERNAL_CLOCK_ERROR:203,REQUIRED_HW_COMPONENT_MISSING:204,AUTOPILOT_INIT_FAILED:205,AUTOPILOT_COMM_FAILED:206,CRASH:207,SIMULATED_CRITICAL_ERROR:253,CRITICAL_SENSOR_FAILURE:254,UNSPECIFIED_CRITICAL_ERROR:255},abbreviations:{0:"ok",1:"ground",2:"no log",3:"prearm",4:"init",5:"takeoff",6:"landing",7:"landed",8:"motors",9:"sleep",10:"paused",63:"RTH",64:"storage",65:"RC lost",66:"lowbat",67:"timesync",68:"tkoffpos",69:"mission",70:"no radio",71:"fence",72:"wind",73:"disarm",74:"reboot",75:"drift",128:"comm t/o",129:"ack t/o",130:"proto",131:"prearm",132:"RC lost",133:"no GPS",134:"lowbat",135:"target",136:"too far",137:"config",138:"RC calib",139:"wind",140:"payload",141:"proximity",188:"simerr",189:"control",190:"sensor",191:"error",192:"compat",193:"mag",194:"gyro",195:"acc",196:"baro",197:"GPS",198:"motor",199:"lowbat",200:"home",201:"fence",202:"clk",203:"extclk",204:"no HW",205:"initfail",206:"commfail",207:"crash",253:"simcrit",254:"sensor",255:"fatal"},descriptions:{0:"No error",1:"Drone is on the ground with motors off",2:"Logging deactivated",3:"Prearm check in progress",4:"Autopilot initializing",5:"Drone is taking off",6:"Drone is landing",7:"Drone has landed successfully",8:"Motors are running while on ground",9:"Drone is in sleep mode",10:"Flight control is suspended",63:"Drone is returning home",64:"Low disk space",65:"RC lost",66:"Battery low",67:"Timesync error",68:"Drone is not at its designated takeoff position",69:"Mission configuration error or mission out of geofence",70:"Radio channel offline",71:"Drone is outside geofence on ground",72:"Wind speed is high",73:"Drone not armed yet",74:"Drone requires a reboot",75:"Drift from desired position is large",128:"Autopilot communication timeout",129:"Autopilot acknowledgment timeout",130:"Autopilot communication protocol error",131:"Prearm check failure",132:"RC signal lost",133:"GPS signal lost or GPS error",134:"Battery low",135:"Target not found",136:"Target is too far",137:"Configuration error",138:"RC not calibrated",139:"Wind speed is too high",140:"Payload error",141:"Proximity sensor error",188:"Simulated error",189:"Error in control algorithm",190:"Unspecified sensor failure",191:"Unspecified error",192:"Incompatible hardware or software",193:"Magnetometer error",194:"Gyroscope error",195:"Accelerometer error",196:"Pressure sensor or altimeter error",197:"GPS error or GPS signal lost",198:"Motor malfunction",199:"Battery critical",200:"No GPS home position",201:"Geofence violation",202:"Internal clock error",203:"External clock error",204:"Required hardware component missing",205:"Autopilot initialization failed",206:"Autopilot communication failed",207:"Drone crashed",253:"Simulated critical error",254:"Unspecified critical sensor failure",255:"Unspecified critical error"}}).values,m=h.abbreviations,v=h.descriptions,Object.freeze(a(a({},y),{},{abbreviate:function(e){return m[e]||"E".concat(e)},describe:function(e){return v[e]||"Error ".concat(e)}})))},39619:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>kt,sm:()=>ft});r(74916),r(23123),r(47042),r(47941),r(66992),r(51532),r(41539),r(78783),r(33948),r(70189),r(40561),r(69720),r(38862),r(26699),r(32023),r(88674),r(92222),r(68304),r(30489),r(39714),r(81299),r(12419),r(82526),r(41817),r(32165),r(72443),r(39341),r(73706),r(10408),r(54747),r(68309),r(91038),r(77601),r(57327),r(38880),r(49337);var n=r(43402),o=r(77226),a=r(53416),i=r(63931),c=r.n(i),l=r(78864),u=r(58147),s=r.n(u),f=r(38840);function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){return{type:e}};function y(e,t){var r=h("ASYNC-RESUME");if(r.ids=(0,f.Z)(e),void 0!==t){r.values={};var n,o=p(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;void 0!==t[a]&&(r.values[a]=t[a])}}catch(e){o.e(e)}finally{o.f()}}return r}function m(e,t,r,n){var o=h("OBJ-CMD");return o.ids=e,o.command=t,void 0!==r&&(o.args=r),void 0!==n&&(o.kwds=n),o}function v(e,t,r){var n=h("PRM-SET");return n.ids=(0,f.Z)(e),n.name=String(t),n.value=r,n}var g=r(87586);function b(e){if("string"!=typeof e||e.includes("."))throw new Error("Invalid extension name: ".concat(e))}function w(e){if("string"!=typeof e||0===e.length)throw new Error("Invalid object ID: ".concat(e))}var E=r(8791);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==S(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){T(a,n,o,i,c,"next",e)}function c(e){T(a,n,o,i,c,"throw",e)}i(void 0)}))}}function _(e,t,r){return Z.apply(this,arguments)}function Z(){return(Z=L(A().mark((function e(t,r,n){var o,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(r),e.next=3,t.sendMessage({type:"EXT-SETCFG",ids:I({},r,n)});case 3:return o=e.sent,a=(0,g.b7)(o,r,{error:"Failed to retrieve configuration for extension: ".concat(r)}),e.abrupt("return",Boolean(a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return D.apply(this,arguments)}function D(){return(D=L(A().mark((function e(t,r){var n,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(r),e.next=3,t.sendMessage({type:"EXT-RELOAD",ids:[r]});case 3:return n=e.sent,o=(0,g.b7)(n,r,{error:"Failed to reload extension: ".concat(r)}),e.abrupt("return",Boolean(o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return F.apply(this,arguments)}function F(){return(F=L(A().mark((function e(t,r){var n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.startAsyncOperationForSingleId(r,{type:"UAV-RST"});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),n=(0,E.VK)(e.t0),new Error("Failed to reset UAV ".concat(r,": ").concat(n));case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function M(e,t){return U.apply(this,arguments)}function U(){return(U=L(A().mark((function e(t,r){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-DBG-RESP",data:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){return V.apply(this,arguments)}function V(){return(V=L(A().mark((function e(t,r){var n,o,a,i,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.uavId,o=r.name,a=r.value,i=v(n,o,a),e.prev=2,e.next=5,t.startAsyncOperationForSingleId(n,i);case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),c=(0,E.VK)(e.t0),new Error("Failed to set parameter ".concat(o," on UAV ").concat(n,": ").concat(c));case 11:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function B(e,t){return W.apply(this,arguments)}function W(){return(W=L(A().mark((function e(t,r){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-SOURCE",id:r});case 2:if("ACK-ACK"===e.sent.body.type){e.next=5;break}throw new Error("Failed to set new RTK correction source");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t){return H.apply(this,arguments)}function H(){return(H=L(A().mark((function e(t,r){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"SHOW-SETCFG",configuration:r});case 2:if("ACK-ACK"===e.sent.body.type){e.next=5;break}throw new Error("Failed to set new show configuration on the server");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return Y.apply(this,arguments)}function Y(){return(Y=L(A().mark((function e(t,r){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"SHOW-SETLIGHTS",configuration:r});case 2:if("ACK-ACK"===e.sent.body.type){e.next=5;break}throw new Error("Failed to set new light configuration on the server");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return K.apply(this,arguments)}function K(){return(K=L(A().mark((function e(t,r){var n,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.accuracy,o=r.duration,e.next=3,t.sendMessage({type:"X-RTK-SURVEY",settings:{accuracy:n,duration:o}});case 3:if("ACK-ACK"===e.sent.body.type){e.next=6;break}throw new Error("Failed to start RTK survey on the server");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t,r){return Q.apply(this,arguments)}function Q(){return(Q=L(A().mark((function e(t,r,n){var o,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.uavId,a=r.data,w(o),e.prev=2,e.next=5,t.sendCommandRequest({uavId:o,command:"__show_upload",kwds:{show:a}},x({timeout:300},n));case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),new Error((0,E.VK)(e.t0.message||e.t0,"Failed to upload show data to UAV ".concat(o)));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}var J=P((function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,"_operations",{configureExtension:_,reloadExtension:N,resetUAV:R,sendDebugMessage:M,setParameter:G,setRTKCorrectionsSource:B,setShowConfiguration:z,setShowLightConfiguration:q,startRTKSurvey:$,uploadDroneShow:X});for(var n=function(){var e=k(a[o],2),n=e[0],i=e[1];r[n]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i.apply(void 0,[t].concat(r))}},o=0,a=Object.entries(this._operations);o<a.length;o++)n()})),ee=(r(26833),r(16423)),te=r(85389),re=r(98697),ne=r(34156);function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t,r){return t&&ce(e.prototype,t),r&&ce(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ue(){ue=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==oe(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function se(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function fe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){se(a,n,o,i,c,"next",e)}function c(e){se(a,n,o,i,c,"throw",e)}i(void 0)}))}}function pe(e,t){return de.apply(this,arguments)}function de(){return(de=fe(ue().mark((function e(t,r){var n,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,"string"==typeof r&&(r=[r],n=!0),Array.isArray(r)&&!r.some((function(e){return"string"!=typeof e}))){e.next=4;break}throw new Error("Invalid ID array:"+JSON.stringify(r));case 4:return e.next=6,t.sendMessage({type:"BCN-PROPS",ids:r});case 6:if(o=e.sent,!n){e.next=11;break}return e.abrupt("return",(0,g.b7)(o,r[0],{key:"result",error:"Failed to retrieve basic properties of beacon: ".concat(r[0])}));case 11:return e.abrupt("return",o.body.result);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(e,t){return ye.apply(this,arguments)}function ye(){return(ye=fe(ue().mark((function e(t,r){var n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(r),e.next=3,t.sendMessage({type:"EXT-CFG",ids:[r]});case 3:return n=e.sent,e.abrupt("return",(0,g.b7)(n,r,{error:"Failed to retrieve configuration for extension: ".concat(r)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return ve.apply(this,arguments)}function ve(){return(ve=fe(ue().mark((function e(t){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"LCN-INF"});case 2:return r=e.sent,e.abrupt("return",r.body&&"LCN-INF"===r.body.type&&"object"===oe(r.body.license)?r.body.license:{id:""});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t,r){return be.apply(this,arguments)}function be(){return be=fe(ue().mark((function e(t,r,n){var o,a,i,c,l=arguments;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>3&&void 0!==l[3]?l[3]:{},a=o.onProgress,r&&"string"==typeof r){e.next=3;break}throw new Error("Expected non-empty UAV ID");case 3:if(n&&"string"==typeof n){e.next=5;break}throw new Error("Expected non-empty log ID");case 5:return e.prev=5,e.next=8,t.startAsyncOperationForSingleId(r,{type:"LOG-DATA",logId:n,uavId:r},{idProp:null,onProgress:a,single:!0});case 8:i=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),c=(0,E.VK)(e.t0),new Error("Failed to retrieve log ".concat(n," for UAV ").concat(r,": ").concat(c));case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,null,[[5,11]])}))),be.apply(this,arguments)}function we(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=fe(ue().mark((function e(t,r){var n,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&"string"==typeof r){e.next=2;break}throw new Error("Expected non-empty UAV ID");case 2:return e.prev=2,e.next=5,t.startAsyncOperationForSingleId(r,{type:"LOG-INF"});case 5:n=e.sent,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),o=(0,E.VK)(e.t0),new Error("Failed to retrieve log list for UAV ".concat(r,": ").concat(o));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function Se(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=fe(ue().mark((function e(t,r){var n,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&"string"==typeof r){e.next=2;break}throw new Error("Expected non-empty UAV ID");case 2:return e.next=4,t.sendMessage({type:"UAV-PREFLT",ids:[r]});case 4:if(o=e.sent,"UAV-PREFLT"!==(null===(n=o.body)||void 0===n?void 0:n.type)||!o.body.result||!o.body.result[r]){e.next=7;break}return e.abrupt("return",o.body.result[r]);case 7:throw new Error("Unexpected response for preflight status query");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=fe(ue().mark((function e(t){var r,n,o,a,i,c,l;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-LIST"});case 2:if(!(r=e.sent).body||"X-RTK-LIST"!==r.body.type){e.next=14;break}if(!((n=(0,ee.Z)(r,"body.ids")||[]).length>0)){e.next=12;break}return e.next=8,t.sendMessage({type:"X-RTK-INF",ids:n});case 8:for(r=e.sent,o=(0,ee.Z)(r,"body.preset")||{},a=0,i=Object.entries(o);a<i.length;a++)c=ae(i[a],2),l=c[0],c[1].id=l;return e.abrupt("return",(0,re.Z)(Object.values(o),["title","id"]));case 12:e.next=15;break;case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return je.apply(this,arguments)}function je(){return(je=fe(ue().mark((function e(t){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-SURVEY"});case 2:return r=e.sent,e.abrupt("return",r.body&&"X-RTK-SURVEY"===r.body.type&&r.body.settings?(0,te.default)(r.body.settings,["accuracy","duration"]):{});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=fe(ue().mark((function e(t){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-STAT"});case 2:if(!(r=e.sent).body||"X-RTK-STAT"!==r.body.type){e.next=5;break}return e.abrupt("return",{antenna:r.body.antenna,messages:r.body.messages,cnr:r.body.cnr,survey:r.body.survey});case 5:throw new Error("Unexpected response for RTK subsystem status query");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return Te.apply(this,arguments)}function Te(){return(Te=fe(ue().mark((function e(t){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"X-RTK-SOURCE"});case 2:if(!(r=e.sent).body||"X-RTK-SOURCE"!==r.body.type){e.next=5;break}return e.abrupt("return",(0,ee.Z)(r,"body.id"));case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return _e.apply(this,arguments)}function _e(){return(_e=fe(ue().mark((function e(t){var r,n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage({type:"SHOW-CFG"});case 2:if(r=e.sent,!(n=(0,ee.Z)(r,"body.configuration"))||"object"!==oe(n)){e.next=6;break}return e.abrupt("return",n);case 6:throw new Error("No show configuration returned");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=fe(ue().mark((function e(t,r){var n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(r)&&!(r.length<2)){e.next=2;break}throw new Error("Invalid position");case 2:return e.next=4,t.sendMessage({type:"WTH-AT",position:[Math.round(1e7*r[1]),Math.round(1e7*r[0])]});case 4:if(!(n=e.sent).body||"WTH-AT"!==n.body.type){e.next=7;break}return e.abrupt("return",n.body.weather);case 7:throw new Error("Unexpected response for weather query");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var De=r.n(ne)()(function(){var e=fe(ue().mark((function e(t){var r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendMessage("EXT-LIST");case 2:return r=e.sent,e.abrupt("return",r.body);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{maxAge:5e3,promise:!0});function Re(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=fe(ue().mark((function e(t,r){var n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t);case 2:if(n=e.sent,!Array.isArray((0,ee.Z)(n,"loaded"))){e.next=5;break}return e.abrupt("return",n.loaded.includes(r));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=le((function e(t){var r,n,o,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o={getBasicBeaconProperties:pe,getConfigurationOfExtension:he,getFlightLog:ge,getFlightLogList:we,getLicenseInformation:me,getPreflightStatus:Se,getRTKPresets:xe,getRTKStatus:Ce,getRTKSurveySettings:ke,getSelectedRTKPresetId:Ie,getShowConfiguration:Le,getWeatherInformation:Ze,isExtensionLoaded:Re,listExtensions:De},(n="_queries")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o;for(var i=function(){var e=ae(l[c],2),r=e[0],n=e[1];a[r]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.apply(void 0,[t].concat(r))}},c=0,l=Object.entries(this._queries);c<l.length;c++)i()}));function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){Xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Be(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||He(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||He(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=He(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function He(e,t){if(e){if("string"==typeof e)return qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ye(){Ye=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Ue(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function $e(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ke(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){$e(a,n,o,i,c,"next",e)}function c(e){$e(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Je(e,t,r){return t&&Qe(e.prototype,t),r&&Qe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lt(e,t)}function rt(e){var t=ct();return function(){var r,n=ut(e);if(t){var o=ut(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return nt(this,r)}}function nt(e,t){if(t&&("object"===Ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ot(e)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e){var t="function"==typeof Map?new Map:void 0;return at=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return it(e,arguments,ut(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),lt(n,e)},at(e)}function it(e,t,r){return it=ct()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&lt(o,r.prototype),o},it.apply(null,arguments)}function ct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function lt(e,t){return lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lt(e,t)}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ut(e)}var st=function(){return(0,a.x0)(8)};function ft(e){var t=e&&e.length>0?e.split(/\s+/):[""];return{command:t[0],args:t.slice(1),kwds:{}}}function pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)(e)||(e=h(e)),{"$fw.version":"1.0",id:st(),body:e}}var dt=function(e){tt(r,e);var t=rt(r);function r(e){return et(this,r),t.call(this,e||"Message hub emitter changed while waiting for a response")}return Je(r)}(at(Error)),ht=function(e){tt(r,e);var t=rt(r);function r(e){return et(this,r),t.call(this,e||"No emitter was associated to the message hub")}return Je(r)}(at(Error)),yt=function(e){tt(r,e);var t=rt(r);function r(e){var n;return et(this,r),(n=t.call(this,"Response to message ".concat(e," timed out"))).messageId=e,n.userMessage="Response timed out",n.hideStackTrace=!0,n.isTimeout=!0,n}return Je(r)}(at(Error)),mt=function(e){tt(r,e);var t=rt(r);function r(e){var n;return et(this,r),(n=t.call(this)).receipt=e,n.message="Response to command ".concat(e," timed out"),n.userMessage="Response timed out",n.hideStackTrace=!0,n}return Je(r)}(at(Error)),vt=function(e){tt(r,e);var t=rt(r);function r(e){var n;return et(this,r),(n=t.call(this,e)).message+=" (no response from target)",n.userMessage+=" (no response from target)",n.hideStackTrace=!0,n}return Je(r)}(mt),gt=function(e){tt(r,e);var t=rt(r);function r(e){var n;return et(this,r),(n=t.call(this,e)).message+=" (no response from server)",n.userMessage+=" (no response from server)",n.hideStackTrace=!0,n}return Je(r)}(mt),bt=function(e){tt(r,e);var t=rt(r);function r(e,n){var o;return et(this,r),(o=t.call(this,n||"Cancellation of operation ".concat(e," failed"))).receipt=e,o}return Je(r)}(at(Error)),wt=function(){function e(t){var r=this;et(this,e),Xe(this,"cancel",Ke(Ye().mark((function e(){var t,n,o,a,i=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},n=t.allowFailure,r._hub){e.next=3;break}throw new Error("This token is not activated yet");case 3:if(r._receipt){e.next=5;break}throw new Error("This token has already been used");case 5:return o=r._receipt,e.prev=6,e.next=9,r._hub._sendCancellationRequest([o]);case 9:a=e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(6),a=[o];case 16:if(!(!n&&a&&Object.keys(a).length>0)){e.next=18;break}throw new bt(o);case 18:case"end":return e.stop()}}),e,null,[[6,12]])})))),this._hub=t,this._receipt=void 0}return Je(e,[{key:"_activate",value:function(e,t){if(this._hub!==e)throw new Error("Cancel token is owned by a different hub");if(!t)throw new Error("Receipt ID must not be empty");if(this._receipt)throw new Error("This token is already activated");this._receipt=t}}]),e}(),Et=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.timeout,a=void 0===o?5:o,i=n.onTimeout;et(this,e),Xe(this,"_onTimeout",(function(){r.reject(new yt(r.messageId)),r._timeoutCallback&&r._timeoutCallback(r.receipt)})),this._messageId=t,this._deferred=c()(),a>0?(this._timeoutId=setTimeout(this._onTimeout,1e3*a),this._timeoutCallback=i):(this._timeoutId=void 0,this._timeoutCallback=void 0)}var t;return Je(e,[{key:"messageId",get:function(){return this._messageId}},{key:"resolve",value:function(e){this._clearTimeoutIfNeeded(),this._deferred.resolve(e)}},{key:"reject",value:function(e){this._clearTimeoutIfNeeded(),this._deferred.reject(e)}},{key:"wait",value:(t=Ke(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._deferred.promise);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_clearTimeoutIfNeeded",value:function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0,this._timeoutCallback=void 0)}}]),e}(),St=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.timeout,a=void 0===o?5:o,i=n.onProgress,l=n.onResume,u=n.onTimeout;et(this,e),Xe(this,"processResponseMessageBody",(function(e){var t=e.error,n=e.result;r._clearTimeoutIfNeeded(),void 0!==t?r._deferred.reject(new Error(t)):void 0!==n?r._deferred.resolve(n):r._deferred.reject(new Error("Malformed response was provided by the server"))})),Xe(this,"processStatusUpdateMessageBody",(function(e){var t=e.progress,n=e.suspended,o=void 0!==n&&n;r._restartTimeoutIfNeeded(),(t||o)&&r._progressCallback&&r._progressCallback({progress:t,suspended:o,resume:r._resumeCallback})})),Xe(this,"_onTimeout",(function(){r._timeoutCallback&&r._timeoutCallback(r.receipt),r._deferred.reject(new gt(r.receipt))})),this._receipt=t,this._deferred=c()(),this._progressCallback=i,this._resumeCallback=l,a>0?(this._timeoutInMsec=1e3*a,this._timeoutId=setTimeout(this._onTimeout,this._timeoutInMsec),this._timeoutCallback=u):(this._timeoutInMsec=void 0,this._timeoutId=void 0,this._timeoutCallback=void 0)}var t;return Je(e,[{key:"receipt",get:function(){return this._receipt}},{key:"serverSideTimeout",value:function(){this._clearTimeoutIfNeeded(),this._deferred.reject(new vt(this.receipt))}},{key:"wait",value:(t=Ke(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._deferred.promise);case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_clearTimeoutIfNeeded",value:function(){void 0!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0,this._timeoutCallback=void 0)}},{key:"_restartTimeoutIfNeeded",value:function(){this._clearTimeoutIfNeeded(),void 0!==this._timeoutInMsec&&(this._timeoutId=setTimeout(this._onTimeout,this._timeoutInMsec))}}]),e}(),Ot=function(){function e(t){et(this,e),this._hub=void 0,this._setHub(t)}return Je(e,[{key:"hub",get:function(){return this._hub}},{key:"_onAttachedToHub",value:function(){}},{key:"_onDetachingFromHub",value:function(){throw new Error("You may not detach this object from its message hub")}},{key:"_setHub",value:function(e){e!==this._hub&&(this._hub&&this._onDetachingFromHub(),this._hub=e,this._hub&&this._onAttachedToHub())}}]),e}(),xt=function(e){tt(n,e);var t,r=rt(n);function n(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;return et(this,n),Xe(ot(t=r.call(this,e)),"_onResponseTimedOut",function(){var e=Ke(Ye().mark((function e(r){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t._hub._sendCancellationRequest([r]);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),t.timeout=o,t._pendingOperations={},t._earlyResponses={},t}return Je(n,[{key:"_onAttachedToHub",value:function(){this._hub.registerNotificationHandlers({"ASYNC-RESP":this._onResponseReceived.bind(this),"ASYNC-ST":this._onStatusUpdateReceived.bind(this),"ASYNC-TIMEOUT":this._onTimeoutReceived.bind(this),"OBJ-CMD":this._onResponseReceived.bind(this)})}},{key:"cancelAll",value:function(e){for(var t=this._pendingOperations,r=0,n=Object.keys(t);r<n.length;r++){var o=t[n[r]];o&&o.reject(e)}this._pendingOperations={},this._earlyResponses={}}},{key:"handleMultiAsyncResponseForSingleId",value:(t=Ke(Ye().mark((function e(t,r){var n,o,a,i,c,l,u,s,f,p=this,d=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>2&&void 0!==d[2]?d[2]:{},o=n.cancelToken,a=n.noThrow,i=n.onProgress,c=n.timeout,l=(0,g.z$)(t,r),u=l.receipt,s=l.result,!u){e.next=23;break}return f=new St(u,{timeout:"number"==typeof c&&c>0?c:this.timeout,onProgress:i,onResume:function(e){return p._sendSingleResumeRequest(u,e)},onTimeout:this._onResponseTimedOut}),o&&o._activate(this._hub,u),this._earlyResponses[u]&&(f.processResponseMessageBody(this._earlyResponses[u]),delete this._earlyResponses[u]),this._pendingOperations[u]=f,e.prev=7,e.next=10,f.wait();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(7),!a){e.next=17;break}return e.abrupt("return",e.t0);case 17:throw e.t0;case 18:return e.prev=18,delete this._pendingOperations[u],e.finish(18);case 21:e.next=24;break;case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,this,[[7,13,18,21]])}))),function(e,r){return t.apply(this,arguments)})},{key:"_onResponseReceived",value:function(e){var t=e.body.id,r=this._pendingOperations[t];r?r.processResponseMessageBody(e.body):this._earlyResponses[t]=e.body}},{key:"_onStatusUpdateReceived",value:function(e){var t=e.body.id,r=this._pendingOperations[t];r&&r.processStatusUpdateMessageBody(e.body)}},{key:"_onTimeoutReceived",value:function(e){var t,r=ze(e.body.ids);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=this._pendingOperations[n];o&&o.serverSideTimeout()}}catch(e){r.e(e)}finally{r.f()}}},{key:"_sendSingleResumeRequest",value:function(e,t){return void 0!==t?this.hub._sendResumeRequest([e],Xe({},e,t)):this.hub._sendResumeRequest([e])}}]),n}(Ot),At=function(e){tt(i,e);var t,r,n,o,a=rt(i);function i(e){var t;return et(this,i),(t=a.call(this,e))._subscriptions=new Map,t._subscriptionsOnServer=null,t._subscriptionUpdateInProgress=null,t}return Je(i,[{key:"requestSubscriptionUpdates",value:(o=Ke(Ye().mark((function e(){var t,r,n,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._hub){e.next=4;break}return this._subscriptionsOnServer=null,e.abrupt("return");case 4:if(this._hub.canSend()){e.next=7;break}return this._subscriptionsOnServer=null,e.abrupt("return");case 7:return e.prev=7,e.next=10,this._hub.sendMessage("DEV-LISTSUB");case 10:n=e.sent,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return");case 17:if(o=null===(t=n)||void 0===t||null===(r=t.body)||void 0===r?void 0:r.paths,Array.isArray(o)){e.next=21;break}throw this._subscriptionsOnServer=null,new Error("DEV-LISTSUB expected to return an array of paths");case 21:return this._subscriptionsOnServer=new Set(o),e.next=24,this._updateSubscriptions();case 24:case"end":return e.stop()}}),e,this,[[7,13]])}))),function(){return o.apply(this,arguments)})},{key:"subscribe",value:(n=Ke(Ye().mark((function e(t,r){var n,o,a,i=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=!this._subscriptions.has(t))&&this._subscriptions.set(t,[]),(o=this._subscriptions.get(t)).push(r),e.prev=4,!n){e.next=8;break}return e.next=8,this._updateSubscriptions();case 8:e.next=16;break;case 10:throw e.prev=10,e.t0=e.catch(4),(a=o.indexOf(r))>=0&&o.splice(a,1),this._subscriptions.get(t)===o&&0===o.length&&this._subscriptions.delete(t),e.t0;case 16:return e.abrupt("return",(function(){return i.unsubscribe(t,r)}));case 17:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e,t){return n.apply(this,arguments)})},{key:"unsubscribe",value:(r=Ke(Ye().mark((function e(t,r){var n,o;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._subscriptions.has(t)){e.next=2;break}return e.abrupt("return");case 2:if(n=this._subscriptions.get(t),!((o=n.indexOf(r))>=0)){e.next=9;break}return n.splice(o,1),0===n.length&&this._subscriptions.delete(t),e.next=9,this._updateSubscriptions();case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"_onAttachedToHub",value:function(){this._hub&&(this._hub.registerNotificationHandlers({"DEV-INF":this._onDeviceTreeNodeValuesChanged.bind(this)}),this.requestSubscriptionUpdates())}},{key:"_onDeviceTreeNodeValuesChanged",value:function(e){for(var t=0,r=Object.entries(e.body.values);t<r.length;t++){var n=We(r[t],2),o=n[0],a=n[1];this._handleUpdatedValueOfDeviceTreeNode(o,a)}}},{key:"_handleUpdatedValueOfDeviceTreeNode",value:function(e,t){var r=this._subscriptions.get(e);if(r){var n,o=ze(r);try{for(o.s();!(n=o.n()).done;){(0,n.value)(t)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"_updateSubscriptions",value:(t=Ke(Ye().mark((function e(){var t,r,n,o,a,i,l,u,s,f,p,d,h,y,m,v,g,b,w,E,S,O,x,A,k,j,C=this;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._subscriptionUpdateInProgress){e.next=6;break}return e.next=3,this._subscriptionUpdateInProgress.promise;case 3:return e.next=5,this._updateSubscriptions();case 5:return e.abrupt("return");case 6:if(null!==this._subscriptionsOnServer){e.next=9;break}return e.abrupt("return");case 9:t=[],r=[],n=!1,o=ze(this._subscriptions.keys());try{for(o.s();!(a=o.n()).done;)i=a.value,this._subscriptionsOnServer.has(i)||t.push(i)}catch(e){o.e(e)}finally{o.f()}l=ze(this._subscriptionsOnServer.values(k));try{for(l.s();!(u=l.n()).done;)s=u.value,this._subscriptions.has(s)||r.push(s)}catch(e){l.e(e)}finally{l.f()}if(0!==r.length||0!==t.length){e.next=18;break}return e.abrupt("return");case 18:if(this._hub){e.next=21;break}return e.abrupt("return");case 21:if(this._subscriptionUpdateInProgress=c()(),!(r.length>0)){e.next=28;break}return e.next=25,this._hub.sendMessage({type:"DEV-UNSUB",paths:r});case 25:null!=(d=e.sent)&&null!==(f=d.body)&&void 0!==f&&f.error&&(n=!0),null!=d&&null!==(p=d.body)&&void 0!==p&&p.success&&(h=this._subscriptionsOnServer).deleteAll.apply(h,Be(d.body.success));case 28:if(!(t.length>0)){e.next=39;break}return e.next=31,this._hub.sendMessage({type:"DEV-SUB",paths:t,lazy:!0});case 31:if(b=e.sent,null!==(y=b)&&void 0!==y&&null!==(m=y.body)&&void 0!==m&&m.error&&(n=!0),null===(v=b)||void 0===v||null===(g=v.body)||void 0===g||!g.success){e.next=39;break}return(w=this._subscriptionsOnServer).addAll.apply(w,Be(b.body.success)),e.next=37,this._hub.sendMessage({type:"DEV-INF",paths:null===(E=b)||void 0===E||null===(S=E.body)||void 0===S?void 0:S.success});case 37:for(b=e.sent,O=0,x=Object.entries(b.body.values);O<x.length;O++)A=We(x[O],2),k=A[0],j=A[1],this._handleUpdatedValueOfDeviceTreeNode(k,j);case 39:n&&setTimeout((function(){return C._updateSubscriptions()}),5e3),this._subscriptionUpdateInProgress.resolve(),this._subscriptionUpdateInProgress=null;case 42:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),i}(Ot),kt=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;et(this,e),this.emitter=t,this.timeout=r,this._notificationHandlers={},this._pendingResponses={},this._waitUntilReadyDeferred=void 0,this._executor=void 0,this._query=void 0,this._onMessageTimedOut=this._onMessageTimedOut.bind(this),this._asyncOperationManager=new xt(this),this._deviceTreeSubscriptionManager=new At(this)}var t,r,o,a,i,u,p,d;return Je(e,[{key:"emitter",get:function(){return this._emitter},set:function(e){if(this._emitter!==e){var t=new dt;this._asyncOperationManager.cancelAll(t),this.cancelAllPendingResponses(),this._emitter=e,this._emitter&&this._waitUntilReadyDeferred&&(this._waitUntilReadyDeferred.resolve(),this._waitUntilReadyDeferred=void 0)}}},{key:"execute",get:function(){return this._executor||(this._executor=new J(this)),this._executor}},{key:"query",get:function(){return this._query||(this._query=new Me(this)),this._query}},{key:"cancelAllPendingResponses",value:function(){for(var e=this._pendingResponses,t=0,r=Object.keys(e);t<r.length;t++){var n=e[r[t]];n&&n.reject(new dt)}}},{key:"canSend",value:function(){return Boolean(this._emitter)}},{key:"createCancelToken",value:function(){return new wt(this)}},{key:"processIncomingMessage",value:function(e){var t=e.refs;if(t){var r=this._pendingResponses[t];r&&r.resolve(e)}else{var n=e.body?e.body.type:void 0,o=this._notificationHandlers[n];if(o){var a,i=ze(o);try{for(i.s();!(a=i.n()).done;){(0,a.value)(e)}}catch(e){i.e(e)}finally{i.f()}}}}},{key:"registerNotificationHandler",value:function(e,t){(0,n.Z)(this._notificationHandlers,e)||(this._notificationHandlers[e]=[]),this._notificationHandlers[e].push(t)}},{key:"registerNotificationHandlers",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this.registerNotificationHandler(n,e[n])}}},{key:"unregisterNotificationHandler",value:function(e,t){if(!(0,n.Z)(this._notificationHandlers,e)||!this._notificationHandlers[e].includes(t))throw new Error("Unable to unregister handler from ".concat(e,". Handler doesn\u2019t exist."));this._notificationHandlers[e].splice(this._notificationHandlers[e].indexOf(t))}},{key:"unregisterNotificationHandlers",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this.unregisterNotificationHandler(n,e[n])}}},{key:"sendCommandRequest",value:(d=Ke(Ye().mark((function e(t,r){var n,o,a,i,c,l;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uavId,o=t.command,a=t.args,i=t.kwds,c=m([n],o,a,i),e.next=4,this.sendMessage(c);case 4:return l=e.sent,e.abrupt("return",this._asyncOperationManager.handleMultiAsyncResponseForSingleId(l,n,r));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"sendMessage",value:(p=Ke(Ye().mark((function e(){var t,r,n,o,a=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},this._emitter){e.next=4;break}throw new ht;case 4:return r=pt(t),n=r.id,o=new Et(n,{timeout:this.timeout,onTimeout:this._onMessageTimedOut}),this._emitter("fw",r),this._pendingResponses[n]=o,e.prev=9,e.next=12,o.wait();case 12:return e.abrupt("return",e.sent);case 13:return e.prev=13,delete this._pendingResponses[r.id],e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[9,,13,16]])}))),function(){return p.apply(this,arguments)})},{key:"sendNotification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._emitter&&this._emitter("fw",pt(e))}},{key:"subscribe",value:(u=Ke(Ye().mark((function e(t,r){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._deviceTreeSubscriptionManager.subscribe(t,r));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"startAsyncOperation",value:(i=Ke(Ye().mark((function e(t){var r,n;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type){e.next=3;break}throw new Error("Message must have a type");case 3:return e.next=5,this.sendMessage(t);case 5:return n=e.sent,e.abrupt("return",this._processMultiAsyncOperationResponse(n,r));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"startAsyncOperationForSingleId",value:(a=Ke(Ye().mark((function e(t,r){var n,o,a,i,c,l,u,s,f,p,d,h,y,m,v,g=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>2&&void 0!==g[2]?g[2]:{},o=r.ids,a=r.type,i=n.idProp,c=n.onProgress,l=n.single,u=void 0!==l&&l,a){e.next=5;break}throw new Error("Message must have a type");case 5:if(!o||Array.isArray(o)){e.next=7;break}throw new Error("Message must not have an ids key");case 7:return w(t),null!==i&&(r[i||(u?"id":"ids")]=[t]),e.next=11,this.sendMessage(r);case 11:if(s=e.sent,u){for(f=Ve({},s),p=0,d=["error","result","receipt"];p<d.length;p++)h=d[p],Object.prototype.hasOwnProperty.call(s.body,h)&&(f.body[h]=Xe({},t,s.body[h]));s=f}return y=c?u?function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return c.apply(void 0,r)}:c:void 0,e.next=16,this._processMultiAsyncOperationResponse(s,a,{onProgress:y});case 16:if(m=e.sent,!Object.prototype.hasOwnProperty.call(m,t)){e.next=26;break}if(!((v=m[t])instanceof Error)){e.next=23;break}throw v;case 23:return e.abrupt("return",v);case 24:e.next=27;break;case 26:throw new Error("Server did not return a response for ID ".concat(t));case 27:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"waitUntilReady",value:function(e){return void 0!==this._emitter?Promise.resolve():(void 0===this._waitUntilReadyDeferred&&(this._waitUntilReadyDeferred=c()()),e&&e>0?s()(this._waitUntilReadyDeferred.promise,e):this._waitUntilReadyDeferred.promise)}},{key:"_onMessageTimedOut",value:function(e){}},{key:"_processMultiAsyncOperationResponse",value:(o=Ke(Ye().mark((function e(t,r){var n,o,a,i,c,u,s,f,p,d,h,y,m,v=this,g=arguments;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>2&&void 0!==g[2]?g[2]:{},o=n.onProgress,t){e.next=5;break}throw new Error("Response should not be empty");case 5:if(t.body){e.next=9;break}throw new Error("Response has no body");case 9:if("ACK-NAK"!==t.body.type){e.next=13;break}throw new Error("Execution rejected by server; reason: ".concat(t.body.reason||"unknown"));case 13:if(t.body.type===r){e.next=17;break}throw new Error("Response has an unexpected type: ".concat(t.body.type,", expected ").concat(r));case 17:for(a=t.body,i=a.error,c=a.result,u=a.receipt,s=Ve({},c),f=0,p=Object.keys(i||[]);f<p.length;f++)d=p[f],s[d]=new Error(String(i[d]));for(h=function(){var e=m[y];try{s[e]=v._asyncOperationManager.handleMultiAsyncResponseForSingleId(t,e,{onProgress:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.apply(void 0,[e].concat(r))},noThrow:!0})}catch(t){s[e]=t}},y=0,m=Object.keys(u||[]);y<m.length;y++)h();return e.abrupt("return",(0,l.Z)(s));case 24:case"end":return e.stop()}}),e)}))),function(e,t){return o.apply(this,arguments)})},{key:"_sendCancellationRequest",value:(r=Ke(Ye().mark((function e(t){var r,n,o,a,i;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t,l=void 0,(l=h("ASYNC-CANCEL")).ids=(0,f.Z)(c),r=l,e.next=3,this.sendMessage(r);case 3:if(n=e.sent,o=(0,g.Sz)(n),a=o.body,!((i=a.error)&&Object.keys(i).length>0)){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}var c,l}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"_sendResumeRequest",value:(t=Ke(Ye().mark((function e(t,r){var n,o,a,i,c;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y(t,r),e.next=3,this.sendMessage(n);case 3:if(o=e.sent,a=(0,g.Sz)(o),i=a.body,!((c=i.error)&&Object.keys(c).length>0)){e.next=10;break}return e.abrupt("return",c);case 10:return e.abrupt("return",{});case 11:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}()},87586:(e,t,r)=>{"use strict";r.d(t,{Sz:()=>s,b7:()=>p,li:()=>l,sR:()=>c,z$:()=>f});r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948);var n=r(6767),o=r.n(n),a=r(16423);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e){var t=(63488&e)>>11,r=(2016&e)>>5,n=31&e;return(t<<3)+(t>>2)<<16|(r<<2)+(r>>4)<<8|(n<<3)+(n>>2)}function l(e){return o()(c(e||0)).string()}var u={"LOG-DATA":!0,"LOG-INF":!0,"OBJ-CMD":!0,"PRM-GET":!0,"PRM-SET":!0,"UAV-CALIB":!0,"UAV-FLY":!0,"UAV-HALT":!0,"UAV-HOVER":!0,"UAV-LAND":!0,"UAV-MOTOR":!0,"UAV-RST":!0,"UAV-RTH":!0,"UAV-SIGNAL":!0,"UAV-TAKEOFF":!0,"UAV-TEST":!0,"UAV-WAKEUP":!0};function s(e){var t=(e||{}).body,r=(t||{}).type;if(!r)throw new Error("Received message has no type");if("ACK-NAK"===r)throw new Error(t.reason||"ACK-NAK received; no reason given");return e}function f(e,t){var r=s(e).body,n=r.type;if(u[n]){var o=r.error,a=r.receipt,i=r.result;if(o&&void 0!==o[t])throw new Error(r.error[t]||"Failed to execute command");if(i&&void 0!==i[t])return{result:i[t]};if(a&&void 0!==a[t])return{receipt:a[t]};throw new Error("Server did not provide a response or receipt for the command")}throw new Error("".concat(n," messages do not contain receipts"))}function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(0,a.Z)(e,"body.error");if("object"===i(n)&&void 0!==n[t]){if("string"==typeof n[t])throw new TypeError(n[t]);var o=r.error;throw new Error(o||"Failed to retrieve result for ID ".concat(t," from response"))}var c=r.key,l=void 0===c?"status":c,u=(0,a.Z)(e,"body."+l);if("object"===i(u)&&void 0!==u[t])return u[t];throw new Error("No result for ID ".concat(t," but no error either; this should not have happened."))}},78094:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});r(19601);var n=r(67294),o=r(62087);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}const i=n.forwardRef((function(e,t){return n.createElement(o.Z,a({},e,{ref:t}),n.createElement("path",{d:"M12 7.5C12.69 7.5 13.27 7.73 13.76 8.2S14.5 9.27 14.5 10C14.5 11.05 14 11.81 13 12.28V21H11V12.28C10 11.81 9.5 11.05 9.5 10C9.5 9.27 9.76 8.67 10.24 8.2S11.31 7.5 12 7.5M16.69 5.3C17.94 6.55 18.61 8.11 18.7 10C18.7 11.8 18.03 13.38 16.69 14.72L15.5 13.5C16.5 12.59 17 11.42 17 10C17 8.67 16.5 7.5 15.5 6.5L16.69 5.3M6.09 4.08C4.5 5.67 3.7 7.64 3.7 10S4.5 14.3 6.09 15.89L4.92 17.11C3 15.08 2 12.7 2 10C2 7.3 3 4.94 4.92 2.91L6.09 4.08M19.08 2.91C21 4.94 22 7.3 22 10C22 12.8 21 15.17 19.08 17.11L17.91 15.89C19.5 14.3 20.3 12.33 20.3 10S19.5 5.67 17.91 4.08L19.08 2.91M7.31 5.3L8.5 6.5C7.5 7.42 7 8.58 7 10C7 11.33 7.5 12.5 8.5 13.5L7.31 14.72C5.97 13.38 5.3 11.8 5.3 10C5.3 8.2 5.97 6.64 7.31 5.3Z"}))}))},61197:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});r(19601);var n=r(67294),o=r(62087);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}const i=n.forwardRef((function(e,t){return n.createElement(o.Z,a({},e,{ref:t}),n.createElement("path",{d:"M11 21h-1l1-7H7.5c-.58 0-.57-.32-.38-.66.19-.34.05-.08.07-.12C8.48 10.94 10.42 7.54 13 3h1l-1 7h3.5c.49 0 .56.33.47.51l-.07.15C12.96 17.55 11 21 11 21z"}))}))},36697:(e,t,r)=>{"use strict";r.d(t,{Z:()=>L});r(47042),r(41539),r(68309),r(91038),r(78783),r(74916),r(77601),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(79697),o=r(86706),a=(r(39575),r(82472),r(48675),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(37380),r(1118),r(32846),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(55021),r(12974),r(15016),r(39714),r(38862),r(92222),r(88674),r(72443),r(39341),r(73706),r(10408),r(30489),r(54747),r(68304),r(52300));function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(){c=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new A(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=S(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function d(){}function h(){}function y(){}var m={};u(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(m=g);var b=y.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,a,c,l){var u=f(e[o],e,a);if("throw"!==u.type){var s=u.arg,p=s.value;return p&&"object"==i(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,c,l)}),(function(e){n("throw",e,c,l)})):t.resolve(p).then((function(e){s.value=e,c(s)}),(function(e){return n("throw",e,c,l)}))}l(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function S(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(b),u(b,l,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function l(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){l(a,n,o,i,c,"next",e)}function c(e){l(a,n,o,i,c,"throw",e)}i(void 0)}))}}function s(e){var t,r,n,o,a,i=e.length;for(t="",r=0;r<i;)switch((n=e[r++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(n);break;case 12:case 13:o=e[r++],t+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=e[r++],a=e[r++],t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a)}return t}function f(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return new Uint8Array(t)}function p(){return(p=u(c().mark((function e(t,r){var n,o,i,l,u,p,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t||{}).data){e.next=3;break}return e.abrupt("return");case 3:for(i=a.DS.toUint8Array(n),o=0;o<i.length;o++)i[o]^=85;if(0!==(l=s(i)).length){e.next=8;break}return e.abrupt("return");case 8:if(0!==(u=l.indexOf(" "))){e.next=13;break}p="err Invalid command",e.next=22;break;case 13:if(!(u<0)){e.next=19;break}return e.next=16,h(l);case 16:p=e.sent,e.next=22;break;case 19:return e.next=21,h(l.slice(0,u),l.slice(u+1));case 21:p=e.sent;case 22:if(!r){e.next=29;break}for(d=f(p),o=0;o<d.length;o++)d[o]^=85;return e.next=27,r(a.DS.fromUint8Array(d));case 27:e.next=30;break;case 29:case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d={};function h(e,t){return y.apply(this,arguments)}function y(){return(y=u(c().mark((function e(t,r){var n,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d[t],a=!1,e.prev=2,!n){e.next=9;break}return e.next=6,n(r);case 6:o=e.sent,e.next=10;break;case 9:throw new Error("no such command");case 10:a=!0,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),o=e.t0.toString();case 16:return e.prev=16,o=JSON.stringify(o),e.finish(16);case 19:return e.abrupt("return","".concat(a?"ok":"err"," ").concat(o));case 20:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})))).apply(this,arguments)}var m=r(39619),v=r(38377),g=r(70354),b=r(17758),w=r(98419),E=r(60587);var S=r(53680),O=r(31574),x=r(5742),A=r(286),k=r(54247);function j(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=k.ZP.dispatch,I=k.ZP.getState,T=new m.ZP;T.registerNotificationHandlers({"BCN-INF":function(e){return(0,v.AP)(e.body,P,I)},"CLK-INF":function(e){return(0,g.D)(e.body,P)},"CONN-DEL":function(e){return(0,w.Lu)(e.body,P)},"CONN-INF":function(e){return(0,w.vg)(e.body,P)},"DOCK-INF":function(e){return(0,b.D)(e.body,P)},"OBJ-DEL":function(e){return function(e,t){var r=e.ids;Array.isArray(r)&&0!==r.length&&t((0,E.y)(r))}(e.body,P)},"SYS-CLOSE":function(e){e.body&&e.body.reason&&P((0,O.x)(e.body.reason))},"SYS-MSG":function(e){e.body&&Array.isArray(e.body.items)&&(0,o.dC)((function(){var t,r=j(e.body.items);try{for(r.s();!(t=r.n()).done;){var o=t.value;(0,n.Z)(o.sender)?P((0,O.c)({message:o.message,semantics:(0,x.mA)(o.severity)})):P((0,S.WT)({message:o.message,uavId:o.sender,severity:o.severity}))}}catch(e){r.e(e)}finally{r.f()}}))},"UAV-INF":function(e){return A.ZP.handleUAVInformationMessage(e.body,P)},"X-DBG-REQ":function(e){return function(e,t){return p.apply(this,arguments)}(e.body,T.execute.sendDebugMessage)}});const L=T},63618:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,h:()=>m});r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337);var n,o,a=r(27638),i=r(73435);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d={FULL:"Full",NEAR_FULL:"NearFull",OK:"Ok",WARNING:"Warning",ERROR:"Error",UNKNOWN:"Unknown"},h=(p(n={},d.FULL,i.Status.OFF),p(n,d.NEAR_FULL,i.Status.OFF),p(n,d.OK,i.Status.OFF),p(n,d.WARNING,i.Status.WARNING),p(n,d.ERROR,i.Status.ERROR),p(n,d.UNKNOWN,i.Status.OFF),n),y=(p(o={},d.FULL,95),p(o,d.NEAR_FULL,60),p(o,d.OK,20),p(o,d.WARNING,10),o),m=s((function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{defaultBatteryCellCount:a.uV},n=r.defaultBatteryCellCount,o=r.voltageThresholds;f(this,e),p(this,"defaultBatteryCellCount",a.uV),p(this,"fullChargeVoltage",a.yj),p(this,"nearFullChargeVoltage",a.yj-.1*(a.yj-a.jO)),p(this,"okVoltageThreshold",a.yj-.4*(a.yj-a.jO)),p(this,"lowVoltageThreshold",a.jO),p(this,"criticalVoltageThreshold",a.YI),p(this,"emptyVoltage",3.3),p(this,"estimatePercentageFromVoltagePerCell",(function(e){return e<=t.emptyVoltage?0:e>=t.fullChargeVoltage?100:Math.round((e-t.emptyVoltage)/(t.fullChargeVoltage-t.emptyVoltage)*100)})),p(this,"estimatePercentageFromVoltage",(function(e,r){var n=t.getVoltagePerCell(e,r);return t.estimatePercentageFromVoltagePerCell(n)})),p(this,"getSemanticBatteryStatus",(function(e,r,n){var o=t.getBatteryStatus(e,r,n);return h[o]||i.Status.OFF})),p(this,"getBatteryStatus",(function(e,r,n){if(r)return r>y[d.FULL]?d.FULL:r>y[d.NEAR_FULL]?d.NEAR_FULL:r>y[d.OK]?d.OK:r>y[d.WARNING]?d.WARNING:d.ERROR;var o=t.getVoltagePerCell(e,n);return o>t.nearFullChargeVoltage?d.FULL:o>=t.okVoltageThreshold?d.NEAR_FULL:o>=t.lowVoltageThreshold?d.OK:o>=t.criticalVoltageThreshold?d.WARNING:d.ERROR})),p(this,"getVoltagePerCell",(function(e,r){return void 0===r&&(r=t.defaultBatteryCellCount||3),void 0===e||r<1?0:e/r})),this.defaultBatteryCellCount=n;var c=l({full:a.yj,low:a.jO,critical:a.YI,empty:3.3},o),u=c.full,s=c.low,m=c.critical,v=c.empty;this.fullChargeVoltage=u,this.nearFullChargeVoltage=u-.1*(u-s),this.okVoltageThreshold=u-.4*(u-s),this.lowVoltageThreshold=s,this.criticalVoltageThreshold=Math.min(m,s),this.emptyVoltage=Math.min(v,this.criticalVoltageThreshold)}))},38377:(e,t,r)=>{"use strict";r.d(t,{AP:()=>u,Yc:()=>l,nC:()=>s});r(68309);var n=r(27601),o=r(49360),a=r(48392),i=r(8856),c=r(16050),l=function(e){return e&&Array.isArray(e)&&(0!==e[0]||0!==e[1])?{lat:e[0]/1e7,lon:e[1]/1e7,amsl:(0,n.default)(e[2])?null:e[2]/1e3,ahl:(0,n.default)(e[3])?null:e[3]/1e3,agl:(0,n.default)(e[4])?null:e[4]/1e3}:null};function u(e,t){var r=(0,a.Z)(e.status,(function(e){var t,r=e.id,n=e.active,a=e.heading,c=e.position;return(0,i.Z)({id:r,position:l(c),heading:(t=a,t&&"number"==typeof t?t/10:null),active:n},o.Z)}));t((0,c.y3)(r))}function s(e,t){var r=(0,a.Z)(e.result,(function(e){var t=e.id,r=e.name;return(0,i.Z)({id:t,name:r},o.Z)}));t((0,c.y3)(r))}},70354:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(49360),o=r(48392),a=r(8856),i=r(32655),c=r(36482);function l(e,t){var r=(0,o.Z)(e.status,(function(e){return(0,a.Z)({id:e.id,epoch:(0,c.eJ)(e.epoch),referenceTime:e.retrievedAt,running:e.running,ticks:e.ticks,ticksPerSecond:e.ticksPerSecond||1},n.Z)}));t((0,i.ne)(r))}},98419:(e,t,r)=>{"use strict";r.d(t,{Lu:()=>l,em:()=>c,vg:()=>u});r(82526),r(41817);var n=r(49360),o=r(48392),a=r(8856),i=r(76527),c={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTING:"disconnecting"};function l(e,t){t((0,i.XH)(e.ids))}function u(e,t){var r=(0,o.Z)(e.status,(function(e){return(0,a.Z)({id:e.id,name:e.description,state:e.status,stateChangedAt:e.timestamp},n.Z)}));t((0,i.c$)(r))}},27638:(e,t,r)=>{"use strict";r.d(t,{YI:()=>i,jO:()=>a,uV:()=>n,yj:()=>o});var n=3,o=4.2,a=3.6,i=3.4},17758:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var n=r(49360),o=r(48392),a=r(8856),i=r(13277),c=r(38377);function l(e,t){var r=(0,o.Z)(e.status,(function(e){var t=e.id,r=e.position;return(0,a.Z)({id:t,position:(0,c.Yc)(r)},n.Z)}));t((0,i.oL)(r))}},76206:(e,t,r)=>{"use strict";r.d(t,{Cs:()=>u,G:()=>Z,QF:()=>_,ZK:()=>d,b_:()=>F,c2:()=>V,d_:()=>N,gk:()=>W,k_:()=>f,lP:()=>D,mO:()=>B,nP:()=>M,uZ:()=>U,zb:()=>s});r(82526),r(41817),r(47042);var n,o,a,i,c=r(16261);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={OUTBOUND:"outbound",INBOUND:"inbound",ERROR:"error"},s={DEBUG:"debug",INFO:"info",WARNING:"warning",ERROR:"error",CRITICAL:"critical"},f={UNKNOWN:"unknown",TEXT:"text",ARDUPILOT:"ardupilot",ULOG:"ulog",FLOCKCTRL:"flockctrl"},p=(l(n={},f.UNKNOWN,{label:"Unknown",description:"Unknown flight log format"}),l(n,f.TEXT,{label:"Plain text",description:"Plain text flight log"}),l(n,f.ARDUPILOT,{label:"ArduPilot",description:"ArduPilot flight log"}),l(n,f.ULOG,{label:"PX4 ULog",description:"PX4 ULog flight log"}),l(n,f.FLOCKCTRL,{label:"FlockCtrl",description:"FlockCtrl high-level flight log"}),n);function d(e){return(p[e]||p[f.UNKNOWN]).description}var h="alt",y="auto",m="circle",v="flow",g="follow",b="guided",w="land",E="loiter",S="mission",O="other",x="precland",A="pos",k="rth",j="show",C="simple",P="stab",I="takeoff",T="unknown",L=(l(o={},"acro",{abbreviation:"Acro",label:"Acrobatic",description:"Acrobatic"}),l(o,h,{abbreviation:"Alt",label:"Altitude hold",description:"Altitude hold"}),l(o,y,{abbreviation:"Auto",label:"Automatic",description:"Automatic"}),l(o,m,{abbreviation:"Circ",label:"Circling",description:"Circling around point of interest"}),l(o,v,{abbreviation:"Flow",label:"Optical flow hold",description:"Optical flow hold"}),l(o,g,{abbreviation:"Flw",label:"Following",description:"Following another device",status:c.q.SUCCESS}),l(o,b,{abbreviation:"Guid",label:"Guided",description:"Guided by companion computer",status:c.q.SUCCESS}),l(o,w,{abbreviation:"Land",label:"Landing",description:"Autonomous landing",status:c.q.WARNING}),l(o,E,{abbreviation:"Loit",label:"Loiter",description:"Posiiton hold with manual velocity control"}),l(o,S,{abbreviation:"Wp",label:"Mission",description:"Following pre-programmed mission",status:c.q.SUCCESS}),l(o,O,{abbreviation:"Othr",label:"Other",description:"Other, unspecified flight mode"}),l(o,x,{abbreviation:"Plnd",label:"Precision landing",description:"Autonomous precision landing"}),l(o,A,{abbreviation:"Pos",label:"Position hold",description:"Position hold with manual attitude control"}),l(o,k,{abbreviation:"RTH",label:"Return to home",description:"Autonomous return to home",status:c.q.RTH}),l(o,j,{abbreviation:"Show",label:"Drone show",description:"Executing a drone show",status:c.q.SUCCESS}),l(o,C,{abbreviation:"Simp",label:"Simple",description:"Simplified aided flight mode"}),l(o,P,{abbreviation:"Stab",label:"Stabilize",description:"Roll and pitch stabilization"}),l(o,I,{abbreviation:"Take",label:"Takeoff",description:"Autonomous takeoff"}),l(o,T,{abbreviation:"----",label:"Unknown",description:"Unknown flight mode"}),o);function _(e){var t=L[e&&"string"==typeof e?e:T];return t?t.abbreviation:e.slice(0,4)}function Z(e){var t=L[e];return t?t.label:String(e).toUpperCase()}function N(e){return(L[e]||L[T]).status}var D={NO_GPS:0,NO_FIX:1,FIX_2D:2,FIX_3D:3,DGPS:4,RTK_FLOAT:5,RTK_FIXED:6,STATIC:7,UNKNOWN:8},R=(l(a={},D.NO_GPS,{abbreviation:"",description:"No GPS connected",status:c.q.ERROR}),l(a,D.NO_FIX,{abbreviation:"",description:"No GPS fix obtained",status:c.q.ERROR}),l(a,D.FIX_2D,{abbreviation:"2D",description:"2D GPS fix",status:c.q.WARNING}),l(a,D.FIX_3D,{abbreviation:"3D",description:"3D GPS fix",status:c.q.WARNING}),l(a,D.DGPS,{abbreviation:"DGPS",description:"3D GPS fix with DGPS/SBAS",status:c.q.SUCCESS}),l(a,D.RTK_FLOAT,{abbreviation:"RTK",description:"RTK float",status:c.q.SUCCESS}),l(a,D.RTK_FIXED,{abbreviation:"RTK+",description:"RTK fixed",status:c.q.SUCCESS}),l(a,D.STATIC,{abbreviation:"STA",description:"Static position",status:c.q.SUCCESS}),l(a,D.UNKNOWN,{abbreviation:"----",description:"Unknown GPS fix type",status:c.q.WARNING}),a);function F(e){return(R[e]||R[D.UNKNOWN]).abbreviation}function M(e){return(R[e]||R[D.UNKNOWN]).status}var U={OFF:"off",PASS:"pass",WARNING:"warning",RUNNING:"running",SOFT_FAILURE:"softFailure",FAILURE:"failure",ERROR:"error",UNKNOWN:"unknown"},G=(l(i={},U.OFF,{description:"Disabled",overallDescription:"All preflight checks are disabled",status:c.q.OFF}),l(i,U.PASS,{description:"OK",overallDescription:"Preflight checks passed",status:c.q.SUCCESS}),l(i,U.WARNING,{description:"Needs attention",overallDescription:"Some preflight check items need attention",status:c.q.WARNING}),l(i,U.RUNNING,{description:"Check in progress...",overallDescription:"Preflight checks are in progress...",status:c.q.WAITING}),l(i,U.SOFT_FAILURE,{description:"Temporary failure",overallDescription:"Some preflight checks failed temporarily",status:c.q.WARNING}),l(i,U.FAILURE,{description:"Failed",overallDescription:"Preflight checks failed",status:c.q.ERROR}),l(i,U.ERROR,{description:"Error while executing test",overallDescription:"Error while executing preflight checks",status:c.q.CRITICAL}),l(i,U.UNKNOWN,{description:"Unknown test result",overallDescription:"Unknown preflight test result",status:c.q.OFF}),i);function V(e){return(G[e]||G[U.UNKNOWN]).description}function B(e){return(G[e]||G[U.UNKNOWN]).overallDescription}function W(e){return(G[e]||G[U.UNKNOWN]).status}},64209:(e,t,r)=>{"use strict";r.d(t,{Ci:()=>g,GA:()=>v,IQ:()=>m,Ku:()=>w,Te:()=>p,gF:()=>d,r3:()=>b});var n,o,a=r(59832),i=r(34659),c=r(69016),l=r(44657),u=r(83817),s=r(67294);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={CIRCLE:"circle",LINE_STRING:"lineString",POINTS:"points",POLYGON:"polygon",RECTANGLE:"rectangle"},d={HIDDEN:"hidden",NORMAL:"normal",THICK_OUTLINE:"thickOutline",THIN_OUTLINE:"thinOutline"},h=(f(n={},p.CIRCLE,s.createElement(l.Z)),f(n,p.LINE_STRING,s.createElement(i.Z)),f(n,p.POINTS,s.createElement(a.Z)),f(n,p.POLYGON,s.createElement(u.Z)),f(n,p.RECTANGLE,s.createElement(c.Z)),n),y=(f(o={},p.CIRCLE,"Circle"),f(o,p.LINE_STRING,"Path"),f(o,p.POINTS,"Marker"),f(o,p.POLYGON,"Polygon"),f(o,p.RECTANGLE,"Rectangle"),o);function m(e){return y[e]||"Feature"}function v(e){return h[e]||h[p.POINTS]}function g(e){return e===p.LINE_STRING||e===p.POLYGON}function b(e){return e===p.LINE_STRING||e===p.POLYGON||e===p.RECTANGLE}function w(e){return e===p.CIRCLE||e===p.POLYGON||e===p.RECTANGLE}},70760:(e,t,r)=>{"use strict";r.d(t,{DB:()=>f,_J:()=>y,aC:()=>d,bw:()=>p,tA:()=>h});var n,o,a=r(90783),i=r(34156),c=r.n(i),l=r(31467),u=r(65343);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={DEFAULT:"default",WITH_WARNINGS:"withWarnings",WITH_ERRORS:"withErrors",INACTIVE_ONLY:"inactiveOnly"},p=[f.DEFAULT,f.WITH_WARNINGS,f.WITH_ERRORS,f.INACTIVE_ONLY],d=(s(n={},f.DEFAULT,"All"),s(n,f.WITH_WARNINGS,"Warnings and errors"),s(n,f.WITH_ERRORS,"Errors only"),s(n,f.INACTIVE_ONLY,"No telemetry only"),n),h=(s(o={},f.DEFAULT,"All"),s(o,f.WITH_WARNINGS,"Warn/Err"),s(o,f.WITH_ERRORS,"Errors"),s(o,f.INACTIVE_ONLY,"No telem"),o),y=c()((function(e){switch(e){case f.WITH_ERRORS:return function(e){return!!(Array.isArray(null==e?void 0:e.errors)&&e.errors.length>0)&&(0,u.L)((0,a.Z)(e.errors))};case f.WITH_WARNINGS:return function(e){return!!(Array.isArray(null==e?void 0:e.errors)&&e.errors.length>0)&&(0,u.Y)((0,a.Z)(e.errors))};case f.INACTIVE_ONLY:return function(e){return(null==e?void 0:e.age)===l.y.INACTIVE};default:return}}))},57606:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});r(2707),r(21249),r(47042),r(41539),r(68309),r(91038),r(78783),r(74916),r(77601),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(79697),o=r(17179),a=r(99168),i=r(82940),c=r.n(i),l=r(31467);function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uavsById={},this.uavsAdded=new(c()),this.uavsUpdated=new(c()),this.uavsRemoved=new(c())}var t,r,i;return t=e,(r=[{key:"_createUAVById",value:function(e){return new l.Z(e)}},{key:"getAllUAVIds",value:function(){return(0,o.Z)(this._uavsById).sort()}},{key:"getAllUAVs",value:function(){var e=this;return this.getAllUAVIds().map((function(t){return e._uavsById[t]}))}},{key:"getUAVById",value:function(e){return this._uavsById[e]}},{key:"getOrCreateUAVById",value:function(e){var t=this._uavsById[e];return t||(t=this._createUAVById(e),this._uavsById[e]=t),t}},{key:"handleUAVInformationMessage",value:function(e){var t=this,r=(0,a.Z)(e.status,(function(e,r,n){var o=t.getUAVById(n);o||(o=t._createUAVById(n),t._uavsById[n]=o,e.addedUAVs.push(o)),o.handleUAVStatusInfo(r)&&e.updatedUAVs.push(o)}),{addedUAVs:[],updatedUAVs:[]}),o=r.addedUAVs,i=r.updatedUAVs;(0,n.Z)(o)||this.uavsAdded.dispatch(o),(0,n.Z)(i)||this.uavsUpdated.dispatch(i)}},{key:"removeUAVById",value:function(e){this.removeUAVsByIds([e])}},{key:"removeUAVsByIds",value:function(e){var t,r=[],o=u(e);try{for(o.s();!(t=o.n()).done;){var a=t.value,i=this._uavsById[a];void 0!==i&&(r.push(i),delete this._uavsById[a])}}catch(e){o.e(e)}finally{o.f()}(0,n.Z)(r)||this.uavsRemoved.dispatch(r)}}])&&f(t.prototype,r),i&&f(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},96354:(e,t,r)=>{"use strict";r.d(t,{Y9:()=>L,R:()=>I,tr:()=>T,ZX:()=>i,YA:()=>c,cf:()=>l,Pe:()=>u,ZA:()=>m,wf:()=>v,RG:()=>g,K$:()=>b,mK:()=>w,K5:()=>E,Bf:()=>x,d$:()=>S,$7:()=>O,lP:()=>s,fm:()=>A,dU:()=>k,gw:()=>j,U1:()=>C,bf:()=>P,HL:()=>f,Wb:()=>y,M9:()=>p,Bg:()=>d,TB:()=>h});r(92222),r(23157),r(47042);function n(e){return function(t){return e+t}}function o(e){return function(t){return"string"==typeof t&&t.startsWith(e)}}function a(e){var t=e.length;return function(r){if(r&&r.slice(0,t)===e)return r.slice(t)}}var i=n("area$"),c=n("beacon$"),l=n("dock$"),u=n("feature$"),s=n("home$"),f=n("land$"),p=n("origin$"),d=n("planned$"),h=n("uav$"),y=n("mission$"),m=a("area$"),v=a("beacon$"),g=a("dock$"),b=a("feature$"),w=a("home$"),E=a("land$"),S=a("origin$"),O=(a("planned$"),a("uav$")),x=a("mission$"),A=o("area$"),k=(o("beacon$"),o("dock$")),j=o("feature$"),C=(o("home$"),o("land$"),o("origin$")),P=(o("planned$"),o("uav$")),I=(o("mission$"),"map"),T="mission",L="convexHull"},53464:(e,t,r)=>{"use strict";r.d(t,{Bl:()=>F,DT:()=>R,F5:()=>O,Ii:()=>Z,OH:()=>k,S2:()=>T,_K:()=>M,gc:()=>_,kP:()=>j,lB:()=>P,og:()=>x,om:()=>I,qc:()=>U,xA:()=>L,xs:()=>N,yd:()=>A,zi:()=>D});r(57327),r(41539);var n,o=r(68652),a=r(43402),i=r(67294),c=r(71200),l=r(70329),u=r(2215),s=r(29509),f=r(99476),p=r(15999),d=r(82369),h=r(24849),y=r(18362),m=r(38943),v=r(12595),g=r(70179),b=r(52303),w=r(34714),E=r(78094);function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O={BASE:"base",BEACONS:"beacons",DOCKS:"docks",FEATURES:"features",GEOJSON:"geojson",GRATICULE:"graticule",HEATMAP:"heatmap",HEXGRID:"hexgrid",IMAGE:"image",MISSION_INFO:"home",OWN_LOCATION:"ownLocation",TILE_SERVER:"tileServer",UAVS:"uavs",UAV_TRACE:"uavTrace",UNAVAILABLE:"unavailable",UNTYPED:"untyped"},x=[O.BASE,O.TILE_SERVER,O.GRATICULE,O.FEATURES,O.IMAGE,O.UAVS,O.BEACONS,O.DOCKS,O.UAV_TRACE,O.MISSION_INFO,O.OWN_LOCATION,O.GEOJSON,O.HEATMAP],A=[O.IMAGE],k={WMS:"wms",XYZ:"xyz",TILE_CACHE:"tileCache"},j=[k.WMS,k.XYZ,k.TILE_CACHE],C=(S(n={},O.BASE,{label:"Base layer",icon:i.createElement(v.Z,null),parameters:{source:"osm"}}),S(n,O.BEACONS,{label:"Beacons",icon:i.createElement(E.Z,null),parameters:{}}),S(n,O.DOCKS,{label:"Docking stations",icon:i.createElement(f.Z,null),parameters:{}}),S(n,O.FEATURES,{label:"Features",icon:i.createElement(m.Z,null),parameters:{}}),S(n,O.GEOJSON,{label:"GeoJSON layer",icon:i.createElement(l.Z,null),parameters:{data:{},strokeColor:{r:85,g:85,b:225,alpha:1},strokeWidth:2,fillColor:{r:170,g:170,b:225,alpha:.5}},multiple:!0}),S(n,O.GRATICULE,{label:"Graticule",icon:i.createElement(p.Z,null),parameters:{strokeColor:{r:0,g:0,b:0,alpha:.2},strokeWidth:1}}),S(n,O.HEATMAP,{label:"Heatmap",icon:i.createElement(w.Z,null),parameters:{subscriptions:[],minHue:100,maxHue:0,threshold:0,coloringFunction:"linear",minValue:0,maxValue:0,autoScale:!0,maxPoints:1e3,unit:"",minDistance:5,snapToGrid:!1}}),S(n,O.IMAGE,{label:"Image",icon:i.createElement(h.Z,null),parameters:{image:{data:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmZmYiLz4KPHBhdGggZD0ibTAgMCAxMDAgMTAwIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMXB4Ii8+CjxwYXRoIGQ9Ik0gMCwxMDAgMTAwLDAiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxcHgiLz4KPC9zdmc+Cg==",name:"",dimensions:{}},transform:{position:void 0,angle:0,scale:1}},multiple:!0}),S(n,O.HEXGRID,{label:"Hex grid layer",icon:i.createElement(p.Z,null),parameters:{center:[19.061951,47.47334],size:8,radius:5e-4}}),S(n,O.MISSION_INFO,{label:"Mission info",icon:i.createElement(y.Z,null),parameters:{showConvexHull:!0,showOrigin:!0,showHomePositions:!0,showLandingPositions:!1,showTrajectoriesOfSelection:!0}}),S(n,O.OWN_LOCATION,{label:"Own location",icon:i.createElement(g.Z,null),parameters:{showAccuracy:!0,showOrientation:!0}}),S(n,O.TILE_SERVER,{label:"Tile server",icon:i.createElement(u.Z,null),parameters:{type:k.WMS,url:"http://ows.mundialis.de/services/service",layers:"TOPO-OSM-WMS"},multiple:!0}),S(n,O.UAVS,{label:"UAVs",icon:i.createElement(s.Z,null),parameters:{}}),S(n,O.UAV_TRACE,{label:"UAV trace",icon:i.createElement(b.Z,null),parameters:{trailLength:10,trailWidth:2,trailColor:{r:0,g:0,b:0,a:1}}}),S(n,O.UNAVAILABLE,{label:"Unavailable layer",icon:i.createElement(c.Z,null)}),S(n,O.UNTYPED,{label:"Untyped layer",icon:i.createElement(d.Z,null)}),n);function P(e,t,r,n){var o=t||O.UNTYPED;return{id:e,type:o,label:r,visible:o!==O.UNTYPED,parameters:n||T(o)}}function I(e){return C[e].multiple}function T(e){var t=C[e],r=(0,a.Z)(t,"parameters")?t.parameters:{};return(0,o.default)(r)}function L(e){return e.getLayers().getArray().filter(N).filter(D)}function _(e){return C[e].icon}function Z(e){return e&&e.getVisible()&&e.get("triggersTooltip")}function N(e){return e&&e.getVisible()&&e.get("selectable")}function D(e){return e&&(!(0,a.Z)(e,"visible")||Boolean(e.visible))}function R(e){return C[e].label}function F(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.set("editable",t)}function M(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.set("selectable",t)}function U(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.set("triggersTooltip",t)}},66933:(e,t,r)=>{"use strict";r.d(t,{VR:()=>S,aY:()=>O,cu:()=>x});r(21249),r(47042),r(41539),r(54747),r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(91038),r(68309),r(74916),r(77601);var n=r(79697),o=r(27601),a=r(63790),i=r(97973),c=r(84042),l=r(28465),u=r(59068),s=r(94183),f=r(7371),p=r(1566),d=r(64209),h=r(96354);function y(e,t){return E(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||b(e,t)||g()}function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function v(e){return E(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){if(Array.isArray(e))return e}function S(e){if((0,o.default)(e))return!1;var t=e.getId();return(0,h.gw)(t)||(0,h.fm)(t)||(0,h.U1)(t)}function O(e){var t=e.getGeometry(),r=t.getType(),n=t.getCoordinates();switch(r){case"Point":return[{type:d.Te.POINTS,filled:!1,points:[(0,f.T$)(n)]}];case"Circle":var o=t.getCenter();return[{type:d.Te.CIRCLE,points:[(0,f.T$)(o),(0,f.T$)([o[0]+t.getRadius(),o[1]])]}];case"LineString":return[{type:d.Te.LINE_STRING,filled:!1,points:n.map((0,a.Z)(f.T$))}];case"Polygon":var c=v(n.map((function(e){return e.map((0,a.Z)(f.T$)).slice(0,-1)}))),l=c[0],u=c.slice(1).reduce((function(e,t){return(0,i.Z)(e,{type:"Feature",geometry:{type:"Polygon",coordinates:[t]}})}),{type:"Feature",geometry:{type:"Polygon",coordinates:[l]}});switch(u.geometry.type){case"Polygon":var s=v(u.geometry.coordinates),p=s[0],h=s.slice(1);return[{type:d.Te.POLYGON,points:p,holes:h}];case"MultiPolygon":return u.geometry.coordinates.map((function(e){var t=v(e),r=t[0],n=t.slice(1);return{type:d.Te.POLYGON,points:r,holes:n}}));default:throw new Error("Unexpected geometry type: ".concat({}.geometry.type))}default:throw new Error("Unsupported feature geometry type: "+r)}}function x(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.event,i=o.type,f={},d=m(e);try{var g=function(){var e=r.value,n=e.getId(),o=(0,h.K$)(n);if(o){var u=v(O(e)),d=u[0],m=u.slice(1);return f[o]=d,m.forEach((function(e){t((0,l.eq)(o,e))})),"continue"}var g=(0,h.d$)(n);if(g){if(g===h.R||g===h.R+"$y"){var b=y(O(e),1)[0],w=g===h.R+"$y",E=e.getGeometry().getCoordinates(),S=b.points[0],x=90-(0,p.Ux)(Math.atan2(E[1][1]-E[0][1],E[1][0]-E[0][0]));w&&(x+=90),t((0,c.KH)({position:S,angle:x}))}return"continue"}(0,h.ZA)(n)===h.Y9&&"transform"===i&&("move"===a.subType&&a.delta?t((0,s.Hk)(a.delta)):"rotate"===a.subType&&a.angleDelta&&a.origin&&t((0,s.OA)((0,p.Ux)(-a.angleDelta),a.origin)))};for(d.s();!(r=d.n()).done;)g()}catch(e){d.e(e)}finally{d.f()}(0,n.Z)(f)||t((0,u.TO)(f))}},84038:(e,t,r)=>{"use strict";var n,o,a,i;function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{KZ:()=>v,ON:()=>h,bU:()=>f,mY:()=>p,nN:()=>l,ol:()=>y});var l={AMSL:"amsl",AHL:"ahl",AGL:"agl",XYZ:"xyz"},u=(c(n={},l.AMSL,"Altitude above mean sea level"),c(n,l.AHL,"Altitude above home level"),c(n,l.AGL,"Altitude above ground level"),c(n,l.XYZ,"Altitude in local coordinate system"),n),s=(c(o={},l.AMSL,"AMSL"),c(o,l.AHL,"AHL"),c(o,l.AGL,"AGL"),c(o,l.XYZ,"Z coordinate"),o),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.short;return(r?s:u)[e]||"Unknown altitude type"},p={DEGREES:"d",DEGREES_MINUTES:"dm",DEGREES_MINUTES_SECONDS:"dms",SIGNED_DEGREES:"-d",SIGNED_DEGREES_MINUTES:"-dm",SIGNED_DEGREES_MINUTES_SECONDS:"-dms"},d=(c(a={},p.DEGREES,"Decimal degrees"),c(a,p.DEGREES_MINUTES,"Degrees and minutes"),c(a,p.DEGREES_MINUTES_SECONDS,"Degrees, minutes and seconds"),c(a,p.SIGNED_DEGREES,"Decimal degrees (signed)"),c(a,p.SIGNED_DEGREES_MINUTES,"Degrees and minutes (signed)"),c(a,p.SIGNED_DEGREES_MINUTES_SECONDS,"Degrees, minutes and seconds (signed)"),a),h=function(e){return d[e]||"Unknown format"},y={VOLTAGE:"voltage",PERCENTAGE:"percentage",FORCED_PERCENTAGE:"forcedPercentage"},m=(c(i={},y.VOLTAGE,"Prefer voltage"),c(i,y.PERCENTAGE,"Prefer percentage and show voltage if unknown"),c(i,y.FORCED_PERCENTAGE,"Prefer percentage and estimate it from voltage if needed"),i),v=function(e){return m[e]||"Unknown style"}},18636:(e,t,r)=>{"use strict";r.d(t,{$O:()=>f,Jl:()=>p,Vl:()=>y,rn:()=>h,wu:()=>d});r(43371);var n,o,a=r(27601),i=r(90783),c=r(34156),l=r.n(c),u=r(76206);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=Object.freeze({DEFAULT:"default",STATUS:"status",FLIGHT_MODE:"flightMode",BATTERY:"battery",GPS_FIX:"gpsFix",ALTITUDE_MSL:"amsl",ALTITUDE_HOME:"ahl",ALTITUDE_GROUND:"agl",HEADING:"heading"}),p=[f.DEFAULT,f.STATUS,f.FLIGHT_MODE,f.BATTERY,f.GPS_FIX,f.ALTITUDE_MSL,f.ALTITUDE_HOME,f.ALTITUDE_GROUND,f.HEADING],d=(s(n={},f.DEFAULT,"Default"),s(n,f.STATUS,"Status"),s(n,f.FLIGHT_MODE,"Flight mode"),s(n,f.BATTERY,"Battery"),s(n,f.GPS_FIX,"GPS fix"),s(n,f.ALTITUDE_MSL,"Altitude (MSL)"),s(n,f.ALTITUDE_HOME,"Altitude above home"),s(n,f.ALTITUDE_GROUND,"Altitude above ground"),s(n,f.HEADING,"Heading"),n),h=(s(o={},f.DEFAULT,"Default"),s(o,f.STATUS,"Status"),s(o,f.FLIGHT_MODE,"Mode"),s(o,f.BATTERY,"Battery"),s(o,f.GPS_FIX,"GPS fix"),s(o,f.ALTITUDE_MSL,"AMSL"),s(o,f.ALTITUDE_HOME,"AHL"),s(o,f.ALTITUDE_GROUND,"AGL"),s(o,f.HEADING,"Heading"),o),y=l()((function(e){switch(e){case f.STATUS:return function(e){return Array.isArray(null==e?void 0:e.errors)&&e.errors.length>0?(0,i.Z)(e.errors):0};case f.FLIGHT_MODE:return function(e){return(null==e?void 0:e.mode)||""};case f.BATTERY:return function(e){if((0,a.default)(e))return-1e4;var t=e.battery;return(0,a.default)(t.percentage)?(0,a.default)(t.voltage)?-1e4:t.voltage:t.percentage>=0?t.percentage+1e4:-1e4};case f.GPS_FIX:return function(e){if((0,a.default)(e))return-1e4;var t=(null==e?void 0:e.gpsFix)||{},r=t.type,n=void 0===r?u.lP.NO_FIX:r,o=t.numSatellites,i=void 0===o?0:o;return 100*Math.max(n,0)+Math.max(i,0)};case f.ALTITUDE_MSL:return function(e){var t,r=null==e||null===(t=e.position)||void 0===t?void 0:t.amsl;return(0,a.default)(r)?-1e4:r};case f.ALTITUDE_HOME:return function(e){var t,r=null==e||null===(t=e.position)||void 0===t?void 0:t.ahl;return(0,a.default)(r)?-1e4:r};case f.ALTITUDE_GROUND:return function(e){var t,r=null==e||null===(t=e.position)||void 0===t?void 0:t.agl;return(0,a.default)(r)?-1e4:r};case f.HEADING:return function(e){var t=null==e?void 0:e.heading;return(0,a.default)(t)?720:t};case f.DEFAULT:default:return}}))},65343:(e,t,r)=>{"use strict";function n(e){return(255&e)>=128}function o(e){return(255&e)>=64}r.d(t,{L:()=>n,Y:()=>o})},31467:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y,y:()=>h});r(40561),r(92222),r(9494),r(9653),r(66992),r(39575),r(41539),r(82472),r(48675),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(37380),r(1118),r(32846),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(55021),r(12974),r(15016),r(18264),r(79841),r(69600),r(21249),r(94953),r(82526),r(41817),r(32165),r(78783),r(33948),r(91038),r(47042),r(68309),r(74916),r(77601),r(47941),r(57327),r(38880),r(54747),r(49337);var n=r(52300),o=r(50576),a=r(27601),i=r(96446),c=r(76206);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={ACTIVE:"active",INACTIVE:"inactive",GONE:"gone",FORGOTTEN:"forgotten"},y=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"handleUAVStatusInfo",(function(e){var t,n,i=e.timestamp,l=e.position,u=e.positionXYZ,f=e.heading,p=e.mode,d=e.gps,h=e.errors,y=e.battery,m=e.light,v=e.debug,g=!1;(i&&(r.lastUpdated=i,g=!0),l&&(r._position.lat=l[0]/1e7,r._position.lon=l[1]/1e7,(0,a.default)(l[2])||(r._position.amsl=l[2]/1e3),(0,a.default)(l[3])||(r._position.ahl=l[3]/1e3),(0,a.default)(l[4])||(r._position.agl=l[4]/1e3),g=!0),u&&Array.isArray(u)&&u.length>=3&&(r.localPosition[0]=u[0]/1e3,r.localPosition[1]=u[1]/1e3,r.localPosition[2]=u[2]/1e3,g=!0),void 0!==f&&r._rawHeading!==f&&(r._rawHeading=f,r.heading=f/10,g=!0),void 0!==m&&r.light!==m&&(r.light=m,g=!0),void 0!==p&&r.mode!==p&&(r.mode=p,g=!0),void 0!==d&&Array.isArray(d)&&(r.gpsFix.type=d.length>0?d[0]:c.lP.NO_GPS,r.gpsFix.numSatellites=d.length>1&&"number"==typeof d[1]?d[1]:void 0,r.gpsFix.horizontalAccuracy="number"==typeof d[2]?d[2]/1e3:void 0,r.gpsFix.verticalAccuracy="number"==typeof d[3]?d[3]/1e3:void 0,g=!0),void 0!==v&&r._debug!==v&&(r._debug=v,r._debugAsByteArray=void 0,r._debugString=void 0,g=!0),t=Array.isArray(h)?h:h?[h]:[],(0,o.default)(r._errors,t))||((n=r._errors).splice.apply(n,[0,r._errors.length].concat(s(t))),r._mostSevereError=Math.max.apply(Math,[0].concat(s(r._errors))),g=!0);if(Array.isArray(y)){var b,w;y.length>0&&(b=(0,a.default)(y[0])?null:Number.parseInt(y[0],10),y.length>1&&(w=(0,a.default)(y[1])?null:Number.parseInt(y[1],10)));var E=y.length>2&&Boolean(y[2]);w!==y.percentage&&(r.battery.percentage=w,g=!0),b!==r._rawVoltage&&(r._rawVoltage=y.voltage,r.battery.voltage=(0,a.default)(b)?null:b/10,g=!0),E!==r.battery.charging&&(r.battery.charging=E,g=!0)}return g})),this._debug=void 0,this._debugAsByteArray=void 0,this._debugString=void 0,this._id=t,this._errors=[],this._mostSevereError=0,this._position={lat:void 0,lon:void 0,amsl:void 0,ahl:void 0,agl:void 0},this._rawHeading=void 0,this._rawVoltage=void 0,this.battery={voltage:void 0,percentage:void 0},this.gpsFix={type:c.lP.NO_GPS,numSatellites:void 0},this.heading=void 0,this.lastUpdated=void 0,this.light=65535,this.localPosition=[void 0,void 0,void 0],this.mode=void 0}var t,r,l;return t=e,(r=[{key:"agl",get:function(){return this._position.agl}},{key:"ahl",get:function(){return this._position.ahl}},{key:"amsl",get:function(){return this._position.amsl}},{key:"debug",get:function(){if(void 0===this._debugAsByteArray&&void 0!==this._debug)try{var e=n.DS.atob(this._debug),t=e.length;this._debugAsByteArray=new Uint8Array(new ArrayBuffer(t));for(var r=0;r<t;r++)this._debugAsByteArray[r]=e.codePointAt(r)}catch(e){this._debugAsByteArray=new Uint8Array}return this._debugAsByteArray}},{key:"debugString",get:function(){if(void 0===this._debugString&&void 0!==this._debug){var e=this.debug;this._debugString=(0,i.Z)(e.length).map((function(t){return e[t]>=32&&e[t]<128?String.fromCodePoint(e[t]):"."})).join("")}return this._debugString}},{key:"error",get:function(){return this._errors&&this._errors.length>0?this._errors[0]:void 0}},{key:"errors",get:function(){return this._errors}},{key:"id",get:function(){return this._id}},{key:"lat",get:function(){return this._position.lat}},{key:"lon",get:function(){return this._position.lon}},{key:"mostSevereError",get:function(){return this._mostSevereError}},{key:"hasLocalPosition",get:function(){return!(0,a.default)(this.localPosition[0])}},{key:"toJSON",value:function(){var e=this._position.lat&&this._position.lon?u({},this._position):null,t=(0,a.default)(this.localPosition[0])?null:s(this.localPosition);return{id:this._id,age:this.age,battery:u({},this.battery),debugString:this.debugString,errors:s(this._errors),gpsFix:u({},this.gpsFix),heading:this.heading,lastUpdated:this.lastUpdated,light:this.light,mode:this.mode,localPosition:t,position:e}}}])&&p(t.prototype,r),l&&p(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}()},66875:(e,t,r)=>{"use strict";r.d(t,{EQ:()=>x,FV:()=>C,VE:()=>A,uR:()=>k,x6:()=>O});r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(47042),r(68309),r(91038),r(77601),r(74916),r(15306),r(73210);var n,o,a,i=r(11628),c=r.n(i),l=r(22222),u=r(84038),s=r(59269),f=r(7371),p=r(58744);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=/\.?0+([\xb0\u2032\u2033'"]?)$/,v=(0,f.Zy)({digits:2,unit:s.st}),g=(0,f.YX)({digits:2,unit:s.st}),b=(0,f.Zy)({digits:7,reverse:!0,separator:" ",unit:"\xb0"}),w=(d(n={},u.mY.DEGREES,(function(e){var t=h(e,2),r=t[0],n=t[1];return c()(r,n,!0).format("Xdd",{decimalPlaces:7})})),d(n,u.mY.DEGREES_MINUTES,(function(e){var t=h(e,2),r=t[0],n=t[1];return c()(r,n,!0).format("XDDmm",{decimalPlaces:4})})),d(n,u.mY.DEGREES_MINUTES_SECONDS,(function(e){var t=h(e,2),r=t[0],n=t[1];return c()(r,n,!0).format("XDDMMss",{decimalPlaces:3})})),d(n,u.mY.SIGNED_DEGREES,b),d(n,u.mY.SIGNED_DEGREES_MINUTES,(function(e){var t=h(e,2),r=t[0],n=t[1];return c()(r,n,!0).format("-DDmm",{decimalPlaces:4})})),d(n,u.mY.SIGNED_DEGREES_MINUTES_SECONDS,(function(e){var t=h(e,2),r=t[0],n=t[1];return c()(r,n,!0).format("-DDMMss",{decimalPlaces:3})})),n),E=(d(o={},u.mY.DEGREES,(function(e){return c()(e,0,!0).format("Xdd",{decimalPlaces:7,latLonSeparator:"|"}).split("|")[1].replace(m,"$1")})),d(o,u.mY.DEGREES_MINUTES,(function(e){return c()(e,0,!0).format("XDDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[1].replace(m,"$1")})),d(o,u.mY.DEGREES_MINUTES_SECONDS,(function(e){return c()(e,0,!0).format("XDDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[1].replace(m,"$1")})),d(o,u.mY.SIGNED_DEGREES,(function(e){return b([e,0]).split(" ")[1].replace(m,"$1")})),d(o,u.mY.SIGNED_DEGREES_MINUTES,(function(e){return c()(e,0,!0).format("-DDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[1].replace(m,"$1")})),d(o,u.mY.SIGNED_DEGREES_MINUTES_SECONDS,(function(e){return c()(e,0,!0).format("-DDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[1].replace(m,"$1")})),o),S=(d(a={},u.mY.DEGREES,(function(e){return c()(0,e,!0).format("Xdd",{decimalPlaces:7,latLonSeparator:"|"}).split("|")[0].replace(m,"$1")})),d(a,u.mY.DEGREES_MINUTES,(function(e){return c()(0,e,!0).format("XDDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[0].replace(m,"$1")})),d(a,u.mY.DEGREES_MINUTES_SECONDS,(function(e){return c()(0,e,!0).format("XDDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[0].replace(m,"$1")})),d(a,u.mY.SIGNED_DEGREES,(function(e){return b([0,e]).split(" ")[0].trim().replace(m,"$1")})),d(a,u.mY.SIGNED_DEGREES_MINUTES,(function(e){return c()(0,e,!0).format("-DDmm",{decimalPlaces:4,latLonSeparator:"|"}).split("|")[0].replace(m,"$1")})),d(a,u.mY.SIGNED_DEGREES_MINUTES_SECONDS,(function(e){return c()(0,e,!0).format("-DDMMss",{decimalPlaces:3,latLonSeparator:"|"}).split("|")[0].replace(m,"$1")})),a),O=function(e){return e.settings.display.coordinateFormat},x=(0,l.createSelector)(O,(function(e){return w[e]||b})),A=(0,l.createSelector)(O,(function(e){return S[e]||S[u.mY.SIGNED_DEGREES]})),k=(0,l.createSelector)(O,(function(e){return E[e]||E[u.mY.SIGNED_DEGREES]})),j=((0,l.createSelector)(p.C3,(function(e){if(void 0!==e)return function(t){return v(e.fromLonLat(t))}})),(0,l.createSelector)(p.C3,(function(e){if(void 0!==e)return function(t){return g((0,f.Jc)(e.fromLonLat(t)))}})),(0,l.createSelector)(p.C3,(function(e){if(void 0!==e)return function(t){var r=e.fromLonLat(t);return v(r)+"<br/>"+g((0,f.Jc)(r))}}))),C=(0,l.createSelector)(x,j,(function(e,t){return function(r){var n=e(r);return void 0===t?n:n+"<br/>"+t(r)}}))},6492:(e,t,r)=>{"use strict";r.d(t,{WB:()=>l,g7:()=>u,xb:()=>c});r(21249),r(26699),r(32023);var n=r(48392),o=r(22222),a=r(39872),i=r(53464),c=function(e){return e.map.layers},l=(0,o.createSelector)(c,a.Mb,a.Gd,(function(e,t,r){var o=e.order,a=e.byId;return{order:o,byId:t?(0,n.Z)(a,(function(e){return i.yd.includes(e.type)&&!r?{id:e.id,type:i.F5.UNAVAILABLE,label:e.label}:e})):a}})),u=function(e){return(0,o.createSelector)(l,(function(t){return t.byId[e]}))}},58744:(e,t,r)=>{"use strict";r.d(t,{C3:()=>a,HK:()=>u,H_:()=>s,VM:()=>c,Xq:()=>l,zn:()=>i});r(21249),r(61874),r(9653);var n=r(22222),o=r(7371),a=(0,n.createSelector)((function(e){return e.map.origin}),(function(e){return e.position?new o.kb({origin:e.position,orientation:e.angle,type:e.type}):void 0})),i=function(e){return e.map.view.position},c=(0,n.createSelector)((function(e){return e.map.view.angle}),Number.parseFloat),l=(0,n.createSelector)((function(e){return e.map.origin.angle}),Number.parseFloat),u=function(e){return"neu"===e.map.origin.type},s=function(e){return Array.isArray(e.map.origin.position)}},41437:(e,t,r)=>{"use strict";r.d(t,{MT:()=>c,Yo:()=>u,sk:()=>s,us:()=>l});r(47042),r(57327),r(41539);var n=r(22222),o=r(53464),a=r(45150),i=r(6492),c=(0,n.createSelector)((function(e){return e.connections}),a.vA),l=(0,n.createSelector)(i.WB,a.vA),u=(0,n.createSelector)(l,(function(e){return e.slice().reverse()})),s=(0,n.createSelector)(l,(function(e){return e.filter(o.zi)}))},97594:(e,t,r)=>{"use strict";r.d(t,{Mf:()=>l,VL:()=>u,sw:()=>s,xl:()=>p});r(21249),r(26699),r(32023);var n=r(27601),o=r(91238),a=r(78714),i=r(22222),c=r(96354),l=function(e){return e.map.selection},u=function(e){return(0,i.createSelector)(l,(function(t){return t.includes(e)}))},s=function(e){return(0,i.createSelector)(l,(function(t){return(0,o.default)(t.map(e),n.default)}))},f=new a.default([],{unique:!0}),p=((0,i.createSelector)(l,(function(e){return f.clear(),f.extend(e),f})),s(c.d$))},31507:(e,t,r)=>{"use strict";r.d(t,{Kc:()=>w,P7:()=>b,ji:()=>y,lq:()=>v,q4:()=>d,rn:()=>m,zx:()=>h});r(47941),r(82526),r(57327),r(41539),r(38880),r(54747),r(49337),r(47042),r(21249),r(35192),r(9653),r(56977);var n=r(82940),o=r.n(n),a=r(28641),i=r(7371),c=["margin"],l=["rotation","zoom"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var d=new(o()),h=new(o()),y=new(o()),m=new(o()),v=new(o());function g(e){return Array.isArray(e)&&e.length>=2?e.slice(0,2):[e.lon,e.lat]}function b(e,t){var r=s({margin:16,duration:500},t),n=r.margin,o=p(r,c),l=(0,a.hI)(e.map((function(e){return(0,i.Gv)(g(e))}))),u=n&&n>0?(0,a.f3)(l,n):l;v.dispatch(u,o)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.rotation,n=t.zoom,o=p(t,l),a=s({duration:500},o),i=g(e);if(Array.isArray(i)&&i.length>=2){var c={center:{lon:i[0],lat:i[1]}};Number.isFinite(r)&&(c.rotation=Number(r).toFixed(1)),Number.isFinite(n)&&(c.zoom=Number(n).toFixed(1)),m.dispatch(c,a)}}},54247:(e,t,r)=>{"use strict";r.d(t,{iG:()=>ct,ZP:()=>st,Dj:()=>ot,sq:()=>tt,t6:()=>ut});r(66992),r(41539),r(78783),r(33948),r(60285),r(41637),r(92222),r(47941),r(82526),r(57327),r(38880),r(54747),r(49337),r(88674),r(41817),r(32165),r(72443),r(39341),r(73706),r(10408),r(30489),r(68309),r(68304),r(47042);var n=r(24268),o=r(97779),a=r(4698),i=r(34716),c=r(69483),l=r.n(c),u=r(20315),s=r(73234),f=r(63931),p=r.n(f),d=r(51129),h=r(5068),y=r(30797),m=r(72042),v=r(38551),g=r(97619),b=r(39872),w=r(50901),E=r(39720),S=r(20697),O=r(78406),x=r(14077),A=r(39928),k=r(98696),j=r(97295),C=r(90645),P=r(48600),I=r(62154),T=r(15968),L=r(56131),_=r(21995),Z=r(34969),N=r(86911),D=r(75423),R=r(9469),F=r(16050),M=r(32655),U=r(76527),G=r(45150),V=(0,n.oM)({name:"datasets",initialState:{byId:{},order:[]},reducers:{removeDatasets:function(e,t){return(0,G.DD)(e,t.payload)}}}),B=V.actions,W=V.reducer;B.removeDatasets;const z=W;var H=r(82046),q=r(13277),Y=r(39780),$=r(20453),K=r(69986),X=r(75453),Q=r(84035),J=r(88708),ee=r(8),te=r(84307),re=r(59068),ne=r(21257),oe=r(84042),ae=r(36602),ie=r(34543),ce=r(93846);const le=(0,o.UY)({layers:ne.ZP,origin:oe.ZP,selection:ae.ZP,tools:ie.ZP,view:ce.Z});var ue=r(53680),se=r(93606),fe=r(27178),pe=r(55702),de=r(39581),he=r(32726),ye=r(97948),me=r(37665),ve=r(34055),ge=r(77646),be=r(51974),we=r(60942),Ee=r(40322),Se=r(84925),Oe=r(11188),xe=r(72237),Ae=(0,o.UY)({appSettings:A.Z,authentication:k.Z,deauthentication:j.Z,dockDetails:C.ZP,error:P.Z,featureEditor:I.Z,geofenceSettings:T.ZP,layerSettings:L.ZP,prompt:_.Z,savedLocationEditor:Z.Z,serverSettings:N.ZP,uavDetails:D.ZP});const ke=(0,o.UY)({alert:R.ZP,beacons:F.ZP,clocks:M.ZP,connections:U.ZP,datasets:z,detachablePanels:H.ZP,dialogs:Ae,docks:q.ZP,features:re.ZP,fieldNotes:Y.Z,hotkeys:$.ZP,lcdClock:K.ZP,licenseInfo:Q.ZP,lightControl:J.ZP,localServer:X.ZP,log:ee.ZP,map:le,mapCaching:te.ZP,measurement:g.ZP,messages:ue.ZP,mission:se.ZP,parameters:fe.ZP,preflight:pe.ZP,rtk:w.ZP,savedLocations:de.Z,servers:he.ZP,session:ye.ZP,settings:me.ZP,show:S.ZP,sidebar:ve.Z,snackbar:ge.Z,threeD:be.ZP,tour:we.ZP,uavs:O.ZP,uavControl:Se.ZP,upload:Ee.ZP,versionCheck:Oe.ZP,weather:xe.ZP,workbench:x.ZP});var je=r(12902),Ce=r(27638);function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Le={2:(0,je.ZP)((function(e){e.settings.uavs=Ie(Ie({},e.settings.uavs),{},{defaultBatteryCellCount:Ce.uV,fullChargeVoltage:Ce.yj,lowVoltageThreshold:Ce.jO,criticalVoltageThreshold:Ce.YI})}))};const _e=(0,m.createMigrate)(Le);var Ze=r(43402),Ne=r(77186),De=r(1190);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ge(e){return function(){var t=e.apply(void 0,arguments);return"number"==typeof a.Z.session.maxLengthInSeconds&&a.Z.session.maxLengthInSeconds>0&&(t=Me(Me({},t),{},{session:Me(Me({},t.session),{},{expiresAt:Date.now()+1e3*a.Z.session.maxLengthInSeconds})})),t}}var Ve=Ge((function(e,t,r){for(var n=function(e){return e&&(0,Ze.Z)(e,"byId")},o=function(e){return null!==e&&"object"===Re(e)&&!Array.isArray(e)},a=function e(t,r){for(var a=(0,Ne.Z)(r,(function(e,r){return!n(t[r])})),i=0,c=Object.keys(a);i<c.length;i++){var l=c[i];o(a[l])&&(0,Ze.Z)(t,l)&&(a[l]=e(t[l],a[l]))}return a},i=arguments.length,c=new Array(i>3?i-3:0),l=3;l<i;l++)c[l-3]=arguments[l];if(e&&"object"===Re(e)){var u=a(e,r);return De.Z.apply(void 0,[e,u,u].concat(c))}return De.Z.apply(void 0,[e,t,r].concat(c))})),Be=Ge((function(e,t,r){return r})),We=r(48392),ze=r(20050),He=r.n(ze);function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Ye(){Ye=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==qe(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function $e(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ke(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){$e(a,n,o,i,c,"next",e)}function c(e){$e(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Xe={key:"flockwave-client",storage:window.bridge?window.bridge.createStateStore():l(),version:2,migrate:_e,stateReconciler:Ve,blacklist:["alert","beacons","clocks","connections","datasets","detachablePanels","docks","localServer","log","messages","rtk","servers","session","snackbar","uavs","weather"],throttle:1e3,transforms:[(0,v.cj)("dialogs",["appSettings","featureEditor","layerSettings","messages","savedLocationEditor","serverSettings"]),(0,v.sQ)("hotkeys",["pendingUAVId"]),(0,v.cj)("licenseInfo",["dialog"]),(0,v.sQ)("mission",["homePositions","landingPositions","takeoffHeadings"]),(0,v.sQ)("preflight",["checked"]),(0,v.cj)("show",["environment"]),(0,v.cj)("upload",["settings"]),(0,v.sQ)("threeD",["camera","tooltip","sceneId"])]},Qe=new URL(window.location.href);(a.Z.ephemeral||Qe.searchParams&&Qe.searchParams.get("pristine"))&&(Xe.stateReconciler=Be);var Je=(0,d.Z)({simple:300}),et=(0,h.wv)({promiseTypeDelimiter:"Promise",promiseTypeSuffixes:["Pending","Fulfilled","Rejected"]}),tt=(0,y.ZP)(),rt=(0,n.xC)({reducer:(0,m.persistReducer)(Xe,ke),middleware:function(e){return e({immutableCheck:!1,serializableCheck:{isSerializable:function(e){return(0,n.yd)(e)||(0,s.default)(e)||(0,i.Z)(e)||(0,u.Z)(e)},ignoredActions:[String(S.gk),String(x.Eh)],ignoredPaths:["show.data","workbench"]}}).concat(Je,et,tt)},devTools:!1}),nt=p()(),ot=(0,m.persistStore)(rt,null,nt.resolve);function at(){return it.apply(this,arguments)}function it(){return(it=Ke(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ot.purge());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(){return lt.apply(this,arguments)}function lt(){return(lt=Ke(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure? All settings will be lost.")){e.next=4;break}return e.next=3,at();case 3:window.location.reload();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ut=function(){return nt.promise};window.bridge&&(window.bridge.provideActions((0,o.DE)({showAppSettingsDialog:E.jZ},rt.dispatch)),window.bridge.provideSubscriptions(function(e,t){return(0,We.Z)(e,(function(e){return function(r){return t.subscribe(He()((function(){return e(t.getState())}))(r))}}))}({shouldPreventSleepMode:b.Mb},rt)));const st=rt},8774:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n});r(66992),r(41539),r(78783),r(33948),r(60285),r(41637);function n(){var e=new URL(window.location.href);return e.searchParams?e.searchParams.get("token"):void 0}},45150:(e,t,r)=>{"use strict";r.d(t,{$U:()=>I,DD:()=>W,DY:()=>M,HP:()=>q,OA:()=>z,TT:()=>F,U9:()=>G,W7:()=>K,Wf:()=>Y,iW:()=>U,lQ:()=>$,m9:()=>R,v7:()=>V,vA:()=>H,wg:()=>D,zD:()=>B});r(68309),r(68304),r(30489),r(47941),r(40561),r(92222),r(26833),r(21249),r(41539),r(39714),r(81299),r(12419),r(66992),r(51532),r(78783),r(33948),r(82526),r(57327),r(38880),r(54747),r(49337),r(47042),r(91038),r(74916),r(77601),r(41817),r(32165);var n=r(43402),o=r(27601),a=r(37514),i=r(80770),c=r(89214),l=r(6128),u=r(60673),s=r(91238),f=r(82196),p=r(699),d=r(97215);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function A(e){var t="function"==typeof Map?new Map:void 0;return A=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return k(e,arguments,P(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,e)},A(e)}function k(e,t,r){return k=j()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&C(o,r.prototype),o},k.apply(null,arguments)}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var I="@@newItem",T=function(e){return e&&void 0!==e.id&&null!==e.id&&""!==e.id&&e.id!==I},L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(c,e);var t,r,n,o,a,i=(t=c,r=j(),function(){var e,n=P(t);if(r){var o=P(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return x(this,e)});function c(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"An item with the same ID already exists";return O(this,c),(t=i.call(this,r)).name="ItemExistsError",t.id=e,t}return n=c,o&&S(n.prototype,o),a&&S(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n}(A(Error)),_=function(e,t,r){var o=t&&t.id===I;(function(e,t){if(T(t)){if((0,n.Z)(e.byId,t.id))throw new L(t.id)}else{if(void 0===t.name)throw new Error("New item needs either an ID or a name");t.id=(0,p.j_)(t.name,Object.keys(e.byId))}})(e,t=w({},t)),e.byId[t.id]=t,r<0?e.order.splice(0,0,t.id):r>=e.order.length?e.order.push(t.id):e.order.splice(r,0,t.id),o&&delete e.byId[I]},Z=function(e,t,r){try{return _(e,t,r)}catch(e){}};function N(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";if("id"===r)return(0,l.Z)(e.order,t.id);var n="string"==typeof r?(0,i.Z)(r):r;return(0,u.Z)(e.order,t.id,(function(r){var o=e.byId[r];return n(void 0===o?t:o)}))}var D=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=N(e,t,r);return _(e,t,n)},R=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=N(e,t,r);return Z(e,t,n)},F=function(e,t){return _(e,t,e.order.length)},M=function(e,t){return _(e,t,0)},U=function(e){e.byId={},e.order=[]},G=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n=0,a={byId:{},order:[]},c="string"==typeof r?(0,i.Z)(r):r,l=m(e);try{for(l.s();!(t=l.n()).done;){var u=t.value,s=c(u);if((0,o.default)(s))throw new Error("Item at index ".concat(n," has no key"));if(void 0!==a.byId[s])throw new Error("Duplicate key: ".concat(s));a.byId[s]=u,a.order.push(s),n++}}catch(e){l.e(e)}finally{l.f()}return a},V=function(e,t){var r=I;!function(e,t){"function"==typeof e?e(t):(0,a.Z)(e)&&(e.id=t)}(t,r),e.byId[r]={id:r}},B=function(e,t){delete e.byId[t],(0,c.Z)(e.order,t)},W=function(e,t){var r,n=m(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;delete e.byId[o]}}catch(e){n.e(e)}finally{n.f()}c.Z.apply(void 0,[e.order].concat(y(t)))},z=function(e,t){var r,n=m(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(void 0!==e.byId[o])return W(e,t)}}catch(e){n.e(e)}finally{n.f()}},H=function(e){var t=e.byId,r=e.order;return void 0===r?Object.values(t):0===r.length?d.LZ:(0,s.default)(r.map((function(e){return t[e]})),o.default)},q=function(e,t){return w(w({},e),{},{order:t})},Y=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";T(t)&&e.byId[t.id]?e.byId[t.id]=w({},t):D(e,t,r)},$=function(e,t){T(t)&&e.byId[t.id]?e.byId[t.id]=w({},t):M(e,t)},K=function(e){e.order=(0,f.X)(e.order)}},65515:(e,t,r)=>{"use strict";r.d(t,{U6:()=>i,Vs:()=>c,jl:()=>l});var n,o=r(4698),a=r(27601),i=function(e){var t,r;return null===(t=null===o.Z||void 0===o.Z||null===(r=o.Z.features)||void 0===r?void 0:r[e])||void 0===t||t},c=!(0,a.default)(null===o.Z||void 0===o.Z||null===(n=o.Z.session)||void 0===n?void 0:n.maxLengthInSeconds),l=function(){var e=null===o.Z||void 0===o.Z?void 0:o.Z.perspectives;return e&&Array.isArray(e)&&e.length>0?e[0]:{inherits:"default"}}},43447:(e,t,r)=>{"use strict";r.d(t,{cP:()=>h,oH:()=>m,u5:()=>p});r(47941),r(82526),r(41817),r(32165),r(66992),r(78783),r(33948),r(72443),r(39341),r(73706),r(10408),r(30489),r(54747),r(68309),r(68304),r(47042),r(41539),r(88674);var n=r(93162);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var a=["maxSize"];function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new A(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=S(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var p={};function d(){}function h(){}function y(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,a)&&(m=g);var b=y.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,i,c,l){var u=f(e[a],e,i);if("throw"!==u.type){var s=u.arg,p=s.value;return p&&"object"==o(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,c,l)}),(function(e){n("throw",e,c,l)})):t.resolve(p).then((function(e){s.value=e,c(s)}),(function(e){return n("throw",e,c,l)}))}l(u.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return a=a?a.then(o,o):o()}}function S(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=y,u(b,"constructor",y),u(y,"constructor",h),h.displayName=u(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(b),u(b,l,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){l(a,n,o,i,c,"next",e)}function c(e){l(a,n,o,i,c,"throw",e)}i(void 0)}))}}function s(){return f.apply(this,arguments)}function f(){return f=u(i().mark((function e(){var t,r,n,o,l,u,s,f=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>0&&void 0!==f[0]?f[0]:{},n=r.maxSize,o=c(r,a),l=(null===(t=window)||void 0===t?void 0:t.bridge)||{},!(u=l.readBufferFromFile)){e.next=9;break}return e.next=5,u({maxSize:n,dialogOptions:o});case 5:return s=e.sent,e.abrupt("return",new Blob([s],{type:"application/octet-stream"}));case 9:throw new Error("Not supported in the browser");case 10:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=u(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:return r=e.sent,e.abrupt("return",r.text());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e,t){return y.apply(this,arguments)}function y(){return y=u(i().mark((function e(t,r){var o,a,c,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>2&&void 0!==u[2]?u[2]:{},c=(null===(o=window)||void 0===o?void 0:o.bridge)||{},!(l=c.writeBufferToFile)){e.next=12;break}return e.t0=l,e.next=6,t.arrayBuffer();case 6:return e.t1=e.sent,e.t2=r,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 12:return e.abrupt("return",(0,n.saveAs)(t,r));case 13:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function m(e,t,r){return h(new Blob([e],{type:"text/plain;charset=utf-8"}),t,r)}},59269:(e,t,r)=>{"use strict";r.d(t,{$G:()=>x,$s:()=>S,Bb:()=>g,Bq:()=>d,C_:()=>b,HP:()=>w,LU:()=>f,RS:()=>v,bc:()=>h,g:()=>p,hy:()=>s,st:()=>y,w5:()=>E,zu:()=>O});r(69600),r(21249),r(56977),r(92222),r(74916),r(77601),r(47042),r(44048),r(9653),r(41539),r(68309),r(91038),r(78783),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(79033),o=r(42227),a=r(27601);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return"(".concat(e.map((function(e){return e.toFixed(2)})).join(", "),")")}function f(e){e=Math.round(e);var t=Math.floor(e/60),r=String(Math.floor(e)%60);return r.length<2&&(r="0"+r),"".concat(t,":").concat(r)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<0)return"-"+p(-e,t);var r=t.padHours,n=t.precision,o=void 0===n?0:n;if((o=Math.max(Math.floor(o),0))>0){var a=Math.pow(10,o);e=Math.round(e*a)/a}var i=String(Math.floor(e/3600));r&&i.length<2&&(i="0"+i),e%=3600;var c=String(Math.floor(e/60));c.length<2&&(c="0"+c);var l=(e%=60).toFixed(o);return e<10&&(l="0"+l),"".concat(i,":").concat(c,":").concat(l)}function d(e){return"s".concat(e+1)}function h(e,t){return t<=e?"":t===e+1?d(e):"".concat(d(e),"\u2013").concat(t)}var y=[[1e3,"km"],[1,"m"],[.01,"cm"]],m=function(e,t){return e+(/^[a-zA-Z]/.test(t)?" ":"")+t},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(t)&&t.length>0){var n,o=c(t);try{for(o.s();!(n=o.n()).done;){var a=i(n.value,2),l=a[0],u=a[1];if(Math.abs(e)>=l)return m((e/l).toFixed(r),u)}}catch(e){o.e(e)}finally{o.f()}var s=i(t[t.length-1],2),f=s[0],p=s[1];return m(0===e?e:(e/f).toFixed(r),p)}return m(0===e?e:e.toFixed(r),t)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return v(e,y,t)};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.maxCount,n=void 0===r?8:r,o=t.separator,a=void 0===o?" \xb7 ":o,i=Array.isArray(e)?e.length:0;return 0===i?"":i>n?e.slice(0,n-1).join(a)+" and "+(i-n+1)+" more":e.join(a)}var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"\u2014";return(0,a.default)(e)||Number.isNaN(e)?n:"number"==typeof e?r?"".concat(e.toFixed(t)).concat(r):e.toFixed(t):e},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u2014";return(0,a.default)(e)||Number.isNaN(e)?t:(0,n.Z)((0,o.Z)(e))},S=function(e,t){return"month"===t?"".concat(e,"mo"):"second"===t&&e<1?"now":"".concat(e).concat(t.charAt(0))},O=function(e,t,r){var n=S(e,t,r);return"now"===n?n:"ago"===r?"".concat(n," ago"):"in ".concat(n)};function x(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.ellipsis,o=void 0===n?"\u2026":n;return(0,a.default)(e)?"":("string"!=typeof e&&(e=String(e)),e.length>t&&(e=e.slice(0,t)+o),e)}},7371:(e,t,r)=>{"use strict";r.d(t,{D1:()=>F,Gv:()=>H,Jc:()=>K,KL:()=>Y,LF:()=>Z,LW:()=>G,O_:()=>B,T$:()=>q,Tk:()=>I,U2:()=>_,WI:()=>L,Y3:()=>P,YX:()=>D,Zy:()=>N,fT:()=>V,ie:()=>W,kb:()=>$,nI:()=>T,vr:()=>R});r(21249),r(92222),r(56977),r(43371),r(61874),r(9653),r(44048),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(47042),r(68309),r(91038),r(74916),r(77601);var n=r(63198),o=r.n(n),a=r(16374),i=r(27601),c=r(17948),l=r(95883),u=r(63790),s=r(91900),f=r(28641),p=r(2033),d=r(25063),h=r(7403),y=r(92083),m=r(13958),v=r(35798),g=r(97580),b=r(64209),w=r(59269),E=r(1566);function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=k(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=r(88689).Ag?"@":"\u2220";function P(e,t){var r=(0,E.Yr)(t[0]-e[0]),n=(0,E.Yr)(e[1]),o=(0,E.Yr)(t[1]),a=Math.sin(r)*Math.cos(o),i=Math.cos(n)*Math.sin(o)-Math.sin(n)*Math.cos(o)*Math.cos(r);return(180*Math.atan2(a,i)/Math.PI+360)%360}function I(e,t){return(P(t,e)+180)%360}var T=function(e){return function(t,r){if(2!==t.length)throw new Error("must be called with two points only");var n="number"==typeof e?e:e(),o=A(t,2),a=o[0],i=o[1],c=[(a[0]+i[0])/2,(a[1]+i[1])/2],l=s.U1([a[0]-c[0],a[1]-c[1]],n),u=s.U1([i[0]-c[0],i[1]-c[1]],n),d=f.hI([l,u]),h=[f.hC(d),f.w$(d),f.Xv(d),f.rL(d),f.hC(d)].map((function(e){return s.IH(s.U1(e,-n),c)}));return r?(r.setCoordinates([h]),r):new p.default([h])}},L=function(e,t){for(var r=Math.min(e.length,t.length),n=0,o=0;o<r;o++)n+=Math.pow(e[o]-t[o],2);return Math.sqrt(n)},_=((0,a.Z)((function(e,t){return _(e,[t])[0]})),(0,a.Z)((function(e,t){var r=[];r.length=t.length;var n,o=x(e.getLayers().getArray());try{for(o.s();!(n=o.n()).done;){var a=n.value,i=a.getVisible()&&a.getSource?a.getSource():void 0;if(i)for(var c=r.length,l=0;l<c;l++)if(!r[l]){var u=i.getFeatureById?i.getFeatureById(t[l]):void 0;u&&(r[l]=u)}}}catch(e){o.e(e)}finally{o.f()}return r}))),Z=function e(t,r){if(t.intersectsCoordinate(r))return r;var n;if(t instanceof m.Z?n=t.getGeometries():t instanceof d.Z?n=t.getPolygons():t instanceof h.Z&&(n=t.getLineStrings()),void 0!==n){var o=n.map((function(t){return e(t,r)}));return(0,c.Z)(o,L.bind(null,r))}return t.getClosestPoint(r)},N=function(e){var t=e.digits,r=e.reverse,n=e.separator,o=void 0===n?", ":n,a=e.unit,i=r?[1,0]:[0,1];return function(e){return e?(0,w.RS)(e[i[0]],a,t)+o+(0,w.RS)(e[i[1]],a,t):""}},D=function(e){var t=e.digits,r=e.unit;return function(e){return e?(0,w.RS)(e[0],r,t)+" ".concat(C," ")+(0,w.RS)(e[1],"\xb0",t):""}},R=function(e){var t=1e3;switch(e.type){case b.Te.LINE_STRING:var r=(0,g.xA)(new y.default(e.points.map((0,u.Z)(H))));return r>1e4?"".concat((0,l.Z)(r/t,2)," km"):"".concat((0,l.Z)(r,2)," m");case b.Te.POLYGON:var n=(0,g.bg)(new p.default([e.points].concat(O(e.holes)).map((function(e){return e.map((0,u.Z)(H))}))));return n>1e6?"".concat((0,l.Z)(n/1e6,2)," km\xb2"):n>1e3?"".concat((0,l.Z)(n/1e4,2)," ha"):"".concat((0,l.Z)(n,2)," m\xb2");default:throw new Error("Unsupported feature type to measure: "+e.type)}};function F(e){var t,r=f.lJ(),n=x(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;f.l7(r,o)}}catch(e){n.e(e)}finally{n.f()}return r}var M,U,G=function(e){return((e%360+360)%360).toFixed(1)},V=((0,a.Z)((function(e,t){var r=e[0],n=e[1];return 0===r&&0===n?t:t.map((function(e){return[e[0]+r,e[1]+n]}))})),N({digits:7,reverse:!0,unit:"\xb0"})),B=function(e){if((0,i.default)(e))return"";try{return V(e)}catch(e){return""}},W=function(e){try{var t=new(o())(e);return[t.getLongitude(),t.getLatitude()]}catch(e){return}},z=((U={inverseFlattening:M=298.257223563,semiMajorAxis:6378137,flattening:1/M}).eccentricitySquared=U.flattening*(2-U.flattening),U.eccentricity=Math.sqrt(U.eccentricitySquared),U.semiMinorAxis=U.semiMajorAxis*(1-U.flattening),U.meanRadius=(U.semiMinorAxis+2*U.semiMajorAxis)/3,Object.freeze(U)),H=v.mi,q=v.bU,Y=function(e,t){var r=H(e);return q([r[0]+t[0],r[1]+t[1]])},$=function(){function e(t){var r=t.origin,n=t.orientation,o=void 0===n?0:n,a=t.type,i=void 0===a?"neu":a,c=t.ellipsoid,l=void 0===c?z:c;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"neu"!==i&&"nwu"!==i)throw new Error("unknown coordinate system type: "+i);if("number"!=typeof o&&(o=Number.parseFloat(o)),Number.isNaN(o))throw new TypeError("invalid orientation");this._vec=[0,0,0],this._origin=r,this._orientation=(0,E.Yr)(o),this._ellipsoid=l,this._type=i,this._precalculate()}var t,r,n;return t=e,r=[{key:"fromLonLat",value:function(e){return this._updateArrayFromLonLat([0,0],e[0],e[1])}},{key:"fromLonLatAhl",value:function(e){var t=[0,0,e[2]];return this._updateArrayFromLonLat(t,e[0],e[1])}},{key:"type",get:function(){return this._type}},{key:"toLonLat",value:function(e){var t=[e[0],e[1]*this._yMul];return s.U1(t,this._orientation),[t[1]/this._r2OverCosOriginLatInRadians/this._piOver180+this._origin[0],t[0]/this._r1/this._piOver180+this._origin[1]]}},{key:"toLonLatAhl",value:function(e){return[].concat(O(this.toLonLat(e)),[e[2]])}},{key:"updateVector3FromLonLatAhl",value:function(e,t,r,n){this._updateArrayFromLonLat(this._vec,t,r),e.x=this._vec[0],e.y="nwu"===this._type?this._vec[1]:-this._vec[1],e.z=n}},{key:"_precalculate",value:function(){var e=(0,E.Yr)(this._origin[1]),t=this._ellipsoid.semiMajorAxis,r=this._ellipsoid.eccentricitySquared,n=1-r*Math.pow(Math.sin(e),2);this._piOver180=Math.PI/180,this._r1=t*(1-r)/Math.pow(n,1.5),this._r2OverCosOriginLatInRadians=t/Math.sqrt(n)*Math.cos(e),this._yMul="neu"===this._type?1:-1}},{key:"_updateArrayFromLonLat",value:function(e,t,r){return e[0]=(r-this._origin[1])*this._piOver180*this._r1,e[1]=(t-this._origin[0])*this._piOver180*this._r2OverCosOriginLatInRadians,s.U1(e,-this._orientation),e[1]*=this._yMul,e}}],r&&S(t.prototype,r),n&&S(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function K(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(t>0){var r=(0,E.Ux)(Math.atan2(e[1],e[0]));return[t,r<0?r+360:r]}return[0,0]}},76415:(e,t,r)=>{"use strict";r.d(t,{Jz:()=>f,PL:()=>p,ZP:()=>h,in:()=>u});var n,o=r(41459),a=r(8),i=r(76206),c=r(54247);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={DEBUG:0,INFO:10,WARNING:20,ERROR:30,FATAL:40},s=(l(n={},u.DEBUG,o.ZP.off),l(n,u.INFO,(0,o.oM)(i.zb.INFO)),l(n,u.WARNING,(0,o.oM)(i.zb.WARNING)),l(n,u.ERROR,(0,o.oM)(i.zb.ERROR)),l(n,u.FATAL,(0,o.oM)(i.zb.FATAL)),n);function f(e){return e<=u.DEBUG?s[u.DEBUG]:e<=u.INFO?s[u.INFO]:e<=u.WARNING?s[u.WARNING]:e<=u.ERROR?s[u.ERROR]:e<=u.FATAL?s[u.FATAL]:o.ZP.off}function p(e){return"CRITICAL"===e&&(e="FATAL"),u[e]||"DEBUG"}function d(e){var t=function(t,r){c.ZP.dispatch((0,a.Hj)({level:t,message:String(r),module:e}))};this.debug=t.bind(this,u.DEBUG),this.error=t.bind(this,u.ERROR),this.info=t.bind(this,u.INFO),this.log=this.info,this.warn=t.bind(this,u.WARNING),this.assert=function(e,t){e||this.debug(t)}.bind(this)}const h=function(e){return new d(String(e||""))}},1566:(e,t,r)=>{"use strict";r.d(t,{Az:()=>A,B5:()=>F,JI:()=>_,MC:()=>Z,Pn:()=>k,Ux:()=>x,Yr:()=>O,j:()=>N,p:()=>I,x:()=>j,y6:()=>L});r(43290),r(91038),r(78783),r(21249),r(9653),r(25438),r(47042),r(40561),r(92222),r(41539),r(68309),r(74916),r(77601),r(82526),r(41817),r(32165),r(66992),r(33948);var n=r(69203),o=r(6126),a=r(17948),i=r(80770),c=r(96446),l=r(26774),u=r(39108),s=r(74529),f=r.n(s),p=r(95637),d=r(1449),h=r(7371);function y(e,t){return v(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||E(e,t)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){if(Array.isArray(e))return e}function g(e){return function(e){if(Array.isArray(e))return S(e)}(e)||b(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=E(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function E(e,t){if(e){if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){return e*Math.PI/180}function x(e){return 180*e/Math.PI}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=Array.from({length:t}).fill(0),n=e&&Array.isArray(e)?e.length:0;if(0!==n){var o,a=w(e);try{for(a.s();!(o=a.n()).done;)for(var i=o.value,c=0;c<t;c++)r[c]+=i[c]||0}catch(e){a.e(e)}finally{a.f()}for(var l=0;l<t;l++)r[l]/=n;return r}}function k(e){var t,r=[0,0],n=w(e.map(O));try{for(n.s();!(t=n.n()).done;){var o=t.value;r[0]+=Math.cos(o),r[1]+=Math.sin(o)}}catch(e){n.e(e)}finally{n.f()}var a=x(Math.atan2(r[1],r[0]));return a<0?a+360:a}function j(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.distanceFunction,a=r.getter;a?"string"==typeof a&&(a=(0,i.Z)(a)):a=n.default,o||(o=P);var c=e.map(a),l=t.map(a);return c.map((function(e){return l.map((function(t){return o(e,t)}))}))}var C=function(e,t){return(0,l.Z)((0,u.Z)(e,t,o.Z))},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;if(e<=0)throw new Error("norm must be positive");return e===Number.POSITIVE_INFINITY?T:function(t,r){return Math.pow((0,l.Z)((0,u.Z)(t,r),(function(t,r){return Math.pow(Math.abs(t-r),e)})),1/e)}}(2),I=function(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])},T=function(e,t){return Math.max((0,u.Z)(e,t,(function(e,t){return Math.abs(e-t)})))};function L(e){if(Array.isArray(e)&&!(e.length<2)){var t=e[0],r=e[e.length-1],n=t.length,o=!0;if(n===r.length){o=!1;for(var a=0;a<n;a++)if(t[a]!==r[a]){o=!0;break}}o&&e.push(t)}}var _=function(e){return f()(e).map((function(t){return e[t].length>2?e[t].slice(0,2):e[t]}))};function Z(e){if(0!==e.length){if(1===e.length)return d.xm(e[0]).geometry;if(2===e.length)return d.Tu(e).geometry;var t=g(e);return L(t),d.yu([t]).geometry}}var N=function(e,t){if(0===e.length)return[];var r=A(e),n=e.map((function(e){return[e[0]-r[0],e[1]-r[1]]})),o=new h.kb({origin:[0,0]}),a=Z(n.map((function(e){return o.toLonLat(e)}))),i=(0,p.Z)(a,t/1e3).geometry.coordinates[0].map((function(e){var t=o.fromLonLat(e);return[t[0]+r[0],t[1]+r[1]]}));return _(i)},D=function(e){var t=y(e,2),r=t[0],n=t[1];return Math.sqrt(Math.pow(r,2)+Math.pow(n,2))},R=function e(t,r){if(t.length<=r)return t;var n,o,i,l,u,s,f,p,d,h,m,v,g,b,w,E,S=function(e){return t[(e+t.length)%t.length]},O=function(e,r){t[(e+t.length)%t.length]=r},x=(0,a.Z)((0,c.Z)(t.length),(function(e){return t=S(e-1),r=S(e),n=S(e+1),o=[r[0]-t[0],r[1]-t[1]],a=[n[0]-r[0],n[1]-r[1]],Math.acos(C(o,a)/(D(o)*D(a)));var t,r,n,o,a})),A=(n=[-2,-1,0,1,2].map((function(e){return S(x+e)})),o=y(n,5),i=o[0],l=o[1],u=o[2],s=o[3],f=o[4],d=(p=function(e,t){return[e[1]-t[1],t[0]-e[0]]})(i,l),h=p(l,s),m=p(s,f),v=C(d,i),g=C(h,u),b=C(m,f),w=d[0]*h[1]-d[1]*h[0],E=m[0]*h[1]-m[1]*h[0],[i,[(h[1]*v-d[1]*g)/w,(-h[0]*v+d[0]*g)/w],[(h[1]*b-m[1]*g)/E,(-h[0]*b+m[0]*g)/E],f]);return O(x-2,A[0]),O(x-1,A[1]),O(x+1,A[2]),O(x+2,A[3]),t.splice(x,1),e(t,r)},F=function(e,t){var r,n=v(r=e)||b(r)||E(r)||m(),o=(n[0],n.slice(1)),a=R(o,t);return[].concat(g(a),[a[0]])}},53021:(e,t,r)=>{"use strict";r.d(t,{FD:()=>j,Fj:()=>M,Mc:()=>L,Nn:()=>k,SB:()=>N,Wd:()=>I,ZE:()=>_,g$:()=>A,gr:()=>C,wz:()=>P,zt:()=>T});r(92222),r(68309),r(41539),r(88674),r(47941),r(82526),r(57327),r(38880),r(54747),r(49337),r(41817),r(32165),r(66992),r(78783),r(33948),r(72443),r(39341),r(73706),r(10408),r(30489),r(68304),r(47042);var n=r(19064),o=r(20315),a=r(27601),i=r(48392),c=r(64657),l=r(77646),u=r(5742),s=r(36697),f=r(54247),p=r(76415);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var h=["target"];function y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function m(){m=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new A(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=S(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function h(){}var y={};c(y,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==t&&r.call(g,o)&&(y=g);var b=h.prototype=f.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==d(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function S(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=h,c(b,"constructor",h),c(h,"constructor",p),p.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(E.prototype),c(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new E(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(b),c(b,i,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var E=(0,p.ZP)("messaging"),S=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.reportSuccess,i=void 0===a||a,s=r.reportFailure,p=void 0===s||s;t=(0,c.Z)(t);var d,h,y=(0,n.Z)(t,o.Z),m=y.true||0,v=t.length-m;m&&p?(h=u.jo.ERROR,d=v>1?"".concat(e," sent for ").concat(v," UAVs, failed for ").concat(m):v?"".concat(e," sent for one UAV, failed for ").concat(m):m>1?"".concat(e," failed for ").concat(m," UAVs"):"".concat(e," failed")):i&&(h=u.jo.SUCCESS,v>1?d="".concat(e," sent for ").concat(v," UAVs"):v&&(d="".concat(e," sent successfully"))),d&&f.ZP.dispatch((0,l.c)({message:d,semantics:h}))},O=function(e){var t=e.type,r=e.name,n=e.mapper,o=void 0===n?void 0:n,a=e.reportFailure,i=void 0===a||a,c=e.reportSuccess,l=void 0===c||c;return function(){var e,n=(e=m().mark((function e(n,a){var c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.startAsyncOperation(g({type:t,ids:n},o?o(a):a));case 3:c=e.sent,S(r,c,{reportFailure:i,reportSuccess:l}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),E.error("".concat(r,": ").concat(String(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){w(a,n,o,i,c,"next",e)}function c(e){w(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()},x=O({type:"UAV-SIGNAL",name:"Light signal command",mapper:function(e){return g({signals:["light"],duration:5e3},e)},reportSuccess:!1}),A=O({type:"UAV-SIGNAL",name:"Light signal command",mapper:function(e){return g({signals:["light"],duration:5e3},e)},reportSuccess:!1,reportFailure:!1}),k=O({type:"UAV-TAKEOFF",name:"Takeoff command"}),j=O({type:"UAV-LAND",name:"Landing command"}),C=O({type:"UAV-HOVER",name:"Position hold command"}),P=O({type:"UAV-RTH",name:"Return to home command"}),I=O({type:"UAV-HALT",name:"Shutdown command"}),T=O({type:"UAV-RST",name:"Reset command"}),L=O({type:"UAV-SLEEP",name:"Low-power mode command"}),_=O({type:"UAV-WAKEUP",name:"Resume from low-power mode command"}),Z=O({type:"UAV-FLY",name:"Fly to target command",mapper:function(e){var t=e.target;return{target:[Math.round(1e7*t.lat),Math.round(1e7*t.lon),(0,a.default)(t.amsl)?null:Math.round(1e3*t.amsl),(0,a.default)(t.ahl)?null:Math.round(1e3*t.ahl),(0,a.default)(t.agl)?null:Math.round(1e3*t.agl)]}}}),N=function(e,t){var r=t.target,n=y(t,h);if((0,a.default)(r))throw new Error("No target given in arguments");var o=r.lat,i=r.lon,c=r.amsl,l=r.ahl,u=r.agl;if(!(0,a.default)(c)&&!(0,a.default)(l)&&!(0,a.default)(u))throw new Error("only one of AMSL, AHL and AGL may be given");var s=n;return(0,a.default)(c)?(0,a.default)(l)?(0,a.default)(u)?s.target={lat:o,lon:i}:s.target={lat:o,lon:i,agl:u}:s.target={lat:o,lon:i,ahl:l}:s.target={lat:o,lon:i,amsl:c},Z(e,s)},D=O({type:"UAV-MOTOR",name:"Motor off command",mapper:function(e){return g(g({},e),{},{start:!1})}}),R=O({type:"UAV-MOTOR",name:"Motor on command",mapper:function(e){return g(g({},e),{},{start:!0})}}),F={flashLight:x,shutdown:I,land:j,holdPosition:C,reset:T,returnToHome:P,sleep:L,takeOff:k,turnMotorsOff:D,turnMotorsOn:R,wakeUp:_};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getTargetedUAVIds,r=e.getTransportOptions;if("function"!=typeof t)throw new TypeError("getTargetedUAVIds() must be a function");return(0,i.Z)(F,(function(e){return function(){return function(n,o){var a,i=o(),c=t(i),l={};r&&(l.transport=r(i),0===(null===(a=l.transport)||void 0===a?void 0:a.channel)&&delete l.transport.channel);e(c,l)}}}))}},699:(e,t,r)=>{"use strict";r.d(t,{HY:()=>c,j_:()=>u,o8:()=>l});r(92222),r(74916),r(4723),r(9494),r(9653);var n=r(45542),o=r(90096),a=r(27771),i=r(23006);function c(e,t){var r=(0,a.default)(t);if(r){if(!(0,o.Z)(t,e))return e}else if(!(e in t))return e;for(var n,i=0;;)if(i++,n="".concat(e,"_").concat(i),r){if(!(0,o.Z)(t,n))return n}else if(!(n in t))return n}function l(e,t){if(!(0,o.Z)(t,e))return e;for(var r,n=e.match(/^(.*)\s+(\d+)$/),a=n?n[0]:(0,i.Z)(e),c=n?Number.parseInt(n[1],10):0;;)if(c++,r="".concat(a," ").concat(c),!(0,o.Z)(t,r))return r}function u(e,t){return c((0,n.Z)(e),t)}},36482:(e,t,r)=>{"use strict";r.d(t,{eJ:()=>l,mV:()=>c});r(21249),r(61874),r(9653),r(41539),r(35192);var n=r(14372),o=r(43402),a=r(36378),i={unix:0};function c(e){var t="string"==typeof e&&e.length>0?e.split(":"):[];if(0===t.length)return 0;if(t.length<=3){var r=t.map((function(e){return e.length>0?Number.parseFloat(e,10):0}));if(r.every((function(e){return Number.isFinite(e)}))){for(var n=0,o=1;r.length>0;)n+=r.pop()*o,o*=60;return n}}return Number.NaN}var l=function(e){return(0,a.Z)(e)&&(0,o.Z)(i,e)?i[e]:u(e)},u=function(e){return void 0===e?void 0:(0,n.Z)(e).getTime()}},88689:(e,t,r)=>{"use strict";r.d(t,{Ag:()=>n,Dy:()=>o,a5:()=>a,qC:()=>i});r(26699),r(32023);var n=navigator.platform.includes("Mac"),o=(navigator.platform.includes("Win32")||navigator.platform.includes("Windows"),n?function(e){return Boolean(e.metaKey)}:function(e){return Boolean(e.ctrlKey)}),a=n?"Cmd":"Ctrl",i=navigator.maxTouchPoints>0},29802:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});r(26833);var n=r(45697),o=r.n(n),a=r(76206);const i={angle:o().number,coordinate:o().shape({lat:o().number.isRequired,lon:o().number.isRequired}),preflightCheckResult:o().oneOf(Object.values(a.uZ)),severity:o().oneOf(Object.values(a.zb))}},97215:(e,t,r)=>{"use strict";r.d(t,{FZ:()=>a,LZ:()=>c,Nu:()=>l,WZ:()=>i});r(43371);var n=r(56974),o=r(24268);function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.minDelay,i=t;return a&&a>0&&(i=function(){return(0,n.Z)(t.apply(void 0,arguments),a)}),(0,o.PH)(e,(function(){return{payload:i.apply(void 0,arguments)}}))}function i(e){return{prepare:function(){return{}},reducer:e}}var c=Object.freeze([]),l=Object.freeze({})},99444:(e,t,r)=>{"use strict";r.d(t,{f:()=>u,y:()=>l});var n=r(50576),o=r(22222),a=r(44815),i=r(96774),c=r.n(i),l=(0,o.createSelectorCreator)(a.PW,c()),u=(0,o.createSelectorCreator)(a.PW,{resultEqualityCheck:n.default})},98829:(e,t,r)=>{"use strict";r.d(t,{Go:()=>c,Gz:()=>y,Nj:()=>v,RU:()=>h,Se:()=>m,TS:()=>p,bP:()=>u,dv:()=>f,hl:()=>i,lr:()=>a,o1:()=>d});var n=r(51345),o=r(58958),a="#2196f3",i=function(e){return new n.default({color:e})},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new o.default({color:e,width:t,lineDash:r})},l=function(e){return c(e,5)},u=function(e){return c(e,2)},s=function(e){return c(e,1)},f=s("black"),p=(u("black"),l("black"),s("rgba(0, 0, 0, 0.6)")),d=u("rgba(0, 0, 0, 0.6)"),h=(l("rgba(0, 0, 0, 0.6)"),s("white"),u("white")),y=l("white"),m=function(e){return c(e,5,[5,10])},v=function(e){return c(e,2,[1,5])}},80274:(e,t,r)=>{"use strict";r.d(t,{C1:()=>o,Tn:()=>c,_L:()=>a,i1:()=>u,jd:()=>s,vX:()=>l,v_:()=>n,yx:()=>i});r(69826),r(41539),r(21249),r(33161),r(9653),r(35192),r(92222),r(52420),r(47941),r(84944),r(33792);var n=function(e){return function(t,r){return e.map((function(e){return e(t,r)})).find(Boolean)}};function o(e){if(function(e){return null==e||""===e}(e))return"Value is required"}function a(e){if(!Number.isInteger(Number(e)))return"Value must be an integer"}function i(e){if(!Number.isFinite(Number(e)))return"Value must be a number"}function c(e){return function(t){if(Number(t)<e)return"Minimum allowed value is ".concat(e)}}function l(e,t){if(e>t){var r=[t,e];e=r[0],t=r[1]}return function(r){if(Number(r)<e||Number(r)>t)return"Value must be between ".concat(e," and ").concat(t)}}function u(e){if(1!==Math.sign(Number(e)))return"Value must be positive"}function s(e){return function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={},o=0,a=Object.keys(e);o<a.length;o++){var i=a[o],c=n([e[i]].flat()),l=c(t[i],t);l&&(r[i]=l)}return r}}},9301:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,d:()=>s});r(52262),r(24506),r(40561);var n=r(90096),o=r(27771),a=r(50576),i=r(73234),c=r(7979),l=r(46338);function u(e){return e?(0,i.default)(e)?e:(0,o.default)(e)?function(t){return(0,n.Z)(e,t)}:c.Z:l.Z}var s=function(e){var t=e.target.getCoordinates();(0,a.default)(t.at(0),t.at(-1))||(t.splice(-1,1,t[0]),e.target.setCoordinates(t))}},87978:(e,t,r)=>{"use strict";r.d(t,{l9:()=>ki,S9:()=>Ci,Qr:()=>Pi,ml:()=>ji});r(19601);var n,o=r(67294),a=r(39445),i=(r(21249),r(89681)),c=r(45697),l=r.n(c),u=r(86706),s=r(22222),f=r(77442),p=r(30553),d=r(40074),h=r(52541),y=r(21257),m=r(88469),v=r(39872),g=r(34206),b=r(31182);function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E={AERIAL_WITH_LABELS:"bingMaps.aerialWithLabels",ROAD:"bingMaps.road"},S={DEFAULT:"googleMaps.default",SATELLITE:"googleMaps.satellite",ROADS:"googleMaps.roads"},O={SATELLITE:"mapbox.satellite",STATIC:"mapbox.static",VECTOR:"mapbox.vector"},x={BASIC:"maptiler.basic",HYBRID:"maptiler.hybrid",SATELLITE:"maptiler.satellite",STREETS:"maptiler.streets"},A="nextzen",k="osm",j={TERRAIN:"stamen.terrain",TONER:"stamen.toner",WATERCOLOR:"stamen.watercolor"},C=[k,j.TERRAIN];b.Z.MAPBOX&&C.push(O.STATIC,O.SATELLITE),b.Z.MAPTILER&&C.push(x.BASIC,x.SATELLITE,x.HYBRID);var P={mapbox:['\xa9 <a href="https://www.mapbox.com/map-feedback/">Mapbox</a>','\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'],maptiler:['\xa9 <a href="https://www.maptiler.com/copyright/">Maptiler</a>','\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'],nextzen:"Map data &copy; OpenStreetMap contributors, Who's On First, Natural Earth, and openstreetmapdata.com",stamen:['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.','&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors']},I=(w(n={},E.AERIAL_WITH_LABELS,{label:"Bing Maps (aerial with labels)"}),w(n,E.ROAD,{label:"Bing Maps (road)"}),w(n,S.DEFAULT,{label:"Google Maps"}),w(n,S.SATELLITE,{label:"Google Maps (satellite)"}),w(n,O.STATIC,{label:"Mapbox",attributions:P.mapbox}),w(n,O.SATELLITE,{label:"Mapbox satellite",attributions:P.mapbox}),w(n,O.VECTOR,{label:"Mapbox vector",attributions:P.mapbox}),w(n,x.BASIC,{label:"Maptiler",attributions:P.maptiler}),w(n,x.HYBRID,{label:"Maptiler hybrid",attributions:P.maptiler}),w(n,x.SATELLITE,{label:"Maptiler satellite",attributions:P.maptiler}),w(n,x.STREETS,{label:"Maptiler streets",attributions:P.maptiler}),w(n,A,{label:"Nextzen",attributions:P.nextzen}),w(n,k,{label:"OpenStreetMap"}),w(n,j.TERRAIN,{label:"Stamen terrain",attributions:P.stamen}),w(n,j.TONER,{label:"Stamen toner",attributions:P.stamen}),w(n,j.WATERCOLOR,{label:"Stamen watercolor",attributions:P.stamen}),n);function T(e){var t=I[e];return t?t.label:"unknown"}var L=r(51345),_=r(58958),Z=r(47539),N=r(21280),D=r(72846);r(70429);var R=function(){var e=new L.default({color:""}),t=new _.default({color:"",width:1}),r=new Z.default({fill:e}),n=new Z.default({fill:e,stroke:t}),o=new Z.default({stroke:t}),a=new Z.default({text:new N.default({text:"",fill:e,stroke:t})}),i={};function c(e){var t=i[e];return t||(t=new Z.default({image:new D.Z({src:"https://unpkg.com/@mapbox/maki@4.0.0/icons/"+e+"-15.svg",imgSize:[15,15],crossOrigin:"anonymous"})}),i[e]=t),t}var l=[];return function(i,u){var s=0,f=i.get("layer"),p=i.get("class"),d=i.get("type"),h=i.get("scalerank"),y=i.get("labelrank"),m=i.get("admin_level"),v=i.get("maritime"),g=i.get("disputed"),b=i.get("maki"),w=i.getGeometry().getType();if("landuse"===f)switch(p){case"park":e.setColor("#d8e8c8"),l[s++]=r;break;case"cemetery":e.setColor("#e0e4dd"),l[s++]=r;break;case"hospital":e.setColor("#fde"),l[s++]=r;break;case"school":e.setColor("#f0e8f8"),l[s++]=r;break;case"wood":e.setColor("rgb(233,238,223)"),l[s++]=r}else"waterway"===f&&"river"!==p&&"stream"!==p&&"canal"!==p||"waterway"===f&&"river"===p?(t.setColor("#a0c8f0"),t.setWidth(1),l[s++]=o):"waterway"!==f||"stream"!==p&&"canal"!==p?"water"===f?(e.setColor("#a0c8f0"),l[s++]=r):"aeroway"===f&&"Polygon"===w?(e.setColor("rgb(242,239,235)"),l[s++]=r):"aeroway"===f&&"LineString"===w&&u<=76.43702828517625?(t.setColor("#f0ede9"),t.setWidth(1),l[s++]=o):"building"===f?(e.setColor("#f2eae2"),t.setColor("#dfdbd7"),t.setWidth(1),l[s++]=n):"tunnel"===f&&"motorway_link"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"tunnel"===f&&"service"===p?(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):"tunnel"!==f||"street"!==p&&"street_limited"!==p?"tunnel"===f&&"main"===p&&u<=1222.99245256282||"tunnel"===f&&"motorway"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"tunnel"===f&&"path"===p?(t.setColor("#cba"),t.setWidth(1),l[s++]=o):"tunnel"===f&&"major_rail"===p?(t.setColor("#bbb"),t.setWidth(2),l[s++]=o):"road"===f&&"motorway_link"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"road"!==f||"street"!==p&&"street_limited"!==p||"LineString"!==w?"road"===f&&"main"===p&&u<=1222.99245256282||"road"===f&&"motorway"===p&&u<=4891.96981025128?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"road"===f&&"path"===p?(t.setColor("#cba"),t.setWidth(1),l[s++]=o):"road"===f&&"major_rail"===p?(t.setColor("#bbb"),t.setWidth(2),l[s++]=o):"bridge"===f&&"motorway_link"===p||"bridge"===f&&"motorway"===p?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"bridge"===f&&"service"===p?(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):"bridge"!==f||"street"!==p&&"street_limited"!==p?"bridge"===f&&"main"===p&&u<=1222.99245256282?(t.setColor("#e9ac77"),t.setWidth(1),l[s++]=o):"bridge"===f&&"path"===p?(t.setColor("#cba"),t.setWidth(1),l[s++]=o):"bridge"===f&&"major_rail"===p?(t.setColor("#bbb"),t.setWidth(2),l[s++]=o):"admin"===f&&m>=3&&0===v||"admin"===f&&2===m&&0===g&&0===v||"admin"===f&&2===m&&1===g&&0===v?(t.setColor("#9e9cab"),t.setWidth(1),l[s++]=o):"admin"===f&&m>=3&&1===v||"admin"===f&&2===m&&1===v?(t.setColor("#a0c8f0"),t.setWidth(1),l[s++]=o):"country_label"===f&&1===h?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 11px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"country_label"===f&&2===h&&u<=19567.87924100512?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 10px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"country_label"===f&&3===h&&u<=9783.93962050256?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 9px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"country_label"===f&&4===h&&u<=4891.96981025128?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 8px "Open Sans", "Arial Unicode MS"'),e.setColor("#334"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(2),l[s++]=a):"marine_label"===f&&1===y&&"Point"===w||"marine_label"===f&&2===y&&"Point"===w?(a.getText().setText(i.get("name_en")),a.getText().setFont('italic 11px "Open Sans", "Arial Unicode MS"'),e.setColor("#74aee9"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"marine_label"===f&&3===y&&"Point"===w?(a.getText().setText(i.get("name_en")),a.getText().setFont('italic 10px "Open Sans", "Arial Unicode MS"'),e.setColor("#74aee9"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"marine_label"===f&&4===y&&"Point"===w?(a.getText().setText(i.get("name_en")),a.getText().setFont('italic 9px "Open Sans", "Arial Unicode MS"'),e.setColor("#74aee9"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&"city"===d&&u<=1222.99245256282?(a.getText().setText(i.get("name_en")),a.getText().setFont('11px "Open Sans", "Arial Unicode MS"'),e.setColor("#333"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&"town"===d&&u<=305.748113140705?(a.getText().setText(i.get("name_en")),a.getText().setFont('9px "Open Sans", "Arial Unicode MS"'),e.setColor("#333"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&"village"===d&&u<=38.21851414258813?(a.getText().setText(i.get("name_en")),a.getText().setFont('8px "Open Sans", "Arial Unicode MS"'),e.setColor("#333"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):"place_label"===f&&u<=19.109257071294063&&("hamlet"===d||"suburb"===d||"neighbourhood"===d)?(a.getText().setText(i.get("name_en")),a.getText().setFont('bold 9px "Arial Narrow"'),e.setColor("#633"),t.setColor("rgba(255,255,255,0.8)"),t.setWidth(1),l[s++]=a):("poi_label"===f&&u<=19.109257071294063&&1===h&&"marker"!==b||"poi_label"===f&&u<=9.554628535647032&&2===h&&"marker"!==b||"poi_label"===f&&u<=4.777314267823516&&3===h&&"marker"!==b||"poi_label"===f&&u<=2.388657133911758&&4===h&&"marker"!==b||"poi_label"===f&&u<=1.194328566955879&&h>=5&&"marker"!==b)&&(l[s++]=c(b)):(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):(t.setColor("#cfcdca"),t.setWidth(1),l[s++]=o):(t.setColor("#a0c8f0"),t.setWidth(1),l[s++]=o);return l.length=s,l}}();var F=function(e){var t=e.layer,r=e.onLayerSourceChanged,n=C.map((function(e){return o.createElement(p.Z,{key:e,value:e,label:T(e),style:{marginTop:5},control:o.createElement(d.Z,null)})}));return o.createElement(h.Z,{key:"baseProperties",name:"source.base",value:t.parameters.source,onChange:r},n)};F.propTypes={layer:l().object,onLayerSourceChanged:l().func};var M=(0,u.$j)(null,(function(e,t){return{onLayerSourceChanged:function(r,n){e((0,y.Rv)({layerId:t.layerId,source:n}))}}}))(F),U=new i.Z,G=function(e){var t=e.children,r=e.type,n=e.zIndex;switch(r){case O.VECTOR:case A:return o.createElement(f.EY.VectorTile,{declutter:!0,style:R,zIndex:n},t);default:return o.createElement(f.EY.Tile,{zIndex:n},t)}};G.propTypes={children:l().node,type:l().string,zIndex:l().number};var V=function(e){var t,r,n=e.apiKeys,a=e.tileLoadFunction,i=e.type,c=(r=(t=I[i])?t.attributions:void 0,Array.isArray(r)?r:r?[r]:void 0);switch(i){case O.STATIC:return o.createElement(f.qz.XYZ,{attributions:c,tilePixelRatio:2,tileSize:512,tileLoadFunction:a,url:"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/512/{z}/{x}/{y}@2x?access_token=".concat(n.MAPBOX)});case O.SATELLITE:return o.createElement(f.qz.XYZ,{attributions:c,tilePixelRatio:2,tileSize:512,tileLoadFunction:a,url:"https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}@2x.jpg90?access_token=".concat(n.MAPBOX)});case O.VECTOR:return o.createElement(f.qz.VectorTile,{attributions:c,format:U,tileLoadFunction:a,url:"https://{a-d}.tiles.mapbox.com/v4/mapbox.mapbox-streets-v8/{z}/{x}/{y}.vector.pbf?access_token=".concat(n.MAPBOX)});case x.BASIC:return o.createElement(f.qz.XYZ,{tileLoadFunction:a,tilePixelRatio:2,tileSize:512,url:"https://api.maptiler.com/maps/basic/{z}/{x}/{y}@2x.png?key=".concat(n.MAPTILER)});case x.HYBRID:return o.createElement(f.qz.XYZ,{tileLoadFunction:a,tilePixelRatio:2,tileSize:512,url:"https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}@2x.jpg?key=".concat(n.MAPTILER)});case x.SATELLITE:return o.createElement(f.qz.XYZ,{tileLoadFunction:a,tileSize:512,url:"https://api.maptiler.com/tiles/satellite-v2/{z}/{x}/{y}.jpg?key=".concat(n.MAPTILER)});case x.STREETS:return o.createElement(f.qz.XYZ,{tileLoadFunction:a,tilePixelRatio:2,tileSize:512,url:"https://api.maptiler.com/maps/streets/{z}/{x}/{y}@2x.png?key=".concat(n.MAPTILER)});case A:return o.createElement(f.qz.VectorTile,{attributions:c,format:U,maxZoom:16,tileLoadFunction:a,url:"https://tile.nextzen.org/tilezen/vector/v1/512/all/{z}/{x}/{y}.mvt?api_key=".concat(n.NEXTZEN)});case k:return o.createElement(f.qz.OSM,{tileLoadFunction:a,url:"https://{a-c}.tile.skybrush.io/osm/{z}/{x}/{y}.png"});case j.TERRAIN:return o.createElement(f.qz.XYZ,{attributions:c,tileLoadFunction:a,url:"https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.jpg"});case j.TONER:return o.createElement(f.qz.XYZ,{attributions:c,tileLoadFunction:a,url:"https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"});case j.WATERCOLOR:return o.createElement(f.qz.XYZ,{attributions:c,tileLoadFunction:a,url:"https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg"});case S.DEFAULT:return o.createElement(f.qz.XYZ,{tileLoadFunction:a,url:"https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}"});case S.SATELLITE:return o.createElement(f.qz.XYZ,{tileLoadFunction:a,url:"https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}"});case E.AERIAL_WITH_LABELS:return o.createElement(f.qz.BingMaps,{apiKey:n.BING,imagerySet:"AerialWithLabels",maxZoom:19});case E.ROAD:return o.createElement(f.qz.BingMaps,{apiKey:n.BING,imagerySet:"Road"});default:return null}};function B(e,t){e.getImage().src=t}V.propTypes={apiKeys:l().object,tileLoadFunction:l().func,type:l().string};var W=(0,s.createSelector)(m.x,v.eJ,v.RU,(function(e,t,r){return e&&t?function(e){return function(t,r){B(t,"".concat(e,"/map-cache/_?url=")+encodeURIComponent(r))}}(r):B})),z=(0,u.$j)((function(e){return{apiKeys:(0,g.Pb)(e),tileLoadFunction:W(e)}}),{})(V),H=function(e){var t=e.layer,r=e.zIndex;return o.createElement(G,{type:t.parameters.source,zIndex:r},o.createElement(z,{type:t.parameters.source}))};H.propTypes={layer:l().object,zIndex:l().number};r(47941),r(82526),r(40561),r(26699),r(32023);var q=r(30283);const Y=r.p+"c66c82627760fafe63c6.png",$=r.p+"19ad6093d71a16f981a5.png";var K=r(41459),X=r(37944),Q=r(7371),J=r(96354),ee=r(53464),te=r(98829),re=["selected","value"];function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ne.apply(this,arguments)}function oe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ae=new Z.default({image:new D.Z({src:Y})}),ie=new Z.default({image:new D.Z({src:$})}),ce=[K.tc.error,K.tc.success].map((function(e){return new Z.default({image:new q.Z({displacement:[0,2],fill:(0,te.hl)(e),stroke:te.TS,radius:6})})})),le=o.memo((function(e){var t=e.selected,r=e.value,n=oe(e,re),a=r.id,i=r.position,c=r.active;if(!i)return null;var l=function(e,t,r){var n=[ae];return t&&n.splice(0,0,ie),null!=r&&n.push(ce[r?1:0]),n.push(new Z.default({text:new N.default({font:"12px sans-serif",offsetY:18,placement:"point",text:e,textAlign:"center"})})),n}((0,X.P$)(r),t,c);return o.createElement(f.L0,ne({id:(0,J.YA)(a),style:l},n),o.createElement(f.J7.Point,{coordinates:(0,Q.Gv)([i.lon,i.lat])}))}));function ue(e){e&&(0,ee._K)(e.layer)}le.propTypes={selected:l().bool,value:l().shape({id:l().string,position:l().shape({lat:l().number.required,lon:l().number.required}),heading:l().number,active:l().bool})};var se=function(e){var t=e.beacons,r=e.selectedBeaconIds,n=e.zIndex;return o.createElement(f.EY.Vector,{ref:ue,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:n},o.createElement(f.qz.Vector,null,t.map((function(e){return o.createElement(le,{key:e.id,value:e,selected:r.includes(e.id)})}))))};se.propTypes={beacons:l().arrayOf(l().object).isRequired,selectedBeaconIds:l().arrayOf(l().string).isRequired,zIndex:l().number};var fe=(0,u.$j)((function(e){return{beacons:(0,X.U7)(e),selectedBeaconIds:(0,X.E8)(e)}}),null)(se),pe=r(35393),de=r(9624),he=["selected","value"];function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ye.apply(this,arguments)}function me(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ve=o.memo((function(e){var t=e.selected,r=e.value,n=me(e,he),a=r.id,i=r.position;if(!i)return null;var c=function(e,t){return[new Z.default({image:new pe.Z({points:4,fill:(0,te.hl)([255,136,0,t?1:.5]),stroke:t?te.o1:te.TS,radius:10,rotation:Math.PI/4})}),new Z.default({text:new N.default({font:"12px sans-serif",offsetY:18,placement:"point",text:e,textAlign:"center"})})]}(a,t);return o.createElement(f.L0,ye({id:(0,J.cf)(a),style:c},n),o.createElement(f.J7.Point,{coordinates:(0,Q.Gv)([i.lon,i.lat])}))}));function ge(e){e&&(0,ee._K)(e.layer)}ve.propTypes={selected:l().bool,value:l().shape({id:l().string,position:l().shape({lat:l().number.required,lon:l().number.required})})};var be=function(e){var t=e.docks,r=e.selectedDockIds,n=e.zIndex;return o.createElement(f.EY.Vector,{ref:ge,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:n},o.createElement(f.qz.Vector,null,t.map((function(e){return o.createElement(ve,{key:e.id,value:e,selected:r.includes(e.id)})}))))};be.propTypes={docks:l().arrayOf(l().object).isRequired,selectedDockIds:l().arrayOf(l().string).isRequired,zIndex:l().number};var we,Ee=(0,u.$j)((function(e){return{docks:(0,de.t)(e),selectedDockIds:(0,de.h)(e)}}),null)(be),Se=(r(68309),r(91038),r(78783),r(74916),r(77601),r(41817),r(32165),r(66992),r(33948),r(84944),r(33792),r(47042),r(69826),r(41539),r(57327),r(6767)),Oe=r.n(Se),xe=r(63790),Ae=r(36259),ke=r(25063),je=r(2033),Ce=r(9301),Pe=r(93029),Ie=r(62879),Te=r(66817),Le=r(31574),_e=r(64209),Ze=r(66933),Ne=r(1566),De=["feature","isSelected","isGeofence","shouldShowPoints"];function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Re.apply(this,arguments)}function Fe(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Me(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ve(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ge(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ve(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ve(e,t){if(e){if("string"==typeof e)return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Be(e,t):void 0}}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var We=new Z.default({stroke:te.Gz}),ze=(Ue(we={},_e.gF.THIN_OUTLINE,te.RU),Ue(we,_e.gF.THICK_OUTLINE,te.Gz),we),He=function(e){return new Ae.default(e.getGeometry().getCoordinates())},qe=function(e){return new Ae.default(e.getGeometry().getCoordinates().flat())},Ye=function(e,t,r){return new Z.default({image:new q.Z({stroke:t?te.RU:void 0,fill:(0,te.hl)(r.rgb().array()),radius:5}),geometry:He})},$e=function(e,t,r){return new Z.default({image:new q.Z({stroke:t?te.RU:void 0,fill:(0,te.hl)(r.rgb().array()),radius:5}),geometry:qe})},Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.color,a=e.label,i=e.labelStyle,c=e.measure,l=e.type,u=e.filled,s=Oe()(o||te.lr),f=[],p=6;switch(l){case _e.Te.POINTS:f.push(new Z.default({image:new q.Z({stroke:r?te.RU:void 0,fill:(0,te.hl)(s.rgb().array()),radius:p})}));break;case _e.Te.LINE_STRING:r&&f.push(We),f.push(new Z.default({stroke:(t?te.Se:te.bP)(s.rgb().array())})),n&&f.push(Ye(0,r,s));break;case _e.Te.POLYGON:f.push(new Z.default({stroke:(0,te.Nj)(s.rgb().array()),geometry:function(e){var t=Me(e.getGeometry().getCoordinates()).slice(1);return new ke.Z(t.map((function(e){return[e]})))},zIndex:1})),n&&f.push($e(0,r,s));default:u&&f.push(new Z.default({fill:(0,te.hl)(s.fade(r?.5:.75).rgb().array())})),r&&f.push(We),f.push(new Z.default({stroke:(t?te.Se:te.bP)(s.rgb().array()),geometry:function(e){if(l===_e.Te.POLYGON){var t=e.getGeometry().getCoordinates()[0];return new je.default([t])}return e.getGeometry()}}))}return a&&a.length>0&&i!==_e.gF.HIDDEN&&f.push(new Z.default({text:new N.default({font:"12px sans-serif",offsetY:l===_e.Te.POINTS?p+10:0,placement:l===_e.Te.LINE_STRING?"line":"point",stroke:ze[i],text:a,textAlign:"center",textBaseline:l===_e.Te.LINE_STRING?"bottom":"middle"})})),c&&f.push(new Z.default({text:new N.default({font:"12px sans-serif",offsetY:l===_e.Te.LINE_STRING?3:15,placement:"lineString"===l?"line":"point",stroke:ze[i],text:"(".concat((0,Q.vr)(e),")"),textAlign:"center",textBaseline:l===_e.Te.LINE_STRING?"top":"middle"})})),f},Xe=function(e){var t=e.feature,r=e.isSelected,n=e.isGeofence,a=e.shouldShowPoints,i=Fe(e,De);return o.createElement(f.L0,Re({id:(0,J.Pe)(t.id),style:Ke(t,n,r,a)},i),function(e){var t=e.points,r=e.type,n=t.map((0,xe.Z)(Q.Gv));switch(r){case _e.Te.CIRCLE:if(n.length>=2){var a=n[0],i=(0,Q.WI)(n[0],n[1]);return o.createElement(f.J7.Circle,{center:a,radius:i})}return null;case _e.Te.POINTS:return n.length>1?o.createElement(f.J7.MultiPoint,{coordinates:n}):o.createElement(f.J7.Point,{coordinates:n[0]});case _e.Te.LINE_STRING:return o.createElement(f.J7.LineString,{coordinates:n});case _e.Te.POLYGON:var c;(0,Ne.y6)(n);var l,u=(null!==(c=e.holes)&&void 0!==c?c:[]).map((function(e){return e.map((0,xe.Z)(Q.Gv))})),s=Ge(u);try{for(s.s();!(l=s.n()).done;){var p=l.value;(0,Ne.y6)(p)}}catch(e){s.e(e)}finally{s.f()}return o.createElement(f.J7.Polygon,{coordinates:n,holes:u});default:return null}}(t))};Xe.propTypes={feature:l().object.isRequired,isGeofence:l().bool,isSelected:l().bool,shouldShowPoints:l().bool};var Qe=(0,u.$j)((function(e,t){var r=t.feature;return{isGeofence:(0,Te.vj)(e)===r.id,isSelected:(0,Ie.zf)(e).includes(r.id),shouldShowPoints:(0,Ie.Z4)(e,r.id)}}))(Xe);function Je(e){e&&((0,ee.Bl)(e.layer),(0,ee._K)(e.layer))}var et=function(e){var t=e.features,r=e.geofencePolygonId,n=e.onError,a=e.onFeatureModificationStarted,i=e.onFeaturesModified,c=e.selectedTool,l=e.zIndex,u=(0,o.useRef)(null),s=(0,o.useCallback)((function(e){var t,n=e.features.getArray();null===(t=n.find((function(e){return e.getId()===(0,J.Pe)(r)})))||void 0===t||t.getGeometry().on("change",Ce.d),u.current=function(e){var t,r={},n=Ge(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r[o.getId()]=o.getRevision()}}catch(e){n.e(e)}finally{n.f()}return r}(n),a&&a(e)}),[a,r]),p=(0,o.useCallback)((function(e){var t,n=e.features.getArray();null===(t=n.find((function(e){return e.getId()===(0,J.Pe)(r)})))||void 0===t||t.getGeometry().un("change",Ce.d),i&&i(e,function(e,t){var r,n=[],o=[],a=Ge(e);try{for(a.s();!(r=a.n()).done;){var i=r.value,c=i.getId();o.includes(c)||void 0!==t[c]&&t[c]===i.getRevision()||(n.push(i),o.push(c))}}catch(e){a.e(e)}finally{a.f()}return n}(n,u.current)),u.current=null}),[i,r]);return o.createElement(f.EY.Vector,{ref:Je,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:l},o.createElement(f.qz.Vector,null,t.filter((function(e){return e.visible})).map((function(e){return o.createElement(Qe,{key:e.id,feature:e})})),c===Pe.UA.CUT_HOLE?o.createElement(f.Tl.CutHole,{onCutStart:s,onCutEnd:p,onError:n}):null,c===Pe.UA.EDIT_FEATURE?o.createElement(f.Tl.Modify,{onModifyStart:s,onModifyEnd:p}):null))};et.propTypes={selectedTool:l().string,zIndex:l().number,features:l().arrayOf(l().object).isRequired,geofencePolygonId:l().string,onError:l().func,onFeatureModificationStarted:l().func,onFeaturesModified:l().func};var tt=(0,u.$j)((function(e){return{features:(0,Ie.vQ)(e),geofencePolygonId:(0,Te.vj)(e)}}),(function(e){return{onError:function(t){e((0,Le.x)(t))},onFeaturesModified:function(t,r){(0,Ze.cu)(r,e,{type:"modify",event:t})}}}))(et),rt=(r(92222),r(38862),r(68304),r(30489),r(81299),r(12419),r(25742)),nt=r(49466),ot=r(60188),at=r(28889),it=r(282),ct=r(39803),lt=(r(38880),r(54747),r(49337),r(69653));function ut(e){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(e)}function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dt(e,t){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dt(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=vt(e);if(t){var o=vt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yt(this,r)}}function yt(e,t){if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vt(e)}function gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dt(e,t)}(i,e);var t,r,n,a=ht(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),gt(mt(t=a.call(this,e)),"_registerClickawayHandlerIfNeeded",(function(){var e=t._isMounted&&t.state.open;e&&!t._clickawayHandlerRegistered?(document.addEventListener("click",t._handleClickAway,!0),t._clickawayHandlerRegistered=!0):!e&&t._clickawayHandlerRegistered&&(document.removeEventListener("click",t._handleClickAway,!0),t._clickawayHandlerRegistered=!1)})),gt(mt(t),"_togglePicker",(function(){t.setState((function(e){return{open:!e.open}}))})),gt(mt(t),"_handleChange",(function(e){var r,n={r:(r=e.rgb).r,g:r.g,b:r.b,alpha:r.a};t.setState({color:n}),t.props.onChange&&t.props.onChange(n)})),gt(mt(t),"_handleClickAway",(function(e){t._pickerContainerRef.current&&!t._pickerContainerRef.current.contains(e.target)&&(t._togglePicker(),e.preventDefault(),e.stopPropagation())})),t._clickawayHandlerRegistered=!1,t._isMounted=!1,t._pickerContainerRef=o.createRef(),t.state={open:!1,color:e.value||e.defaultValue||{r:255,g:255,b:255,alpha:1}},t}return t=i,(r=[{key:"componentDidMount",value:function(){this._isMounted=!0,this._registerClickawayHandlerIfNeeded()}},{key:"componentDidUpdate",value:function(){this._registerClickawayHandlerIfNeeded()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this._registerClickawayHandlerIfNeeded()}},{key:"render",value:function(){var e,t={position:"absolute",overflow:"hidden",zIndex:"2",transition:"height 0.3s",height:this.state.open?298:0},r=this.state.color;return o.createElement("div",{ref:this._pickerContainerRef,className:"popup-color-picker"},o.createElement("div",{className:"popup-color-picker-button",style:ft(ft({},this.props.style),{},{backgroundColor:Oe()(r).rgb().string()}),onClick:this._togglePicker}),o.createElement("div",{className:"popup-color-picker-dropdown",style:t},o.createElement(lt.xS,{color:(e=r,{r:e.r,g:e.g,b:e.b,a:e.alpha}),onChange:this._handleChange})))}}])&&pt(t.prototype,r),n&&pt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);gt(bt,"propTypes",{defaultValue:l().object,onChange:l().func,style:l().object,value:l().object});var wt=r(77646),Et=function(e,t){try{return Oe()(e)}catch(e){return Oe()(t)}};r(43290),r(9653);function St(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?St(Object(r),!0).forEach((function(t){xt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var At={small:10,medium:15,large:20};function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pt(e,t,r){return t&&Ct(e.prototype,t),r&&Ct(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function It(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tt(e,t)}function Tt(e,t){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tt(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Nt(e);if(t){var o=Nt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _t(this,r)}}function _t(e,t){if(t&&("object"===kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zt(e)}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nt(e)}function Dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rt=function(e){It(r,e);var t=Lt(r);function r(){var e;jt(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return Dt(Zt(e=t.call.apply(t,[this].concat(o))),"state",{strokeWidth:e.props.layer.parameters.strokeWidth,data:JSON.stringify(e.props.layer.parameters.data,null,2)}),Dt(Zt(e),"_handleStrokeColorChange",(function(t){e.props.setLayerParameters({strokeColor:t})})),Dt(Zt(e),"_handleFillColorChange",(function(t){e.props.setLayerParameters({fillColor:t})})),Dt(Zt(e),"_handleStrokeWidthChange",(function(t){e.setState({strokeWidth:t.target.value})})),Dt(Zt(e),"_handleDataChange",(function(t){e.setState({data:t.target.value})})),Dt(Zt(e),"_handleClick",(function(){e.props.setLayerParameters({strokeWidth:(0,rt.Z)(e.state.strokeWidth)});try{var t=JSON.parse(e.state.data);e.props.setLayerParameters({data:t}),e.props.showMessage({message:"GeoJSON imported successfully.",semantics:"success"})}catch(t){e.props.showMessage({message:"Invalid GeoJSON data.",semantics:"error"})}})),e}return Pt(r,[{key:"render",value:function(){var e=this.props.layer.parameters,t=e.fillColor,r=e.strokeColor;return o.createElement(at.Z,null,o.createElement(at.Z,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},o.createElement(at.Z,null,o.createElement("span",null,"Stroke color: "),o.createElement(bt,{value:r,onChange:this._handleStrokeColorChange})),o.createElement(at.Z,null,o.createElement("span",null,"Fill color: "),o.createElement(bt,{value:t,onChange:this._handleFillColorChange})),o.createElement(ct.Z,{style:{marginLeft:2},label:"Stroke width",type:"number",min:"1",max:"100",value:this.state.strokeWidth,variant:"filled",onChange:this._handleStrokeWidthChange})),o.createElement(at.Z,{pt:2},o.createElement(ct.Z,{multiline:!0,fullWidth:!0,label:"GeoJSON data",placeholder:"GeoJSON",maxRows:10,value:this.state.data,variant:"filled",onChange:this._handleDataChange})),o.createElement(at.Z,{textAlign:"center",pt:2},o.createElement(it.Z,{variant:"contained",color:"primary",onClick:this._handleClick},"Update layer")))}}]),r}(o.Component);Dt(Rt,"propTypes",{layer:l().object,setLayerParameters:l().func,showMessage:l().func});var Ft=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,y.er)(t.layerId,r))},showMessage:function(t){e((0,wt.c)(t))}}}))(Rt);Ft.propTypes={layerId:l().string};var Mt=function(e){It(r,e);var t=Lt(r);function r(e){var n;return jt(this,r),(n=t.call(this,e))._assignSourceRef=n._assignSourceRef.bind(Zt(n)),n._sourceRef=void 0,n.geojsonFormat=new nt.Z,n._updateFeaturesFromProps(e),n}return Pt(r,[{key:"componentDidUpdate",value:function(){this._updateFeaturesFromProps(this.props)}},{key:"_assignSourceRef",value:function(e){if(this._sourceRef!==e){if(this._sourceRef)this._sourceRef.source.clear();this._sourceRef=e,this._sourceRef&&this._updateFeaturesFromProps(this.props)}}},{key:"_parseFeatures",value:function(e){try{return this.geojsonFormat.readFeatures(e,{featureProjection:"EPSG:3857"})}catch(e){return[]}}},{key:"_updateFeaturesFromProps",value:function(e){var t=this._parseFeatures(e.data);if(this._sourceRef){var r=this._sourceRef.source;r.clear(),r.addFeatures(t)}}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}}]),r}(o.Component),Ut=function(e){var t=e.layer,r=e.zIndex,n=o.useMemo((function(){var e=t.parameters,r=e.strokeWidth,n=Et(e.strokeColor,te.lr),o=Et(e.fillColor,Oe()(te.lr).alpha(.5)),a={stroke:n.rgb().hex(),"stroke-opacity":n.alpha(),"stroke-width":r,fill:o.rgb().hex(),"fill-opacity":o.alpha()};return function(e){var t=e.getProperties();return!t["marker-symbol"]&&e.getGeometry()instanceof ot.default&&(t["marker-symbol"]="marker"),function(e,t){var r=Ot(Ot({"fill-opacity":.6,"stroke-opacity":1,"stroke-width":2},t),e),n=void 0!==r.stroke,o=void 0!==r.fill,a=void 0!==r.title,i=r["marker-size"]||r["marker-symbol"]||r["marker-color"],c=n?Oe()(r.stroke||"#555555").alpha(r["stroke-opacity"]):void 0,l=o?Oe()(r.fill||"#555555").alpha(r["fill-opacity"]):void 0,u=r.title,s={},f=0;if(c&&(s.stroke=new _.default({color:c.array(),width:Number(r["stroke-width"])})),l&&(s.fill=new L.default({color:l.array()})),i){var p=Oe()(r["marker-color"]||"#7e7e7e"),d=r["marker-size"]||"medium";f=void 0!==At[d]?At[d]:At.medium,s.image=new q.Z({fill:new L.default({color:p.array()}),stroke:new _.default({color:p.blacken(.5)}),radius:f/2})}return a&&(s.text=new N.default({text:u,font:"normal 14px Arial",fill:new L.default({color:"#ffffff"}),stroke:new _.default({color:"#000000",width:2})})),a&&f>0&&s.text.setOffsetY(f+2),new Z.default(s)}(t,a)}}),[t]);return o.createElement("div",null,o.createElement(f.EY.Vector,{zIndex:r,style:n},o.createElement(Mt,{data:t.parameters.data})))};Ut.propTypes={layer:l().object,zIndex:l().number};var Gt=r(63457);var Vt=r(66875),Bt=r(84038),Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new N.default({font:"14px 'Fira Sans',Calibri,sans-serif",textBaseline:"bottom",fill:new L.default({color:e?"rgba(255, 255, 255, 1)":"rgba(0,0,0,1)"}),stroke:new _.default({color:e?"rgba(0, 0, 0, 1)":"rgba(255,255,255,1)",width:3})})},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new N.default({font:"14px 'Fira Sans',Calibri,sans-serif",textAlign:"end",fill:new L.default({color:e?"rgba(255, 255, 255, 1)":"rgba(0,0,0,1)"}),stroke:new _.default({color:e?"rgba(0, 0, 0, 1)":"rgba(255,255,255,1)",width:3})})},Ht={light:Wt(),dark:Wt(!0)},qt={light:zt(),dark:zt(!0)},Yt=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,30/3600,20/3600,10/3600,5/3600,2/3600,1/3600],$t=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,1/120,1/300,1/600,1/1200,1/6e3],Kt=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function Xt(e){switch((0,Vt.x6)(e)){case Bt.mY.DEGREES:case Bt.mY.SIGNED_DEGREES:return Kt;case Bt.mY.DEGREES_MINUTES:case Bt.mY.SIGNED_DEGREES_MINUTES:return $t;default:return Yt}}var Qt=function(e){e.layer;var t=e.zIndex,r=(0,Gt.Z)("(prefers-color-scheme: dark)"),n=(0,u.v9)(Vt.VE),a=(0,u.v9)(Vt.uR),i=(0,u.v9)(Xt);return o.createElement(f.EY.Graticule,{showLabels:!0,intervals:i,latLabelFormatter:n,latLabelStyle:qt[r?"dark":"light"],lonLabelFormatter:a,lonLabelStyle:Ht[r?"dark":"light"],zIndex:t})};Qt.propTypes={layer:l().object,zIndex:l().number};r(88674),r(72443),r(39341),r(73706),r(10408);var Jt=r(52398),er=r(94316),tr=r.n(er),rr=r(81090),nr=r(97580),or=r(64436),ar=r(6562),ir=r(7397),cr=r(96394),lr=r(85639),ur=r(9570),sr=r(26209),fr=r(53311),pr=r(36697);r(51532);function dr(e){return dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(e)}function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||vr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yr(){yr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==dr(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function mr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=vr(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function vr(e,t){if(e){if("string"==typeof e)return gr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gr(e,t):void 0}}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var wr=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e instanceof Map?this._map=e:Array.isArray(e)?this._map=new Map(e):this._map=new Map}var r,n,o;return r=t,(n=[{key:"set",value:function(e,t){return this._map.set(JSON.stringify(e),t)}},{key:"has",value:function(e){return this._map.has(JSON.stringify(e))}},{key:"get",value:function(e){return this._map.get(JSON.stringify(e))}},{key:"data",get:function(){return this._map}},{key:"size",get:function(){return this._map.size}},{key:"keys",value:yr().mark((function e(){var t,r,n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=mr(this._map.keys()),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,JSON.parse(n);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:yr().mark((function(){var e,t,r,n,o;return yr().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=mr(this._map),a.prev=1,e.s();case 3:if((t=e.n()).done){a.next=9;break}return r=hr(t.value,2),n=r[0],o=r[1],a.next=7,[JSON.parse(n),o];case 7:a.next=3;break;case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),e.e(a.t0);case 14:return a.prev=14,e.f(),a.finish(14);case 17:case"end":return a.stop()}}),o,this,[[1,11,14,17]])}))}])&&br(r.prototype,n),o&&br(r,o),Object.defineProperty(r,"prototype",{writable:!1}),t}(Symbol.iterator);function Er(e){return Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Er(e)}function Sr(){Sr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Er(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function Or(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function xr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Or(a,n,o,i,c,"next",e)}function c(e){Or(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||Cr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Cr(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function jr(e){return function(e){if(Array.isArray(e))return Pr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(e,t){if(e){if("string"==typeof e)return Pr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pr(e,t):void 0}}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lr(e,t,r){return t&&Tr(e.prototype,t),r&&Tr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zr(e,t)}function Zr(e,t){return Zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zr(e,t)}function Nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Fr(e);if(t){var o=Fr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Dr(this,r)}}function Dr(e,t){if(t&&("object"===Er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rr(e)}function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fr(e){return Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fr(e)}function Mr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ur=function(e){return tr()(e).format({mantissa:3})},Gr={linear:{name:"Linear",function:function(e){return e}},logarithmic:{name:"Logarithmic",function:function(e){return Math.log(e)}}},Vr=function(e){_r(r,e);var t=Nr(r);function r(e){var n;return Ir(this,r),Mr(Rr(n=t.call(this,e)),"_showSubscriptionDialog",(function(){n._refs.subscriptionDialog.current.showDialog()})),Mr(Rr(n),"_handleHueChange",(function(e){n.setState(Mr({},e.target.id,(0,rt.Z)(e.target.value)))})),Mr(Rr(n),"_handleColoringFunctionChange",(function(e){n.setState({coloringFunction:e.target.value})})),Mr(Rr(n),"_handleClick",(function(){n.props.setLayerParameters({threshold:(0,rt.Z)(n._refs.threshold.current.value),coloringFunction:n.state.coloringFunction,minValue:(0,rt.Z)(n._refs.minValue.current.value),maxValue:(0,rt.Z)(n._refs.maxValue.current.value),minHue:n.state.minHue,maxHue:n.state.maxHue,minDistance:(0,rt.Z)(n._refs.minDistance.current.value)})})),Mr(Rr(n),"_clearData",(function(){window.localStorage.removeItem("".concat(n.props.layerId,"_data")),n._refs.minValue.current.value=0,n.props.setLayerParameters({minValue:0}),n._refs.maxValue.current.value=0,n.props.setLayerParameters({maxValue:0})})),n.state={coloringFunction:e.layer.parameters.coloringFunction,minHue:e.layer.parameters.minHue,maxHue:e.layer.parameters.maxHue},n._refs=Object.assign.apply(Object,[{}].concat(jr(["subscriptionDialog","threshold","minValue","maxValue","minHue","maxHue","minDistance"].map((function(e){return Mr({},e,o.createRef())}))))),n._setAutoScale=function(e,t){n.props.setLayerParameters({autoScale:t})},n._setSnapToGrid=function(e,t){n.props.setLayerParameters({snapToGrid:t})},n}return Lr(r,[{key:"render",value:function(){var e=this.props.setLayerParameter,t=this.props.layer.parameters,r=this.state,n=r.minHue,a=r.maxHue,i={marginRight:10,width:125};return o.createElement("div",null,o.createElement(fr.Z,{ref:this._refs.subscriptionDialog,subscriptions:t.subscriptions,setSubscriptions:(0,Jt.Z)(e,"subscriptions"),unit:t.unit,setUnit:(0,Jt.Z)(e,"unit")}),o.createElement(it.Z,{variant:"contained",style:{marginBottom:"10px"},onClick:this._showSubscriptionDialog},"Edit subscriptions"),o.createElement("br",null),o.createElement(ar.Z,{row:!0},o.createElement(ct.Z,{inputRef:this._refs.threshold,style:i,label:"Threshold",type:"number",defaultValue:Ur(t.threshold)}),o.createElement(or.Z,{style:{width:"125px"}},o.createElement(cr.Z,{htmlFor:"selectedChannel"},"Coloring function"),o.createElement(sr.Z,{value:this.state.coloringFunction,onChange:this._handleColoringFunctionChange},Object.keys(Gr).map((function(e){return o.createElement(lr.Z,{key:e,value:e},Gr[e].name)}))))),o.createElement(ar.Z,{row:!0},o.createElement(ct.Z,{inputRef:this._refs.minValue,style:i,label:"Minimum value",type:"number",defaultValue:Ur(t.minValue)}),o.createElement(ct.Z,{inputRef:this._refs.maxValue,style:i,label:"Maximum value",type:"number",defaultValue:Ur(t.maxValue)}),o.createElement(p.Z,{label:"Autoscale",control:o.createElement(ur.Z,{checked:t.autoScale,onChange:this._setAutoScale})})),o.createElement("div",{style:{padding:"24px 0"}},o.createElement("input",{ref:this._refs.minHue,id:"minHue",type:"range",min:"0",max:"360",style:{width:"100px",verticalAlign:"middle"},value:n,onChange:this._handleHueChange}),o.createElement("div",{style:{display:"inline-block",width:"300px",height:"25px",margin:"5px",verticalAlign:"middle",background:"linear-gradient(-90deg,\n              hsla(".concat(a,", 70%, 50%, 0.75),\n              hsla(").concat(n,", 70%, 50%, 0.75)\n            )"),borderRadius:"10px",boxShadow:"0px 0px 3px 0px black"}}),o.createElement("input",{ref:this._refs.maxHue,id:"maxHue",type:"range",min:"0",max:"360",style:{width:"100px",verticalAlign:"middle"},value:a,onChange:this._handleHueChange})),o.createElement(ar.Z,{row:!0},o.createElement(ct.Z,{inputRef:this._refs.minDistance,label:"Min distance",style:i,InputProps:{endAdornment:o.createElement(ir.Z,{position:"end"},"m")},type:"number",defaultValue:Ur(t.minDistance)}),o.createElement(p.Z,{label:"Snap to grid",control:o.createElement(ur.Z,{checked:t.snapToGrid,onChange:this._setSnapToGrid})})),o.createElement(ar.Z,{row:!0,style:{paddingTop:10}},o.createElement(it.Z,{onClick:this._handleClick},"Update parameters"),o.createElement(it.Z,{color:"secondary",onClick:this._clearData},"Clear data")))}}]),r}(o.Component);Mr(Vr,"propTypes",{layer:l().object,layerId:l().string,setLayerParameter:l().func,setLayerParameters:l().func});var Br=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,y.er)(t.layerId,r))},setLayerParameter:function(r,n){e((0,y.er)(t.layerId,Mr({},r,n)))}}}))(Vr),Wr=function(e){_r(r,e);var t=Nr(r);function r(e){var n;return Ir(this,r),Mr(Rr(n=t.call(this,e)),"_assignSourceRef",(function(e){n._sourceRef!==e&&(n._sourceRef&&n._sourceRef.source.clear(),n._sourceRef=e,n._sourceRef&&n._drawFromStoredData())})),Mr(Rr(n),"_getStoredData",(function(){return window.localStorage.getItem(n.props.storageKey)||window.localStorage.setItem(n.props.storageKey,"[]"),new wr(JSON.parse(window.localStorage.getItem(n.props.storageKey)))})),Mr(Rr(n),"_setStoredData",(function(e){window.localStorage.setItem(n.props.storageKey,JSON.stringify(jr(e.data)))})),Mr(Rr(n),"_drawFromStoredData",(function(){var e=(n._sourceRef||{}).source;if(e){e.clear(),n.features=new wr;var t,r=kr(n._getStoredData());try{for(r.s();!(t=r.n()).done;){var o=Ar(t.value,2),a=o[0],i=o[1];n.features.set(a,n._drawPointFromData(Object.assign({value:i},a)))}}catch(e){r.e(e)}finally{r.f()}}})),Mr(Rr(n),"_trySubscribe",function(){var e=xr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr.Z.waitUntilReady();case 2:pr.Z.sendMessage({type:"DEV-SUB",paths:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Mr(Rr(n),"_tryUnsubscribe",function(){var e=xr(Sr().mark((function e(t){return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr.Z.waitUntilReady();case 2:pr.Z.sendMessage({type:"DEV-UNSUB",paths:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Mr(Rr(n),"_processData",(function(e,t){var r,o,a=n.props.parameters.minDistance;if(n.props.parameters.snapToGrid){var i=(0,Q.T$)((0,Q.Gv)([t.lon,t.lat]).map((function(e){return Math.round(e/a)*a})));t.lon=i[0],t.lat=i[1];var c={lon:t.lon,lat:t.lat};if(e.has(c))return t.value=(e.get(c)+t.value)/2,e.set(c,t.value),void(n.features.get(c).measuredValue=t.value)}else{var l,u=kr(e.keys());try{for(u.s();!(l=u.n()).done;){var s=l.value;if(r=s,o=t,(0,nr.Sp)([r.lon,r.lat],[o.lon,o.lat])<a)return t.value=(e.get(s)+t.value)/2,e.set(s,t.value),void(n.features.get(s).measuredValue=t.value)}}catch(e){u.e(e)}finally{u.f()}}var f={lon:t.lon,lat:t.lat};e.set(f,t.value),n.features.set(f,n._drawPointFromData(t))})),Mr(Rr(n),"_processNotification",(function(e){var t=n._getStoredData();for(var r in e.body.values)if(n.props.parameters.subscriptions.includes(r)&&null!==e.body.values[r].value){var o=e.body.values[r];n._processData(t,o),n.props.parameters.autoScale&&(o.value>n.props.parameters.threshold&&(o.value<n.props.parameters.minValue||0===n.props.parameters.minValue&&0===n.props.parameters.maxValue)&&n.props.setLayerParameters({minValue:o.value}),o.value>n.props.parameters.maxValue&&n.props.setLayerParameters({maxValue:o.value}))}n._setStoredData(t),n.features.size!==t.size&&n._drawFromStoredData()})),Mr(Rr(n),"_makePoint",(function(e){return new rr.default({geometry:new ot.default((0,Q.Gv)(e))})})),Mr(Rr(n),"_drawPointFromData",(function(e){var t=n._makePoint([e.lon,e.lat]);t.measuredValue=e.value;var r=(n._sourceRef||{}).source;return r&&r.addFeature(t),t})),n._sourceRef=void 0,n.features=new wr,n}return Lr(r,[{key:"componentDidMount",value:function(){this._trySubscribe(this.props.parameters.subscriptions),pr.Z.registerNotificationHandler("DEV-INF",this._processNotification)}},{key:"componentDidUpdate",value:function(){this._drawFromStoredData()}},{key:"componentWillUnmount",value:function(){this._tryUnsubscribe(this.props.parameters.subscriptions),pr.Z.unregisterNotificationHandler("DEV-INF",this._processNotification)}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}}]),r}(o.Component);Mr(Wr,"propTypes",{storageKey:l().string,parameters:l().object,setLayerParameters:l().func});var zr=function(e){_r(r,e);var t=Nr(r);function r(e){var n;return Ir(this,r),(n=t.call(this,e))._colorForValue=n._colorForValue.bind(Rr(n)),n.styleFunction=n.styleFunction.bind(Rr(n)),n}return Lr(r,[{key:"_colorForValue",value:function(e){var t=this.props.layer.parameters,r=t.threshold,n=t.coloringFunction,o=t.minValue,a=t.maxValue,i=t.minHue,c=t.maxHue,l=Gr[n].function,u=l(e),s=l(o),f=l(a);return e<r?"hsla(0, 100%, 100%, 0.5)":"hsla(".concat(i+(f>s?(u-s)/(f-s):0)*(c-i),", 70%, 50%, 0.5)")}},{key:"styleFunction",value:function(e,t){var r=.9/t+1.5;return function(e,t){return new Z.default({image:new q.Z({fill:new L.default({color:e}),radius:t})})}(this._colorForValue(e.measuredValue),r)}},{key:"render",value:function(){var e=this.props.layer.parameters,t=e.minValue,r=e.maxValue,n=e.unit||"";return o.createElement("div",null,o.createElement(f.EY.Vector,{zIndex:this.props.zIndex,style:this.styleFunction},o.createElement(Wr,{storageKey:"".concat(this.props.layerId,"_data"),parameters:this.props.layer.parameters,setLayerParameters:this.props.setLayerParameters})),o.createElement("div",{id:"heatmapScale",style:{background:"linear-gradient(\n              hsla(".concat(this.props.layer.parameters.maxHue,", 70%, 50%, 0.75),\n              hsla(").concat(this.props.layer.parameters.minHue,", 70%, 50%, 0.75)\n            )"),borderRadius:"5px"}},o.createElement("span",null,"".concat(Ur(r)," ").concat(n)),o.createElement("span",null,"".concat(Ur((r+t)/2)," ").concat(n)),o.createElement("span",null,"".concat(Ur(t)," ").concat(n))))}}]),r}(o.Component);Mr(zr,"propTypes",{layer:l().object,layerId:l().string,zIndex:l().number,setLayerParameters:l().func});var Hr=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,y.er)(t.layerId,r))}}}))(zr),qr=(r(69600),r(26774)),Yr=r(64657),$r=r(33983);function Kr(e){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(e)}function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jr(e,t,r){return t&&Qr(e.prototype,t),r&&Qr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function en(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tn(e,t)}function tn(e,t){return tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tn(e,t)}function rn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=an(e);if(t){var o=an(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return nn(this,r)}}function nn(e,t){if(t&&("object"===Kr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return on(e)}function on(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(e){return an=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},an(e)}function cn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ln=function(e){en(r,e);var t=rn(r);function r(e){var n;return Xr(this,r),cn(on(n=t.call(this,e)),"_assignCenterField",(function(e){n._inputFields.center=e})),cn(on(n),"_assignRadiusField",(function(e){n._inputFields.radius=e})),cn(on(n),"_assignSizeField",(function(e){n._inputFields.size=e})),cn(on(n),"_handleClick",(function(){n.props.setLayerParameters({center:n._inputFields.center.value.split(",").map(rt.Z),size:(0,rt.Z)(n._inputFields.size.value),radius:(0,rt.Z)(n._inputFields.radius.value)})})),n._inputFields={},n}return Jr(r,[{key:"render",value:function(){var e=this.props.layer.parameters,t=e.center,r=e.size,n=e.radius,a=t?t.join(", "):"";return o.createElement("div",null,o.createElement(ct.Z,{style:{paddingRight:"1em"},inputRef:this._assignCenterField,label:"Center of the grid",placeholder:"Center (comma separated)",defaultValue:a}),o.createElement(ct.Z,{style:{paddingRight:"1em"},inputRef:this._assignSizeField,label:"Size of the grid",placeholder:"Size",defaultValue:String(r)}),o.createElement(ct.Z,{style:{paddingRight:"1em"},inputRef:this._assignRadiusField,label:"Radius of one cell",placeholder:"Radius",defaultValue:String(n)}),o.createElement("br",null),"\xa0",o.createElement("br",null),o.createElement(it.Z,{onClick:this._handleClick},"Update hex grid"))}}]),r}(o.Component);cn(ln,"propTypes",{layer:l().object,setLayerParameters:l().func});var un=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,y.er)(t.layerId,r))}}}))(ln),sn=function(e){en(r,e);var t=rn(r);function r(){var e;Xr(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return cn(on(e=t.call.apply(t,[this].concat(o))),"_assignSourceRef",(function(t){if(e._sourceRef!==t){if(e._sourceRef)e._sourceRef.source.clear();e._sourceRef=t}})),e}return Jr(r,[{key:"componentDidUpdate",value:function(){if(this._sourceRef){var e=this._sourceRef.source;this._drawHexagonsFromProps(this.props,e)}}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}},{key:"_getCorners",value:function(e,t){return[30,90,150,210,270,330,30].map($r.Yr).map((function(r){return(0,Q.Gv)([e[0]+t*Math.sin(r),e[1]+t*Math.cos(r)])}))}},{key:"_getHexagon",value:function(e,t){return new rr.default({geometry:new je.default([this._getCorners(e,t)])})}},{key:"_drawHexagonsFromProps",value:function(e,t){for(var r,n=e.center,o=e.size,a=e.radius,i={},c=-o;c<=o;c++)for(var l=Math.max(-o,-o-c);l<=Math.min(o,o-c);l++){var u="".concat(c,",").concat(l);i[u]=this._getHexagon([n[0]+1.5*a*c,n[1]-a*Math.sqrt(3)*(.5*c+l)],a),i[u].setId(u)}t.clear(),t.addFeatures((0,Yr.Z)(i));for(var s=0,f=Object.keys(i);s<f.length;s++){var p=f[s],d=p.split(",").map(rt.Z),h=(0,qr.Z)(d.map(Math.abs))/(2*o+1)*115;i[p].setStyle((r="hsla(".concat(h,", 70%, 50%, 0.5)"),new Z.default({fill:new L.default({color:r})})))}}}]),r}(o.PureComponent),fn=function(e){var t=e.layer,r=e.zIndex,n=t.parameters,a=n.center,i=n.size,c=n.radius;return o.createElement("div",null,o.createElement(f.EY.Vector,{zIndex:r},o.createElement(sn,{center:a,size:i,radius:c})),o.createElement("div",{id:"heatmapScale"},o.createElement("span",null,"100%"),o.createElement("span",null,"50%"),o.createElement("span",null,"0%")))};fn.propTypes={layer:l().object,zIndex:l().number};var pn=fn,dn=(r(56977),r(66688)),hn=r(37176),yn=r(35798),mn=r(24849),vn=r(58365),gn=r(18604),bn=r(76406),wn=r(58744),En=r(80274);function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){An(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function An(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kn(){kn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return A()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var s={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(x([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Sn(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}function jn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Cn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){jn(a,n,o,i,c,"next",e)}function c(e){jn(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Pn=function(e){var t=e.active,r=e.save,n=(0,hn.Z)(t);return n&&n!==t&&setTimeout(r,0),null};Pn.propTypes={active:l().string,save:l().func};var In=function(){var e=Cn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=new FileReader;r.addEventListener("load",(function(){e(r.result)})),r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tn=function(){var e=Cn(kn().mark((function e(t){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=new window.Image;r.addEventListener("load",(function(){e({width:r.naturalWidth,height:r.naturalHeight})})),r.src=t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ln=function(e){var t=e.layer.parameters,r=e.mapViewCenterPosition,n=e.selectImage,a=e.updateTransform,i=(0,o.useRef)(),c=(0,o.useCallback)((function(){i.current&&i.current.click()}),[]);(0,o.useEffect)((function(){t.transform.position||a(xn(xn({},t.transform),{},{position:{lon:r[0].toFixed(6),lat:r[1].toFixed(6)}}))}));var l=(0,o.useCallback)((function(){(0,bn.xe)("ImageTransformEditor")}),[]);return o.createElement(dn.l0,{initialValues:xn({},t.transform),onSubmit:a},(function(e){var r=e.handleSubmit;return o.createElement("form",{id:"ImageTransformEditor",onSubmit:r},o.createElement(dn.lP,{subscription:{active:!0,values:!0},component:Pn,save:l}),o.createElement(at.Z,{display:"flex",flexDirection:"row"},t.image.name?o.createElement("img",{src:t.image.data,style:{width:"100%",minWidth:"0",height:"10em",objectFit:"contain"}}):o.createElement(vn.Z,{variant:"rect",width:"100%",height:"10em",onClick:c}),o.createElement(at.Z,{p:.75}),o.createElement(at.Z,{textAlign:"center",margin:"auto",width:"100%"},o.createElement(gn.Z,{ref:i,filter:["image/*"],variant:"contained",startIcon:o.createElement(mn.Z,null),onSelected:n},"Select"),o.createElement(at.Z,{p:.75}),t.image.name?o.createElement(o.Fragment,null,o.createElement("span",null,t.image.name),o.createElement("br",null),o.createElement("span",{style:{fontStyle:"italic"}},t.image.dimensions.width,"\xa0\xd7\xa0",t.image.dimensions.height,"\xa0px")):"Please select an image!")),o.createElement(at.Z,{display:"flex",flexDirection:"row"},o.createElement(bn.LT,{fullWidth:!0,margin:"dense",name:"position.lat",label:"Latitude of center"}),o.createElement(at.Z,{p:.75}),o.createElement(bn.vL,{fullWidth:!0,margin:"dense",name:"position.lon",label:"Longitude of center"})),o.createElement(at.Z,{display:"flex",flexDirection:"row"},o.createElement(bn.g7,{fullWidth:!0,margin:"dense",name:"angle",label:"Angle"}),o.createElement(at.Z,{p:.75}),o.createElement(bn.nv,{fullWidth:!0,type:"number",inputProps:{step:.1},fieldProps:{validate:(0,En.v_)([En.C1,En.yx,En.i1])},InputProps:{endAdornment:o.createElement(ir.Z,{position:"end"},"cm/px")},margin:"dense",name:"scale",label:"Scale",variant:"filled"})),o.createElement("input",{type:"submit",hidden:!0}))}))};Ln.propTypes={layer:l().object,mapViewCenterPosition:l().arrayOf(l().number),selectImage:l().func,updateTransform:l().func};var _n=(0,u.$j)((function(e){return{mapViewCenterPosition:(0,wn.zn)(e)}}),(function(e,t){return{selectImage:function(r){return Cn(kn().mark((function n(){var o;return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,In(r);case 2:return o=n.sent,n.t0=e,n.t1=y.er,n.t2=t.layerId,n.t3=o,n.t4=r.name,n.next=10,Tn(o);case 10:n.t5=n.sent,n.t6={data:n.t3,name:n.t4,dimensions:n.t5},n.t7={image:n.t6},n.t8=(0,n.t1)(n.t2,n.t7),(0,n.t0)(n.t8);case 15:case"end":return n.stop()}}),n)})))()},updateTransform:function(r){var n={position:{lon:Number(r.position.lon),lat:Number(r.position.lat)},angle:Number(r.angle),scale:Number(r.scale)};e((0,y.er)(t.layerId,{transform:n}))}}}))(Ln),Zn=function(e){var t=e.layer.parameters,r=t.image,n=t.transform,a=n.position,i=n.angle,c=n.scale,l=e.zIndex;return a?o.createElement(f.EY.GeoImage,{zIndex:l},o.createElement(f.qz.GeoImage,{url:r.data,imageCenter:(0,Q.Gv)([a.lon,a.lat]),imageRotate:(0,Ne.Yr)(i),imageScale:c/(0,yn._Q)("EPSG:3857",100,(0,Q.Gv)([a.lon,a.lat]))})):null};Zn.propTypes={layer:l().object,zIndex:l().number};var Nn=Zn,Dn=(r(9494),r(30845)),Rn=r(91900),Fn=r(13258),Mn=r(66999),Un=r(96894),Gn=r(97594),Vn=r(59269),Bn=r(29802),Wn=r(91238);function zn(e){return function(e){if(Array.isArray(e))return Hn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qn=new Z.default({stroke:(0,te.bP)(K.ZP.plannedTrajectory)}),Yn=[[qn],[new Z.default({stroke:te.Gz}),qn]],$n=function(e,t,r){var n=r?[0,5]:[0,-10];return new Z.default({geometry:new ot.default(e),image:new pe.Z({points:3,fill:(0,te.hl)(K.ZP.plannedTrajectory),rotateWithView:!0,radius:10,scale:[.75,1],rotation:t,displacement:n})})},Kn=function(e,t){return Math.PI/2-Math.atan2(t[1]-e[1],t[0]-e[0])};function Xn(e){return e?(t=e.map((function(e){return(0,Q.Gv)([e.lon,e.lat])})),(0,Wn.default)(t,(function(e,r){return r>0&&e[0]===t[r-1][0]&&e[1]===t[r-1][1]}))):void 0;var t}function Qn(e){var t=Yn[0],r=Array.isArray(e)?e.length:0;if(r>=2){var n=Kn(e[0],e[1]),o=Kn(e[r-2],e[r-1]);t=[].concat(zn(t),[$n(e[0],n,!0),$n(e[r-1],o)])}return t}var Jn=function(e){var t=e.source,r=e.trajectory,n=e.uavId,a=(0,o.useMemo)((function(){return Xn(r)}),[r]),i=(0,o.useMemo)((function(){return Qn(a)}),[a]);return a?o.createElement(f.L0,{id:(0,J.Bg)(n),source:t,style:i},o.createElement(f.J7.LineString,{coordinates:a})):null};Jn.propTypes={source:l().any,trajectory:l().arrayOf(Bn.Z.coordinate),uavId:l().string};const eo=(0,u.$j)((function(e,t){var r=t.uavId;return{trajectory:(0,Un.RO)(e,r)}}),{})(Jn);var to=function(e){var t=e.source,r=e.trajectory,n=e.missionIndex,a=(0,o.useMemo)((function(){return Xn(r)}),[r]),i=(0,o.useMemo)((function(){return Qn(a)}),[a]);return a?o.createElement(f.L0,{id:(0,J.Bg)(n),source:t,style:i},o.createElement(f.J7.LineString,{coordinates:a})):null};to.propTypes={source:l().any,trajectory:l().arrayOf(Bn.Z.coordinate),missionIndex:l().string};const ro=(0,u.$j)((function(e,t){var r=t.missionIndex;return{trajectory:(0,Mn.KT)(e,r)}}),{})(to),no=r.p+"a1dd466ef5fec4212608.svg";var oo=["layer","zIndex"];function ao(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function io(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=lo(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function co(e){return function(e){if(Array.isArray(e))return uo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){if(e){if("string"==typeof e)return uo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uo(e,t):void 0}}function uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var so=function(e){var t=e.layer,r=e.setLayerParameters,n=t.parameters||{},a=n.showConvexHull,i=n.showOrigin,c=n.showHomePositions,l=n.showLandingPositions,u=n.showMissionOrigin,s=n.showTrajectoriesOfSelection,f=function(e){return function(t){return r((n={},o=e,a=t.target.checked,o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n));var n,o,a}};return o.createElement(ar.Z,null,o.createElement(p.Z,{control:o.createElement(Fn.Z,{checked:i,value:"showOrigin",onChange:f("showOrigin")}),label:"Show map origin"}),o.createElement(p.Z,{control:o.createElement(Fn.Z,{checked:u,value:"showMissionOrigin",onChange:f("showMissionOrigin")}),label:"Show mission origin"}),o.createElement(p.Z,{control:o.createElement(Fn.Z,{checked:c,value:"showHomePositions",onChange:f("showHomePositions")}),label:"Show home positions"}),o.createElement(p.Z,{control:o.createElement(Fn.Z,{checked:l,value:"showLandingPositions",onChange:f("showLandingPositions")}),label:"Show landing positions"}),o.createElement(p.Z,{control:o.createElement(Fn.Z,{checked:a,value:"showConvexHull",onChange:f("showConvexHull")}),label:"Show convex hull of trajectories"}),o.createElement(p.Z,{control:o.createElement(Fn.Z,{checked:s,value:"showTrajectoriesOfSelection",onChange:f("showTrajectoriesOfSelection")}),label:"Show trajectories of selected drones"}))};so.propTypes={layer:l().object,setLayerParameters:l().func};var fo=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,y.er)(t.layerId,r))}}}))(so);function po(e){e&&((0,ee.Bl)(e.layer),(0,ee._K)(e.layer))}var ho=(0,te.Go)(K.ZP.axes.x,2),yo=(0,te.Go)(K.ZP.axes.y,2),mo=(0,te.hl)(K.ZP.markers.origin),vo=(0,te.hl)(K.ZP.markers.takeoff),go=(0,te.hl)(K.ZP.markers.landing),bo=function(e,t){return[new Z.default({geometry:function(e){var t=e.getGeometry().getFirstCoordinate();return new ot.default(t)},image:new q.Z({fill:mo,radius:8,stroke:e?te.Gz:te.RU})}),new Z.default({stroke:"x"===t?ho:yo})]},wo=function(e,t){var r=(0,J.mK)(e.getId()),n={image:new pe.Z({fill:vo,points:3,radius:6,stroke:te.dv})};return t<.4&&(n.text=new N.default({font:"12px sans-serif",offsetY:12,text:(0,Vn.Bq)(Number.parseInt(r,10)),textAlign:"center"})),new Z.default(n)},Eo=function(e,t){var r=(0,J.K5)(e.getId()),n={image:new pe.Z({fill:go,points:3,radius:6,rotation:Math.PI,stroke:te.dv})};return t<.4&&(n.text=new N.default({font:"12px sans-serif",offsetY:-12,text:(0,Vn.Bq)(Number.parseInt(r,10)),textAlign:"center"})),new Z.default(n)},So=(0,Dn.Z)((function(e){return new Z.default({image:new D.Z({src:no,rotateWithView:!0,rotation:(0,Ne.Yr)(e),snapToPixel:!1})})})),Oo=new Z.default({stroke:(0,te.bP)(K.ZP.convexHull)}),xo=[[Oo],[new Z.default({stroke:te.Gz}),Oo]],Ao=(0,Gn.VL)((0,J.ZX)(J.Y9)),ko=function(e){var t=e.convexHull,r=e.coordinateSystemType,n=e.homePositions,a=e.isConvexHullSelected,i=e.landingPositions,c=e.missionSlotIdsForTrajectories,l=e.missionOrientation,u=e.missionOrigin,s=e.orientation,p=e.origin,d=e.selectedOriginIds,h=e.uavIdsForTrajectories,y=[];if(Array.isArray(i)&&y.push.apply(y,co(i.map((function(e,t){var r="land.".concat(t);if(!e)return null;var n=(0,J.HL)(t),a=(0,Q.Gv)([e.lon,e.lat]);return o.createElement(f.L0,{key:r,id:n,style:Eo},o.createElement(f.J7.Point,{coordinates:a}))})).filter(Boolean))),Array.isArray(n)&&y.push.apply(y,co(n.map((function(e,t){var r="home.".concat(t);if(!e)return null;var n=(0,J.lP)(t),a=(0,Q.Gv)([e.lon,e.lat]);return o.createElement(f.L0,{key:r,id:n,style:wo},o.createElement(f.J7.Point,{coordinates:a}))})).filter(Boolean))),p){var m=(0,J.M9)(J.R),v=(0,Q.Gv)(p),g=50/(0,yn._Q)("EPSG:3857",1,v),b=[0,"nwu"===r?g:-g],w=[g,0],E=d.includes(J.R)||d.includes(J.R+"$y");Rn.U1(w,(0,Ne.Yr)(90-s)),Rn.U1(b,(0,Ne.Yr)(90-s)),Rn.IH(b,v),Rn.IH(w,v),y.push(o.createElement(f.L0,{key:"mapOrigin.x",id:m,style:bo(E,"x")},o.createElement(f.J7.LineString,{coordinates:[v,w]})),o.createElement(f.L0,{key:"mapOrigin.y",id:m+"$y",style:bo(E,"y")},o.createElement(f.J7.LineString,{coordinates:[v,b]})))}if(u){var S=(0,J.M9)(J.tr),O=(0,Q.Gv)(u);y.push(o.createElement(f.L0,{key:"missionOrigin",id:S,style:So(l)},o.createElement(f.J7.Point,{coordinates:O})))}if(t){var x=(0,J.ZX)(J.Y9),A=t.map((function(e){return(0,Q.Gv)([e.lon,e.lat])}));(0,Ne.y6)(A),y.push(o.createElement(f.L0,{key:"missionConvexHull",id:x,style:xo[a?1:0]},o.createElement(f.J7.LineString,{coordinates:A})))}if(Array.isArray(h)&&h.length>0){var k,j=io(h);try{for(j.s();!(k=j.n()).done;){var C=k.value;y.push(o.createElement(eo,{key:"trajectory.".concat(C),uavId:C}))}}catch(e){j.e(e)}finally{j.f()}}if(Array.isArray(c)&&c.length>0){var P,I=io(c);try{for(I.s();!(P=I.n()).done;){var T=P.value;y.push(o.createElement(ro,{key:"trajectory.s".concat(T),missionIndex:T}))}}catch(e){I.e(e)}finally{I.f()}}return o.createElement(f.qz.Vector,null,y)};ko.propTypes={convexHull:l().arrayOf(Bn.Z.coordinate),coordinateSystemType:l().oneOf(["neu","nwu"]),homePositions:l().arrayOf(Bn.Z.coordinate),isConvexHullSelected:l().bool,landingPositions:l().arrayOf(Bn.Z.coordinate),missionSlotIdsForTrajectories:l().arrayOf(l().string),missionOrientation:Bn.Z.angle,missionOrigin:l().arrayOf(l().number),orientation:Bn.Z.angle,origin:l().arrayOf(l().number),selectedOriginIds:l().arrayOf(l().string),uavIdsForTrajectories:l().arrayOf(l().string)},ko.defaultProps={orientation:0};var jo=function(e){e.layer;var t=e.zIndex,r=ao(e,oo);return o.createElement(f.EY.Vector,{ref:po,updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:t},o.createElement(ko,r))};jo.propTypes={layer:l().object,zIndex:l().number};var Co=(0,u.$j)((function(e,t){var r,n,o,a,i,c,l,u=t.layer;return{convexHull:null!=u&&null!==(r=u.parameters)&&void 0!==r&&r.showConvexHull?(0,Mn.SR)(e):void 0,coordinateSystemType:e.map.origin.type,homePositions:null!=u&&null!==(n=u.parameters)&&void 0!==n&&n.showHomePositions?(0,Te.x_)(e):void 0,isConvexHullSelected:Ao(e),landingPositions:null!=u&&null!==(o=u.parameters)&&void 0!==o&&o.showLandingPositions?(0,Te.Kj)(e):void 0,missionSlotIdsForTrajectories:null!=u&&null!==(a=u.parameters)&&void 0!==a&&a.showTrajectoriesOfSelection?(0,Te.g3)(e):void 0,missionOrigin:null!=u&&null!==(i=u.parameters)&&void 0!==i&&i.showMissionOrigin?(0,Mn._$)(e):void 0,missionOrientation:(0,Mn.nB)(e),orientation:(0,wn.Xq)(e),origin:(null==u||null===(c=u.parameters)||void 0===c?void 0:c.showOrigin)&&e.map.origin.position,selectedOriginIds:(0,Gn.xl)(e),uavIdsForTrajectories:null!=u&&null!==(l=u.parameters)&&void 0!==l&&l.showTrajectoriesOfSelection?(0,Un.G7)(e):void 0}}),{})(jo);function Po(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function To(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _o=(0,r(76415).ZP)("OwnLocationLayer"),Zo=function(e){var t=e.layer.parameters,r=t.showAccuracy,n=t.showOrientation,a=e.setLayerParameters,i=function(e){return function(t){return a((r={},n=e,o=t.target.checked,n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r));var r,n,o}};return o.createElement(ar.Z,null,o.createElement(p.Z,{control:o.createElement(Fn.Z,{checked:r,value:"showAccuracy",onChange:i("showAccuracy")}),label:"Show accuracy"}),o.createElement(p.Z,{control:o.createElement(Fn.Z,{checked:n,value:"showOrientation",onChange:i("showOrientation")}),label:"Show orientation"}))};Zo.propTypes={layer:l().object,setLayerParameters:l().func};var No=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,y.er)(t.layerId,r))}}}))(Zo),Do=function(e){var t=e.layer.parameters,r=t.showAccuracy,n=t.showOrientation,a=e.zIndex,i=To((0,o.useState)(null),2),c=i[0],l=i[1],u=(0,o.useCallback)((function(e){l(e.target.getPosition())}),[l]),s=(0,o.useMemo)((function(){return new Z.default({image:new q.Z({radius:8,fill:new L.default({color:"#00AEEF"}),stroke:new _.default({color:"#fff",width:2})})})}),[]),p=To((0,o.useState)(null),2),d=p[0],h=p[1],y=(0,o.useCallback)((function(e){h(e.target.getAccuracyGeometry().getLinearRing(0).getCoordinates())}),[h]),m=(0,o.useMemo)((function(){return new Z.default({fill:new L.default({color:"rgba(255, 255, 255, 0.35)"}),stroke:new _.default({color:"#00AEEF",width:2})})}),[]),v=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).absolute,t=void 0!==e&&e,r=Po((0,o.useState)(null),2),n=r[0],a=r[1];return(0,o.useEffect)((function(){var e=t?"deviceorientationabsolute":"deviceorientation";return window.addEventListener(e,a),function(){window.removeEventListener(e,a)}}),[t]),n}({absolute:!0}),g=(0,o.useMemo)((function(){return new Z.default({image:new pe.Z({points:3,fill:new L.default({color:"#00AEEF"}),stroke:new _.default({color:"#fff",width:2}),rotateWithView:!0,radius:8,scale:[.75,1],rotation:v?(0,Ne.Yr)(-v.alpha):0,displacement:[0,11]})})}),[v]),b=(0,o.useCallback)((function(e){_o.warn("Error while getting position: ".concat(e.message))}),[]);return o.createElement(f.EY.Vector,{updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:a},o.createElement(f.bT,{changePosition:u,changeAccuracyGeometry:y,projection:"EPSG:3857",error:b}),o.createElement(f.qz.Vector,null,r&&d?o.createElement(f.L0,{id:"own-location-accuracy",style:m},o.createElement(f.J7.Polygon,{coordinates:d})):null,n&&c?o.createElement(f.L0,{id:"own-location-orientation",style:g},o.createElement(f.J7.Point,{coordinates:c})):null,c?o.createElement(f.L0,{id:"own-location-position",style:s},o.createElement(f.J7.Point,{coordinates:c})):null))};Do.propTypes={layer:l().object,zIndex:l().number};var Ro=r(38799);function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function Mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Go(e,t,r){return t&&Uo(e.prototype,t),r&&Uo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bo(e,t)}function Bo(e,t){return Bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bo(e,t)}function Wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=qo(e);if(t){var o=qo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zo(this,r)}}function zo(e,t){if(t&&("object"===Fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ho(e)}function Ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qo(e)}function Yo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $o=function(e){Vo(r,e);var t=Wo(r);function r(e){var n;Mo(this,r),Yo(Ho(n=t.call(this,e)),"_onLayersChanged",(function(e){n.setState({layers:e.target.value})})),Yo(Ho(n),"_onUrlChanged",(function(e){n.setState({url:e.target.value})})),Yo(Ho(n),"_handleClick",(function(){var e=n.state,t=e.layers,r=e.url;n.props.setLayerParameters({layers:t,url:r}),n.props.showMessage("Layer settings saved successfully.")}));var o=e.layer.parameters,a=o.layers,i=o.url;return n.state={layers:a||"",url:i||""},n}return Go(r,[{key:"render",value:function(){var e=ee.kP.map((function(e){return o.createElement(lr.Z,{key:e,value:e},e.toUpperCase())})),t=this.props,r=t.changeTileServerType,n=t.layer,a=this.state,i=a.url,c=a.layers,l=n.parameters;return o.createElement("div",null,o.createElement(or.Z,{fullWidth:!0},o.createElement(cr.Z,{htmlFor:"tile-server-type"},"Tile server type"),o.createElement(sr.Z,{value:l.type,input:o.createElement(Ro.Z,{id:"tile-server-type"}),onChange:r},e)),o.createElement(ct.Z,{fullWidth:!0,label:"Tile server URL",margin:"normal",value:i,onChange:this._onUrlChanged}),l.type===ee.OH.XYZ?o.createElement("div",null,o.createElement("small",null,"Use ",o.createElement("code",null,"{x}"),", ",o.createElement("code",null,"{y}"),",",o.createElement("code",null,"{-y}")," and ",o.createElement("code",null,"{z}")," in the server URL template for the x and y coordinates and the zoom level. Use tokens like",o.createElement("code",null,"{a-c}")," to denote multiple servers handling the same tileset.")):o.createElement(ct.Z,{fullWidth:!0,label:"Layers",margin:"normal",placeholder:"Layers to show (comma-separated)",value:c,onChange:this._onLayersChanged}),o.createElement("div",{style:{textAlign:"center",paddingTop:"1em"}},o.createElement(it.Z,{onClick:this._handleClick},"Save settings")))}}]),r}(o.Component);Yo($o,"propTypes",{layer:l().object.isRequired,changeTileServerType:l().func,setLayerParameters:l().func,showMessage:l().func});var Ko=(0,u.$j)(null,(function(e,t){return{changeTileServerType:function(r){e((0,y.er)(t.layerId,{type:r.target.value}))},setLayerParameters:function(r){e((0,y.er)(t.layerId,r))},showMessage:function(t){e((0,wt.c)(t))}}}))($o),Xo=function(e){Vo(r,e);var t=Wo(r);function r(){return Mo(this,r),t.apply(this,arguments)}return Go(r,[{key:"render",value:function(){var e=this._sourceFromParameters(this.props.layer.parameters);return o.createElement("div",null,o.createElement(f.EY.Tile,{zIndex:this.props.zIndex},e))}},{key:"_sourceFromParameters",value:function(e){var t=e.type,r=e.url,n=e.layers;switch(t){case ee.OH.WMS:return o.createElement(f.qz.TileWMS,{url:r,params:{LAYERS:n,TILED:!0}});case ee.OH.XYZ:return o.createElement(f.qz.XYZ,{url:r});case ee.OH.TILE_CACHE:var a=(r&&r.length>0&&"/"===r.charAt(r.length-1)?r:r+"/")+"1.0.0/"+n+"/{z}/{x}/{-y}.png";return o.createElement(f.qz.XYZ,{url:a});default:return[]}}}]),r}(o.Component);Yo(Xo,"propTypes",{layer:l().object,zIndex:l().number});var Qo=Xo,Jo=r(75491),ea=r(44176),ta=r(90096),ra=r(1295),na=r(92414),oa=r(69203),aa=r(82940),ia=r.n(aa);function ca(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function la(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ua=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),la(this,"createOrUpdateFeatureById",(function(e,t){t=n.projection?n.projection(t):t;var r=n.getFeatureById(e)||n._createFeatureById(e,t);return r.getGeometry().setCoordinates(t),r})),la(this,"_createFeatureById",(function(e,t){var r=new ot.default(t),o=n._featureFactory?n._featureFactory(e,r):new rr.default(r),a=n._featureIdFunction(e);return o.setId(a),n._featuresByObjectId[e]=o,n._vectorSource&&n._vectorSource.addFeature(o),n.featureAdded.dispatch(o),o})),la(this,"getFeatureById",(function(e){return n._featuresByObjectId[e]})),la(this,"getFeatureArray",(function(){return(0,Yr.Z)(n._featuresByObjectId)})),la(this,"removeAllFeatures",(function(){n._vectorSource&&n._vectorSource.clear(),n._featuresByObjectId={}})),la(this,"removeFeatureById",(function(e){var t=n.getFeatureById(e);return t&&n._vectorSource&&n._vectorSource.removeFeature(t),delete n._featuresByObjectId[e],t})),this._featuresByObjectId={},this._featureFactory=void 0,this._featureIdFunction=oa.default,this._vectorSource=t,this.projection=r,this.featureAdded=new(ia()),this.featureRemoved=new(ia())}var t,r,n;return t=e,(r=[{key:"featureFactory",get:function(){return this._featureFactory},set:function(e){this._featureFactory=e}},{key:"featureIdFunction",get:function(){return this._featureIdFunction},set:function(e){this._featureIdFunction=e}},{key:"vectorSource",get:function(){return this._vectorSource},set:function(e){var t=this;this._vectorSource!==e&&(this._vectorSource&&this._vectorSource.clear(),this._vectorSource=e,this._vectorSource&&(0,na.Z)(this._featuresByObjectId,(function(e){return t._vectorSource.addFeature(e)})))}}])&&ca(t.prototype,r),n&&ca(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const sa=r.p+"c56587927ae56c9f1fda.png",fa=r.p+"aa4f81a03c0266969f2f.png",pa=r.p+"dbf5668680c9e570435b.png",da=r.p+"fd785e824996906d5f26.png",ha=r.p+"da17a5e486c03be05d7f.png";var ya,ma=r(76206);function va(e){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}function ga(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ba(e,t){return ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ba(e,t)}function wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Sa(e);if(t){var o=Sa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ea(this,r)}}function Ea(e,t){if(t&&("object"===va(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sa(e)}function Oa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xa=(Oa(ya={},ma.zb.INFO,fa),Oa(ya,ma.zb.WARNING,pa),Oa(ya,ma.zb.ERROR,da),Oa(ya,ma.zb.CRITICAL,da),ya),Aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ba(e,t)}(a,e);var t,r,n,o=wa(a);function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=o.call(this,t))._selected=!1,r._color="",r._labelColor="",r._heading=0,r._status=null,r.uavId=e,r._setupStyle(),r}return t=a,r=[{key:"heading",get:function(){return this._heading},set:function(e){if(this._heading!==e&&(this._heading=e,this._iconImage)){var t=this._headingToRotation();this._iconImage.setRotation(t),this._selectionImage.setRotation(t)}}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected!==e&&(this._selected=e,this._setupStyle())}},{key:"color",get:function(){return this._color},set:function(e){this._color!==e&&(this._color=e,this._setupStyle())}},{key:"labelColor",get:function(){return this._labelColor},set:function(e){this._labelColor!==e&&(this._labelColor=e,this._setupStyle())}},{key:"status",get:function(){return this._status},set:function(e){this._status!==e&&(this._status=e,this._setupStyle())}},{key:"_setupStyle",value:function(){var e=[],t=new D.Z({rotateWithView:!0,rotation:this._headingToRotation(),snapToPixel:!1,src:xa[this._status]||sa});this._iconImage=t;var r=new Z.default({image:t});e.push(r);var n=new D.Z({rotateWithView:!0,rotation:this._headingToRotation(),snapToPixel:!1,src:ha});this._selectionImage=n;var o=new Z.default({image:n});this._selected&&e.splice(0,0,o);var a=new Z.default({text:new N.default({fill:new L.default({color:this._labelColor&&this._labelColor.length>0?this._labelColor:"black"}),font:"12px sans-serif",offsetY:24,text:this.uavId||"undefined",textAlign:"center"})});e.push(a),this.setStyle(e)}},{key:"_headingToRotation",value:function(e){return void 0===e&&(e=this._heading),(0,Ne.Yr)(e%360)}}],r&&ga(t.prototype,r),n&&ga(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(rr.default),ka=r(57606);function ja(e){return ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(e)}function Ca(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Pa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pa(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ia(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ta(e,t){return Ta=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ta(e,t)}function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Na(e);if(t){var o=Na(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _a(this,r)}}function _a(e,t){if(t&&("object"===ja(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Za(e)}function Za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Na(e){return Na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Na(e)}function Da(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ra=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ta(e,t)}(i,e);var t,r,n,a=La(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Da(Za(t=a.call(this,e)),"_assignSourceRef",(function(e){e!==t._sourceRef&&(t._sourceRef&&(t._featureManager.vectorSource=void 0),t._sourceRef=e,t._sourceRef&&(t._featureManager.vectorSource=e.source))})),Da(Za(t),"_onFeatureAdded",(function(e){e.selected=(0,ta.Z)(t.props.selection,e.getId())})),Da(Za(t),"_onFlockMaybeChanged",(function(e,r){e!==r&&(e&&(e.uavsUpdated.detach(t.eventBindings.uavsUpdated),delete t.eventBindings.uavsUpdated,e.uavsRemoved.detach(t.eventBindings.uavsRemoved),delete t.eventBindings.uavsRemoved,t._featureManager.removeAllFeatures()),r&&(t.eventBindings.uavsUpdated=r.uavsUpdated.add(t._onUAVsUpdated),t.eventBindings.uavsRemoved=r.uavsRemoved.add(t._onUAVsRemoved),t._onUAVsUpdated(r.getAllUAVs())))})),Da(Za(t),"_onSelectionMaybeChanged",(function(e,r){if(t._sourceRef){var n,o=t._sourceRef.source,a=o.getFeatureById.bind(o),i=Ca((0,ea.Z)(r,e).map(a).filter(Boolean));try{for(i.s();!(n=i.n()).done;){n.value.selected=!0}}catch(e){i.e(e)}finally{i.f()}var c,l=Ca((0,ea.Z)(e,r).map(a).filter(Boolean));try{for(l.s();!(c=l.n()).done;){c.value.selected=!1}}catch(e){l.e(e)}finally{l.f()}}})),Da(Za(t),"_onLabelColorMaybeChanged",(function(e,r){if(e!==r){var n,o=Ca(t._featureManager.getFeatureArray());try{for(o.s();!(n=o.n()).done;){n.value.labelColor=r}}catch(e){o.e(e)}finally{o.f()}}})),Da(Za(t),"_onUAVsRemoved",(function(e){var r,n=Ca(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;t._featureManager.removeFeatureById(o.id)}}catch(e){n.e(e)}finally{n.f()}})),Da(Za(t),"_onUAVsUpdated",(function(e){var r,n=Ca(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(0!==o.lon||0!==o.lat){var a=t._featureManager.createOrUpdateFeatureById(o.id,[o.lon,o.lat]);void 0!==o.heading&&(a.heading=o.heading),a.status=(0,Un.nK)(o),a.labelColor=t.props.labelColor}}}catch(e){n.e(e)}finally{n.f()}})),t._sourceRef=void 0,t._featureManager=new ua,t._featureManager.featureFactory=function(e,t){return new Aa(e,t)},t._featureManager.featureIdFunction=J.TB,t._featureManager.featureAdded.add(t._onFeatureAdded),t.eventBindings={},t}return t=i,(r=[{key:"componentDidUpdate",value:function(e){this._onFlockMaybeChanged(e.flock,this.props.flock),this._onSelectionMaybeChanged(e.selection,this.props.selection),this._onLabelColorMaybeChanged(e.labelColor,this.props.labelColor),this._featureManager.projection=this.props.projection}},{key:"componentDidMount",value:function(){this.props.layer&&((0,ee._K)(this.props.layer),(0,ee.qc)(this.props.layer)),this._featureManager.projection=this.props.projection,this._onFlockMaybeChanged(void 0,this.props.flock),this._onSelectionMaybeChanged(void 0,this.props.selection)}},{key:"componentWillUnmount",value:function(){this._onFlockMaybeChanged(this.props.flock,void 0),this._onSelectionMaybeChanged(this.props.selection,void 0),this._featureManager.projection=void 0}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}}])&&Ia(t.prototype,r),n&&Ia(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);Da(Ra,"propTypes",{flock:l().instanceOf(ka.Z),labelColor:l().string,layer:l().instanceOf(ra.default),projection:l().func,selection:l().arrayOf(l().string).isRequired});const Fa=(0,f.VP)(Ra);var Ma=r(32779),Ua=r(286),Ga=function(e){var t=e.layer,r=e.setLayerParameters,n=(t.parameters||{}).labelColor,a=(0,o.useCallback)((function(e){r({labelColor:e.hex})}),[r]);return o.createElement(o.Fragment,null,o.createElement(Jo.Z,null,"Label color"),o.createElement(Ma.Z,{color:n||"#000000",onChangeComplete:a}))};Ga.propTypes={layer:l().object,setLayerParameters:l().func};var Va=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,y.er)(t.layerId,r))}}}))(Ga),Ba=function(e){var t=e.layer,r=e.projection,n=e.selection,a=e.zIndex;return o.createElement(f.EY.Vector,{updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:a},o.createElement(Fa,{selection:n,labelColor:t.parameters.labelColor,flock:Ua.ZP,projection:r}))};Ba.propTypes={layer:l().object,zIndex:l().number,selection:l().arrayOf(l().string).isRequired,projection:l().func},Ba.defaultProps={projection:Q.Gv};var Wa=(0,u.$j)((function(e){return{selection:(0,Gn.Mf)(e)}}),{})(Ba),za=(r(35192),r(92083));function Ha(e){return Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ha(e)}function qa(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Ya(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ya(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qa(e,t,r){return t&&Xa(e.prototype,t),r&&Xa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ja(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ei(e,t)}function ei(e,t){return ei=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ei(e,t)}function ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oi(e);if(t){var o=oi(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ri(this,r)}}function ri(e,t){if(t&&("object"===Ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ni(e)}function ni(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oi(e){return oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oi(e)}function ai(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ii=function(e){Ja(r,e);var t=ti(r);function r(){var e;Ka(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return ai(ni(e=t.call.apply(t,[this].concat(o))),"_onColorChanged",(function(t){e.props.setLayerParameters({trailColor:t.hex})})),ai(ni(e),"_onTrailLengthChanged",(function(t){var r=(0,rt.Z)(t.target.value);r>0&&Number.isFinite(r)&&e.props.setLayerParameters({trailLength:r})})),ai(ni(e),"_onTrailWidthChanged",(function(t){var r=(0,rt.Z)(t.target.value);r>0&&r<20&&e.props.setLayerParameters({trailWidth:r})})),e}return Qa(r,[{key:"render",value:function(){var e=this.props.layer,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(r),!0).forEach((function(t){ai(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({trailColor:te.lr,trailLength:10,trailWidth:2},e.parameters),r=t.trailColor,n=t.trailLength,a=t.trailWidth;return o.createElement("div",null,o.createElement(ct.Z,{style:{paddingRight:"1em",width:150},label:"Trail length",placeholder:"Samples",type:"number",value:n,onChange:this._onTrailLengthChanged}),o.createElement(ct.Z,{style:{paddingRight:"1em",width:150},label:"Trail width",placeholder:"Pixels",type:"number",value:a,onChange:this._onTrailWidthChanged}),o.createElement("div",{style:{paddingTop:"0.5em"}},o.createElement(Ma.Z,{color:r||te.lr,onChangeComplete:this._onColorChanged})))}}]),r}(o.Component);ai(ii,"propTypes",{layer:l().object,setLayerParameters:l().func});var ci=(0,u.$j)(null,(function(e,t){return{setLayerParameters:function(r){e((0,y.er)(t.layerId,r))}}}))(ii),li=function(e){Ja(r,e);var t=ti(r);function r(e){var n;return Ka(this,r),ai(ni(n=t.call(this,e)),"_assignSourceRef",(function(e){e!==n._sourceRef&&(n._sourceRef&&n._sourceRef.source.clear(),n._sourceRef=e,n._sourceRef&&n._sourceRef.source.addFeatures(n.features))})),ai(ni(n),"_handleUpdate",(function(e){var t,r=qa(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;o._id in n.lineStringsById?n.lineStringsById[o._id].appendCoordinate((0,Q.Gv)([o.lon,o.lat])):(n.lineStringsById[o._id]=new za.default([(0,Q.Gv)([o.lon,o.lat])]),n._registerNewFeature(new rr.default(n.lineStringsById[o._id])));for(;n.lineStringsById[o._id].getCoordinates().length>n.props.trailLength;)n.lineStringsById[o._id].setCoordinates(n.lineStringsById[o._id].getCoordinates().slice(1))}}catch(e){r.e(e)}finally{r.f()}})),ai(ni(n),"_registerNewFeature",(function(e){n._updateFeatureStyle(e),n.features.push(e),n._sourceRef&&n._sourceRef.source.addFeature(e)})),ai(ni(n),"_updateFeatureStyle",(function(e){e.setStyle(new Z.default({stroke:(0,te.Go)(n.props.trailColor,n.props.trailWidth)}))})),n.features=[],n.lineStringsById={},n._sourceRef=void 0,Ua.ZP.uavsUpdated.add(n._handleUpdate),n}return Qa(r,[{key:"componentDidUpdate",value:function(){if(this._sourceRef){var e,t=qa(this._sourceRef.source.getFeatures());try{for(t.s();!(e=t.n()).done;){var r=e.value;this._updateFeatureStyle(r)}}catch(e){t.e(e)}finally{t.f()}}}},{key:"render",value:function(){return o.createElement(f.qz.Vector,{ref:this._assignSourceRef})}}]),r}(o.Component);ai(li,"propTypes",{trailLength:l().number,trailColor:l().string,trailWidth:l().number});var ui=function(e){var t=e.layer,r=e.zIndex;return o.createElement(f.EY.Vector,{updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:r},o.createElement(li,{trailLength:t.parameters.trailLength,trailColor:t.parameters.trailColor,trailWidth:t.parameters.trailWidth}))};ui.propTypes={layer:l().object,zIndex:l().number};var si=ui,fi=(r(70189),r(18463)),pi=r(94697),di=r(41749),hi=r(22318),yi=r(41437);function mi(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return vi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vi(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gi=function(e){var t,r=[],n=new Set((0,yi.us)(e).map((function(e){return e.type}))),o=mi(ee.og);try{for(o.s();!(t=o.n()).done;){var a=t.value;!(0,ee.om)(a)&&n.has(a)||r.push(a)}}catch(e){o.e(e)}finally{o.f()}return r},bi=function(e){var t=e.enabledLayerTypes,r=e.layerTypes,n=e.onLayerTypeSelected,a=r.map((function(e){var r=t.includes(e);return o.createElement(di.Z,{key:e,item:!0,xs:8,sm:4},o.createElement(fi.Z,{style:{cursor:r?"pointer":"auto",height:"100%",userSelect:"none",opacity:r?1:.54},elevation:r?1:0,variant:r?"outlined":"elevation",onClick:r?function(){return n(e)}:null},o.createElement(pi.Z,{avatar:(0,ee.gc)(e),title:(0,ee.DT)(e),style:{paddingLeft:16,paddingRight:16,height:"100%"}})))}));return o.createElement(at.Z,{display:"flex",flexDirection:"column"},o.createElement(hi.Z,{gutterBottom:!0,variant:"subtitle1",component:"p"},"Pick a layer type"),o.createElement(di.Z,{container:!0,flex:"1",alignItems:"stretch",justifyContent:"flex-start",spacing:2},a))};bi.propTypes={layer:l().object,layerId:l().string,layerTypes:l().arrayOf(l().string),enabledLayerTypes:l().arrayOf(l().string),onLayerTypeSelected:l().func};var wi,Ei,Si=(0,u.$j)((function(e){return{layerTypes:ee.og,enabledLayerTypes:gi(e)}}),(function(e,t){return{onLayerTypeSelected:function(r){e((0,y.tB)(t.layerId,r))}}}))(bi),Oi=(0,u.$j)(null,{})((function(){return null}));function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function Ai(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ki=(Ai(wi={},ee.F5.BASE,M),Ai(wi,ee.F5.GEOJSON,Ft),Ai(wi,ee.F5.HEATMAP,Br),Ai(wi,ee.F5.HEXGRID,un),Ai(wi,ee.F5.IMAGE,_n),Ai(wi,ee.F5.MISSION_INFO,fo),Ai(wi,ee.F5.OWN_LOCATION,No),Ai(wi,ee.F5.TILE_SERVER,Ko),Ai(wi,ee.F5.UAVS,Va),Ai(wi,ee.F5.UAV_TRACE,ci),Ai(wi,ee.F5.UNAVAILABLE,(function(){return o.createElement("div",{key:"_hint",style:{position:"relative",height:48}},o.createElement(a.Z,{text:"This layer is unavailable under the license of the currently connected server."}))})),Ai(wi,ee.F5.UNTYPED,Si),wi),ji=function(e,t){if(!(e.type in ki))throw new Error("Cannot render settings for nonexistent layer type (".concat(e.type,")."));var r=ki[e.type];return o.createElement(r,{key:"".concat(t,"_settings"),layer:e,layerId:t})},Ci=(Ai(Ei={},ee.F5.BASE,H),Ai(Ei,ee.F5.BEACONS,fe),Ai(Ei,ee.F5.DOCKS,Ee),Ai(Ei,ee.F5.FEATURES,tt),Ai(Ei,ee.F5.GEOJSON,Ut),Ai(Ei,ee.F5.GRATICULE,Qt),Ai(Ei,ee.F5.HEATMAP,Hr),Ai(Ei,ee.F5.HEXGRID,pn),Ai(Ei,ee.F5.IMAGE,Nn),Ai(Ei,ee.F5.MISSION_INFO,Co),Ai(Ei,ee.F5.OWN_LOCATION,Do),Ai(Ei,ee.F5.TILE_SERVER,Qo),Ai(Ei,ee.F5.UAVS,Wa),Ai(Ei,ee.F5.UAV_TRACE,si),Ai(Ei,ee.F5.UNTYPED,Oi),Ei),Pi=function(e,t){if(!(e.type in Ci))throw new Error("Nonexistent layer type (".concat(e.type,") cannot be rendered."));var r=Ci[e.type];return o.createElement(r,xi({key:"".concat(e.id,"_rendered")},t,{layer:e,layerId:e.id}))}},93029:(e,t,r)=>{"use strict";r.d(t,{BX:()=>i,UA:()=>o,gV:()=>a});r(23157);var n=r(7371),o={SELECT:"select",ZOOM:"zoom",PAN:"pan",DRAW_POINT:"drawPoint",DRAW_CIRCLE:"drawCircle",DRAW_RECTANGLE:"drawRectangle",DRAW_PATH:"drawPath",DRAW_POLYGON:"drawPolygon",CUT_HOLE:"cutHole",EDIT_FEATURE:"editFeature"};function a(e){return e&&e.startsWith("draw")}function i(e,t){switch(e){case o.DRAW_POINT:return{type:"Point"};case o.DRAW_CIRCLE:return{type:"Circle"};case o.DRAW_RECTANGLE:return{geometryFunction:(0,n.nI)((function(){return t?-t.getView().getRotation():0})),type:"Circle"};case o.DRAW_PATH:return{type:"LineString"};case o.DRAW_POLYGON:return{type:"Polygon"};default:return{type:"Point"}}}},89785:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(61667),l=r.n(c),u=new URL(r(47821),r.b),s=new URL(r(35327),r.b),f=new URL(r(82250),r.b),p=new URL(r(16739),r.b),d=new URL(r(9838),r.b),h=new URL(r(16881),r.b),y=i()(o()),m=l()(u),v=l()(s),g=l()(f),b=l()(p),w=l()(d),E=l()(h);y.push([e.id,"@font-face {\n  font-family: 'DSEG14-Classic';\n  src: url("+m+") format('woff2'),\n  url("+v+") format('woff'),\n  url("+g+") format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: 'DSEG7-Classic';\n  src: url("+b+") format('woff2'),\n  url("+w+") format('woff'),\n  url("+E+") format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n",""]);const S=y},58421:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,'/**\n * CSS styling for <kbd> tags.\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2015 Auth0, Inc. <support@auth0.com> (http://auth0.com)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nkbd {\n  font-family: \'Fira Sans\', Arial, sans-serif;\n  display: inline-block;\n  border-radius: 3px;\n  padding: 0px 4px;\n  box-shadow: 1px 1px 1px #777;\n  margin: 2px;\n  background: #eee;\n  font-weight: normal;\n  color: #555;\n  cursor: pointer;\n\n  /* Prevent selection */\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\nkbd:hover, kbd:hover * {\n  color: black;\n  /* box-shadow: 1px 1px 1px #333; */\n}\nkbd:active, kbd:active * {\n  color: black;\n  box-shadow: 1px 1px 0px #ddd inset;\n}\n\nkbd kbd {\n  padding: 0px;\n  margin: 0 1px;\n  box-shadow: 0px 0px 0px black;\n  vertical-align: baseline;\n  background: none;\n}\n\nkbd kbd:hover {\n  box-shadow: 0px 0px 0px black;\n}\n\nkbd:active kbd {\n  box-shadow: 0px 0px 0px black;\n  background: none;\n}\n\n/* Deep blue */\nkbd.deep-blue, .deep-blue kbd {\n  background: steelblue;\n  color: #eee;\n}\n\nkbd.deep-blue:hover, kbd.deep-blue:hover *, .deep-blue kbd:hover {\n  color: white;\n}\n\n/* Dark apple */\nkbd.dark-apple, .dark-apple kbd {\n  background: black;\n  color: #ddd;\n}\n\nkbd.dark-apple:hover, kbd.dark-apple:hover *, .dark-apple kbd:hover {\n  color: white;\n}\n\n/* Type writer */\nkbd.type-writer, .type-writer kbd {\n  border-radius: 10px;\n  background: #333;\n  color: white;\n}\n',""]);const c=i},38556:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(61667),l=r.n(c),u=new URL(r(97376),r.b),s=new URL(r(69531),r.b),f=new URL(r(9465),r.b),p=i()(o()),d=l()(u),h=l()(s),y=l()(f);p.push([e.id,"@font-face {\n  font-family: 'Proggy Vector';\n  src: url("+d+") format('woff2'),\n  url("+h+") format('woff'),\n  url("+y+") format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n",""]);const m=p},79324:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a)()(o());i.push([e.id,'/*!\n * "Fork me on GitHub" CSS ribbon v0.2.3 | MIT License\n * https://github.com/simonwhitaker/corner-ribbon-css\n*/\n.corner-ribbon {\n  width: 12.1em;\n  height: 12.1em;\n  position: absolute;\n  overflow: hidden;\n  top: 0;\n  right: 0;\n  z-index: 9999;\n  pointer-events: none;\n  font-size: 13px;\n  text-decoration: none;\n  text-indent: -999999px;\n}\n.corner-ribbon.fixed {\n  position: fixed;\n}\n.corner-ribbon:hover,\n.corner-ribbon:active {\n  background-color: rgba(0, 0, 0, 0);\n}\n.corner-ribbon:before,\n.corner-ribbon:after {\n  /* The right and left classes determine the side we attach our banner to */\n  position: absolute;\n  display: block;\n  width: 15.38em;\n  height: 1.54em;\n  top: 3.23em;\n  right: -3.23em;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n.corner-ribbon:before {\n  content: \'\';\n  /* Add a bit of padding to give some substance outside the "stitching" */\n  padding: 0.38em 0;\n  /* Set the base colour */\n  background-color: #a00;\n  /* Set a gradient: transparent black at the top to almost-transparent black at the bottom */\n  background-image: -webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0)), to(rgba(0, 0, 0, 0.15)));\n  background-image: -webkit-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: -moz-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: -ms-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: -o-linear-gradient(top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));\n  /* Add a drop shadow */\n  -webkit-box-shadow: 0 0.15em 0.23em 0 rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 0 0.15em 0.23em 0 rgba(0, 0, 0, 0.5);\n  box-shadow: 0 0.15em 0.23em 0 rgba(0, 0, 0, 0.5);\n  pointer-events: auto;\n}\n.corner-ribbon:after {\n  /* Set the text from the data-ribbon attribute */\n  content: attr(data-ribbon);\n  /* Set the text properties */\n  color: #fff;\n  line-height: 1.54em;\n  text-decoration: none;\n  text-shadow: 0 -0.08em rgba(0, 0, 0, 0.5);\n  text-align: center;\n  text-indent: 0;\n  /* Set the layout properties */\n  padding: 0.15em 0;\n  margin: 0.15em 0;\n  /* Add "stitching" effect */\n  border-width: 0.08em 0;\n  border-style: dotted;\n  border-color: #fff;\n  border-color: rgba(255, 255, 255, 0.7);\n}\n.corner-ribbon.left-top,\n.corner-ribbon.left-bottom {\n  right: auto;\n  left: 0;\n}\n.corner-ribbon.left-bottom,\n.corner-ribbon.right-bottom {\n  top: auto;\n  bottom: 0;\n}\n.corner-ribbon.left-top:before,\n.corner-ribbon.left-top:after,\n.corner-ribbon.left-bottom:before,\n.corner-ribbon.left-bottom:after {\n  right: auto;\n  left: -3.23em;\n}\n.corner-ribbon.left-bottom:before,\n.corner-ribbon.left-bottom:after,\n.corner-ribbon.right-bottom:before,\n.corner-ribbon.right-bottom:after {\n  top: auto;\n  bottom: 3.23em;\n}\n.corner-ribbon.left-top:before,\n.corner-ribbon.left-top:after,\n.corner-ribbon.right-bottom:before,\n.corner-ribbon.right-bottom:after {\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n}\n',""]);const c=i},48620:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(61667),l=r.n(c),u=new URL(r(39204),r.b),s=new URL(r(22182),r.b),f=new URL(r(13493),r.b),p=new URL(r(940),r.b),d=new URL(r(33994),r.b),h=new URL(r(47221),r.b),y=new URL(r(49414),r.b),m=i()(o()),v=l()(u),g=l()(s),b=l()(f),w=l()(p),E=l()(d),S=l()(h),O=l()(y);m.push([e.id,"html,\nbody {\n  width: 100%;\n  height: 100%;\n}\nbody {\n  font-family: 'Fira Sans', Arial, sans-serif;\n  padding: 0px;\n  margin: 0px;\n  overflow: hidden;\n}\n/* Replace default monospaced font */\npre,\ncode {\n  font-family: 'Proggy Vector', 'Menlo', 'Consolas', 'DejaVu Sans Mono', 'Courier New', 'Courier', monospace;\n}\n/* Autocomplete highlights */\nmark {\n  background-color: yellow;\n  color: black;\n}\n/* Vertical centering */\n.vertical-center {\n  position: relative;\n  top: 50%;\n  -webkit-transform: perspective(1px) translateY(-50%);\n  -ms-transform: perspective(1px) translateY(-50%);\n  transform: perspective(1px) translateY(-50%);\n}\n/* Horizontal centering */\n.horizontal-center {\n  text-align: center;\n}\n/* Full (vertical + horizontal) centering */\n.full-center {\n  position: relative;\n  top: 50%;\n  -webkit-transform: perspective(1px) translateY(-50%);\n  -ms-transform: perspective(1px) translateY(-50%);\n  transform: perspective(1px) translateY(-50%);\n  text-align: center;\n}\n/* Mixin for styling boxes with drop shadows */\n/* Shadow settings for bottom bars commonly used on same panels */\n.bottom-bar {\n  box-shadow: rgba(0, 0, 0, 0.3) 0 -10px 10px -10px;\n  z-index: 10;\n}\n/* Drag proxy for the workbench */\n.drag-proxy {\n  height: 100%;\n  background: repeating-linear-gradient(-45deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0) 10px, rgba(0, 0, 0, 0.15) 10px, rgba(0, 0, 0, 0.15) 20px);\n}\n/* Root container for React */\n#root {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n/* Main workbench area of the root container */\n#workbench {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n/* Footer in which the lower buttons are placed */\n#footer {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  padding: 20px;\n}\n/* Map in the background of the main screen */\n#map {\n  width: 100%;\n  height: 100%;\n}\n/* Special styling for Material-UI lists that are placed within a\n * Dialog and whose left edge lines up with the left edge of the dialog. */\n.dialog-sidebar {\n  padding: 0 !important;\n  min-width: 240px;\n}\n/* Styling for selected list items in Material-UI */\n.selected-list-item {\n  color: #2196f3;\n  box-shadow: 5px 0px #2196f3 inset;\n}\n/* Autosuggestion lists */\n.react-autosuggest__suggestions-list {\n  list-style-type: none;\n  padding-left: 0;\n}\n/* Error panels */\n.error-panel {\n  background: #f4f4f4;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: column nowrap;\n  font-size: 14px;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  top: 0;\n  opacity: 0.5;\n  padding: 0 24px;\n  position: absolute;\n  text-align: center;\n  width: 100%;\n}\n.error-panel .error-icon {\n  padding-bottom: 12px;\n}\n.error-panel .button-bar {\n  padding-top: 24px;\n}\n.error-panel .button-bar button {\n  padding: 6px;\n  margin: 0 12px;\n}\n/* Widgets placed over the map */\n.widget {\n  position: absolute !important;\n  min-width: 48px;\n  min-height: 48px;\n  /* Title of widget */\n  /* Action bar of the widget (overlaid on top of it) */\n}\n.widget .title {\n  font-size: 10pt;\n  font-weight: bold;\n  text-transform: uppercase;\n  line-height: 24px;\n  height: 24px;\n}\n.widget .widget-action-bar {\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  transition: opacity 0.2s;\n  opacity: 0;\n}\n.widget:hover .widget-action-bar {\n  opacity: 1;\n}\n/* Add OpenLayers styling to the main map view. These selectors need to be more\n * specific than the ones in ol.css because ol.css is lazy-loaded when the\n * map is mounted, and we don't want it to override any of our styles */\n#main-map-view {\n  /* Styling for OpenLayers controls */\n  /* OpenLayers scale line should have a half-transparent \"box styling\" */\n  /* OpenLayers attribution widget should be in the lower right corner\n  * by default */\n}\n#main-map-view .ol-control {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n}\n#main-map-view .ol-control button {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  margin: 0px;\n  /* to fit the Material design better */\n  width: 24px;\n  /* 24px because Material buttons are 48px */\n  height: 24px;\n}\n#main-map-view .ol-control button:hover,\n#main-map-view .ol-control button:focus {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n}\n#main-map-view .ol-control.ol-full-screen {\n  right: auto;\n  top: 64px;\n  left: 8px;\n}\n#main-map-view .ol-control.ol-overviewmap {\n  bottom: 4em;\n}\n#main-map-view .ol-control.ol-rotate {\n  top: 4em;\n  right: auto;\n  left: 2.5em;\n}\n#main-map-view .ol-control.ol-zoomslider {\n  top: 4em;\n}\n#main-map-view .ol-control.ol-zoom-extent {\n  top: 4em;\n}\n#main-map-view .ol-scale-line {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n  bottom: 8px;\n  left: 8px;\n}\n#main-map-view .ol-scale-line-inner {\n  border-color: rgba(0, 0, 0, 0.87);\n  color: rgba(0, 0, 0, 0.87);\n}\n.key-control .tool-select #main-map-view .ol-viewport,\n.key-meta .tool-select #main-map-view .ol-viewport {\n  /* Path should be relative to LESS file otherwise it won't work in Electron */\n  cursor: url("+v+") 4 4, auto;\n}\n.key-shift .tool-select #main-map-view .ol-viewport {\n  cursor: url("+g+") 4 4, auto;\n}\n.key-alt .tool-select #main-map-view .ol-viewport {\n  cursor: url("+b+") 4 4, auto;\n}\n.tool-zoom #main-map-view .ol-viewport {\n  cursor: url("+w+") 9 9, auto;\n}\n.key-shift .tool-zoom #main-map-view .ol-viewport {\n  cursor: url("+E+") 9 9, auto;\n}\n.tool-pan #main-map-view .ol-viewport {\n  cursor: url("+S+") 12 12, auto;\n}\n.key-control .tool-pan #main-map-view .ol-viewport,\n.key-meta .tool-pan #main-map-view .ol-viewport {\n  cursor: url("+v+") 4 4, auto;\n}\n.key-shift .tool-pan #main-map-view .ol-viewport {\n  cursor: url("+w+") 9 9, auto;\n}\n.key-shift.key-alt .tool-pan #main-map-view .ol-viewport {\n  cursor: url("+O+") 12 12, auto;\n}\n#main-map-view .ol-dragbox,\n#main-map-view .ol-dragzoom {\n  background-color: rgba(0, 136, 255, 0.25);\n  border: 1px solid #08f;\n}\n#main-map-view .ol-attribution {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n  left: 8px;\n  bottom: 32px;\n  right: unset;\n}\n#main-map-view .ol-attribution ul {\n  color: rgba(0, 0, 0, 0.54);\n}\n#main-map-view .ol-attribution ul a,\n#main-map-view .ol-attribution ul a:hover,\n#main-map-view .ol-attribution ul a:active,\n#main-map-view .ol-attribution ul a:visited {\n  color: rgba(0, 0, 0, 0.87);\n  text-decoration: none;\n  text-shadow: none;\n}\n#main-map-view .ol-attribution.ol-uncollapsible {\n  border: 0 !important;\n  border-radius: 0 !important;\n  left: 0px;\n  bottom: 0px;\n  right: 0px;\n  max-width: unset;\n}\n#main-map-view .ol-mouse-position {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n  top: auto;\n  right: 8px;\n  bottom: 8px;\n  padding: 10px !important;\n  min-width: 175px;\n  text-align: right;\n}\n/* Styling for the heatmap scale */\n#heatmapScale {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  position: absolute;\n  left: 8px;\n  bottom: 30px;\n  width: 28px;\n  height: 200px;\n}\n#heatmapScale span {\n  background-color: rgba(200, 200, 200, 0.75);\n  position: relative;\n  left: 40px;\n  margin-right: auto;\n  padding: 2px;\n  white-space: nowrap;\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n#heatmapScale span:after {\n  display: block;\n  content: '';\n  position: absolute;\n  left: -12px;\n  top: 0px;\n  border-style: solid;\n  border-width: 12px 12px 12px 0;\n  border-color: transparent rgba(200, 200, 200, 0.75);\n}\n/* Styling for popup color pickers */\n.popup-color-picker {\n  display: inline-block;\n  vertical-align: middle;\n}\n.popup-color-picker .popup-color-picker-button {\n  min-height: 3ex;\n  width: 3em;\n  border: 1px solid rgba(0, 0, 0, 0.35);\n  cursor: pointer;\n}\n.popup-color-picker .popup-color-picker-dropdown {\n  background-color: #ffffff;\n  color: rgba(0, 0, 0, 0.87);\n  padding: 0 !important;\n  border-radius: 2px !important;\n  box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\n}\n/* Styling for the UAV count monitor */\n.coloredContainer span {\n  opacity: 0;\n  letter-spacing: -10px;\n  transition: letter-spacing 0.5s, opacity 0.2s;\n}\n.coloredContainer:hover span {\n  opacity: 1;\n  letter-spacing: normal;\n}\n/* Tour customization */\n.reactour__close {\n  transform: scale(150%);\n}\n/* Color picker customization */\n.swatches-picker.borderless > div:first-child {\n  margin: -16px 0 -6px -16px;\n}\n.swatches-picker.borderless > div:first-child > div:first-child {\n  background: transparent !important;\n  box-shadow: none !important;\n}\n/* Markdown editor customization for the \"Field notes\" panel */\n.EasyMDEContainer {\n  height: 100%;\n}\n.EasyMDEContainer .CodeMirror {\n  height: 100% !important;\n  border: none !important;\n  padding: 4px !important;\n}\n.EasyMDEContainer .CodeMirror .CodeMirror-scroll {\n  min-height: unset !important;\n}\n.EasyMDEContainer .CodeMirror .cm-link {\n  color: #4fadf8 !important;\n}\n",""]);const x=m},74809:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(61667),l=r.n(c),u=new URL(r(85902),r.b),s=i()(o()),f=l()(u);s.push([e.id,".tippy-box[data-theme~='dark-border'] {\n  background-color: #222;\n  background-clip: padding-box;\n  border: 1px solid rgba(128, 124, 120, 0.15);\n  color: white;\n  box-shadow: 0 4px 14px -2px rgba(0, 8, 16, 0.4);\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-backdrop {\n  background-color: #222;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-arrow:after,\n.tippy-box[data-theme~='dark-border'] > .tippy-svg-arrow:after {\n  content: '';\n  position: absolute;\n  z-index: -1;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-arrow:after {\n  border-color: transparent;\n  border-style: solid;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-arrow:before {\n  border-top-color: #222;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-arrow:after {\n  border-top-color: rgba(0, 8, 16, 0.2);\n  border-width: 7px 7px 0;\n  top: 17px;\n  left: 1px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-svg-arrow > svg {\n  top: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='top'] > .tippy-svg-arrow:after {\n  top: 17px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-arrow:before {\n  border-bottom-color: #222;\n  bottom: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-arrow:after {\n  border-bottom-color: rgba(0, 8, 16, 0.2);\n  border-width: 0 7px 7px;\n  bottom: 17px;\n  left: 1px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-svg-arrow > svg {\n  bottom: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='bottom'] > .tippy-svg-arrow:after {\n  bottom: 17px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-arrow:before {\n  border-left-color: #222;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-arrow:after {\n  border-left-color: rgba(0, 8, 16, 0.2);\n  border-width: 7px 0 7px 7px;\n  left: 17px;\n  top: 1px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-svg-arrow > svg {\n  left: 11px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='left'] > .tippy-svg-arrow:after {\n  left: 12px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-arrow:before {\n  border-right-color: #222;\n  right: 16px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-arrow:after {\n  border-width: 7px 7px 7px 0;\n  right: 17px;\n  top: 1px;\n  border-right-color: rgba(0, 8, 16, 0.2);\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-svg-arrow > svg {\n  right: 11px;\n}\n.tippy-box[data-theme~='dark-border'][data-placement^='right'] > .tippy-svg-arrow:after {\n  right: 12px;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-svg-arrow {\n  fill: #222;\n}\n.tippy-box[data-theme~='dark-border'] > .tippy-svg-arrow:after {\n  background-image: url("+f+");\n  background-size: 16px 6px;\n  width: 16px;\n  height: 6px;\n}\n",""]);const p=s},7197:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(8081),o=r.n(n),a=r(23645),i=r.n(a),c=r(42806),l=r(88955),u=r(38249),s=r(61667),f=r.n(s),p=new URL(r(22367),r.b),d=i()(o());d.i(c.Z),d.i(l.Z),d.i(u.Z);var h=f()(p);d.push([e.id,"/* Styling for the global workbench component, currently implemented\n * using golden-layout */\n/* Make the panels scrollable */\nbody .lm_content {\n  overflow-y: auto;\n  background-color: white;\n}\n/* Fix the background color of the panel bodies and the tabs */\nbody .lm_header .lm_tab {\n  background-color: #ddd;\n}\nbody .lm_header .lm_tab.lm_active {\n  background-color: white;\n}\n/* Prevent selection in the panel titles */\n.lm_title {\n  user-select: none;\n}\n/* Settings button */\n.lm_controls .lm_settings {\n  background-image: url("+h+");\n}\n/* Icon styling in workbench-related components */\n.wb-icon {\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n  width: 48px;\n  height: 48px;\n  padding: 12px;\n  box-sizing: border-box;\n}\n.wb-module {\n  padding: 0 !important;\n  white-space: nowrap;\n}\n.wb-module .wb-module-label {\n  margin-right: 15px;\n  white-space: nowrap;\n}\n/* Horizontal separators in sidebar */\n#sidebar hr {\n  width: 100%;\n  height: 1px;\n  margin: 0.25em 0;\n  border: none;\n  background: #424242;\n  box-shadow: 0 -1px 4px rgba(0, 0, 0, 0.65);\n}\n/* Vertical separators in header */\n#header-inner > hr {\n  align-self: stretch;\n  width: 1px;\n  margin: 0 0.25em;\n  border: none;\n  background: #424242;\n  box-shadow: -1px 0 4px rgba(0, 0, 0, 0.65);\n}\n.wb-modification-indicator {\n  font-size: 10px;\n  text-align: center;\n  user-select: none;\n}\n/* Perspective switching in header */\n.wb-perspective-bar {\n  background: linear-gradient(to right, transparent 0%, rgba(0, 0, 0, 0.25) 80%, rgba(0, 0, 0, 0.4) 100%);\n  flex: 1;\n  justify-content: left;\n  border-right: 1px solid #424242;\n  border-bottom: 1px solid #424242;\n  overflow-x: auto;\n}\n.wb-perspective-bar-item {\n  margin: 0 !important;\n}\n.wb-perspective-bar button {\n  border-bottom: 3px solid transparent;\n  border-radius: 0;\n  font-size: 14px !important;\n  /* consistent with sidebar */\n  height: 100%;\n  background: unset;\n  box-shadow: unset;\n  padding: 7px 8px 4px 8px;\n  /* padding higher at the top to compensate for border at bottom */\n}\n.wb-perspective-bar .wb-perspective-selected button {\n  background: linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.25) 100%);\n  border-bottom: 3px solid #03a9f4;\n  /* Material UI lightBlue[500] */\n}\n.wb-perspective-bar button:hover {\n  /* styling same as for GenericHeaderButton */\n  background: linear-gradient(to bottom, #06c 0%, #25a 100%);\n  border-bottom: 3px solid #03a9f4;\n  /* Material UI lightBlue[500] */\n}\n/* Disable draggable splitters for fixed layouts */\n.workbench-fixed .lm_splitter,\n.workbench-fixed .lm_tab {\n  pointer-events: none;\n}\n",""]);const y=d},87009:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),h=r.n(d),y=r(89785),m={};m.styleTagTransform=h(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(y.Z,m);const v=y.Z&&y.Z.locals?y.Z.locals:void 0},23008:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),h=r.n(d),y=r(58421),m={};m.styleTagTransform=h(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(y.Z,m);const v=y.Z&&y.Z.locals?y.Z.locals:void 0},66901:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),h=r.n(d),y=r(38556),m={};m.styleTagTransform=h(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(y.Z,m);const v=y.Z&&y.Z.locals?y.Z.locals:void 0},38439:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),h=r.n(d),y=r(48620),m={};m.styleTagTransform=h(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(y.Z,m);const v=y.Z&&y.Z.locals?y.Z.locals:void 0},144:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),h=r.n(d),y=r(74809),m={};m.styleTagTransform=h(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(y.Z,m);const v=y.Z&&y.Z.locals?y.Z.locals:void 0},20221:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var n=r(93379),o=r.n(n),a=r(7795),i=r.n(a),c=r(90569),l=r.n(c),u=r(3565),s=r.n(u),f=r(19216),p=r.n(f),d=r(44589),h=r.n(d),y=r(7197),m={};m.styleTagTransform=h(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p();o()(y.Z,m);const v=y.Z&&y.Z.locals?y.Z.locals:void 0},48340:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAJCAYAAADpeqZqAAAAWklEQVR4nJWOyw3AIAxDHcQC7L8jbwT3AlJBfNp3SiI7dtRaLSlKKeoA1oEsKSQZCEluexw8Tm3ohk+E7bnOUHUGcNh+HwbBygw4AZ7FN/Lt84p0l+yTflV8AKQyLdcCRJi/AAAAAElFTkSuQmCC"},44456:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAIklEQVR4nGNgYGD4z4Ad/Mdg4ODDBXCZRFgCp5EEHQMXBwAQAgz0SVCcggAAAABJRU5ErkJggg=="},22367:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAFUlEQVQY02NgGJzgPxTjZDMNQkcDAOi4Bf2rdMdGAAAAAElFTkSuQmCC"},52988:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAIklEQVR4nGNkYGD4z0AAMBFSAAOETPpPlEmDUREjAxHhBABPvAQLFv3qngAAAABJRU5ErkJggg=="},43737:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAJklEQVR4nGP8//8/AyHARFDFUFbEwsDAwMDIyIgzHP7//89IlEkApSkHEScJTKoAAAAASUVORK5CYII="},64636:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAKUlEQVR4nGNgYGD4z4Af/Mdg4FKASwCnDf8JKSBoAtEmEXQTQd8RDCcA6+4Q8OvIgasAAAAASUVORK5CYII="},57869:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAANUlEQVR4nI2QMQoAMAwCz5L/f9mOzZIaN0E9UDyZhaaQz6atgBHgambEJ5wBKoS0WaIvfT+6K2MIECN19MAAAAAASUVORK5CYII="},86393:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAGFBMVEX29vb19fXw8PDy8vL09PTz8/Pv7+/x8fGKuegbAAAAyUlEQVR42pXRQQ7CMBRDwST9pfe/MahEmgURbt7WmpVb6+vG0dd9REnn66xRy/qXiCgmEIIJhGACIZhACCYQgvlDCDFIEAwSBIMEwSBBMEgQDBIEgwTBIEEwCJEMQiSDENFMQmQzCZEbNyGemd6KeGZ6u4hnXe2qbdLHFjhf1XqNLXHev4wdMd9nspiEiWISJgqECQJhgkCYIBAmCIQJAmGCQJggECYJhAkCEUMEwhCBMEQgDJEIQ2RSg0iEIRJhiB/S+rrjqvXQ3paIJUgPBXxiAAAAAElFTkSuQmCC"},27513:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},33646:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},85581:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},90576:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},85902:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCA2czEuNzk2LS4wMTMgNC42Ny0zLjYxNUM1Ljg1MS45IDYuOTMuMDA2IDggMGMxLjA3LS4wMDYgMi4xNDguODg3IDMuMzQzIDIuMzg1QzE0LjIzMyA2LjAwNSAxNiA2IDE2IDZIMHoiIGZpbGw9InJnYmEoMCwgOCwgMTYsIDAuMikiLz48L3N2Zz4="},22182:(e,t,r)=>{"use strict";e.exports=r.p+"756a5d1d3cefa357cddd.png"},47221:(e,t,r)=>{"use strict";e.exports=r.p+"accfa46338ac100df097.png"},13493:(e,t,r)=>{"use strict";e.exports=r.p+"746c5b26af66e0ec66a2.png"},49414:(e,t,r)=>{"use strict";e.exports=r.p+"95ccd0f851a9715276ce.png"},39204:(e,t,r)=>{"use strict";e.exports=r.p+"0f2bf7a72d52c52151d0.png"},940:(e,t,r)=>{"use strict";e.exports=r.p+"c1c64df77b3cc7dc595a.png"},33994:(e,t,r)=>{"use strict";e.exports=r.p+"17aa0f96c6a6c12802d0.png"},82250:(e,t,r)=>{"use strict";e.exports=r.p+"a0ffa3fec5fb5d4576e3.ttf"},35327:(e,t,r)=>{"use strict";e.exports=r.p+"4fee81dc0969cba3673c.woff"},47821:(e,t,r)=>{"use strict";e.exports=r.p+"04ec25f00ae3dd879b4f.woff2"},16881:(e,t,r)=>{"use strict";e.exports=r.p+"3e448884afe00630c246.ttf"},9838:(e,t,r)=>{"use strict";e.exports=r.p+"fd1931c83fb432d22683.woff"},16739:(e,t,r)=>{"use strict";e.exports=r.p+"c21727b877af05fcd8e8.woff2"},9465:(e,t,r)=>{"use strict";e.exports=r.p+"d1d8bc4c326ab51962ca.ttf"},69531:(e,t,r)=>{"use strict";e.exports=r.p+"188265e96597209b2b7c.woff"},97376:(e,t,r)=>{"use strict";e.exports=r.p+"b4e7a0530d8f59d6bf37.woff2"},33471:()=>{},52523:()=>{},80950:()=>{},46601:()=>{},69948:()=>{},8623:()=>{},32446:()=>{},85568:()=>{},77020:()=>{},56619:()=>{},77108:()=>{},52361:()=>{},94616:()=>{}}]);